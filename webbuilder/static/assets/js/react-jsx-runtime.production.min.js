 /**
     * @license React
     * react-jsx-runtime.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */
wf.exports=function(){if(xf)return jf;xf=1;var e=l,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(e,n,a){var s,l={},c=null,u=null;for(s in void 0!==a&&(c=""+a),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(u=n.ref),n)r.call(n,s)&&!i.hasOwnProperty(s)&&(l[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps)void 0===l[s]&&(l[s]=n[s]);return{$$typeof:t,type:e,key:c,ref:u,props:l,_owner:o.current}}return jf.Fragment=n,jf.jsx=a,jf.jsxs=a,jf}();var Sf=wf.exports;const Cf=s.createContext(null),kf=({children:e})=>{const[t,n]=s.useState({setEditor:e=>{n((t=>({...t,editor:e})))}});return Sf.jsx(Cf.Provider,{value:t,children:e})},Ef=()=>{const e=s.useContext(Cf);if(!e)throw new Error("useEditorInstance must be used within EditorInstanceProvider");return e},_f=()=>{const{editor:e}=Ef();if(!e)throw new Error("useEditor used before the load of the editor instance. You can wrap your component in `<WithEditor>` or make use of `useEditorMaybe` hook and ensure the `editor` exists.");return e},Of=()=>Ef().editor,Tf=s.createContext(null),Pf=({children:e})=>{const[t,n]=s.useState((()=>({setRefCanvas(e){n((t=>({...t,refCanvas:e})))},setCustomModal(e){n((t=>({...t,customModal:e})))},setCustomAssets(e){n((t=>({...t,customAssets:e})))},setCustomBlocks(e){n((t=>({...t,customBlocks:e})))},setCustomRte(e){n((t=>({...t,customRte:e})))},setCustomStyles(e){n((t=>({...t,customStyles:e})))},setCustomLayers(e){n((t=>({...t,customLayers:e})))},setCustomSelectors(e){n((t=>({...t,customSelectors:e})))},setCustomTraits(e){n((t=>({...t,customTraits:e})))},setReady(e){n((t=>({...t,ready:e})))}})));return Sf.jsx(Tf.Provider,{value:t,children:e})},Nf=()=>{const e=s.useContext(Tf);if(!e)throw new Error("useEditorOptions must be used within EditorOptionsProvider");return e};function Lf(e){return"function"==typeof e}function Mf(){}const Rf=e=>"string"==typeof e,Af=e=>{const t=Rf(e)?{id:e,src:e}:e;return new Promise(((e,n)=>{const r=document.createElement("script");if(document.querySelector(`script[src="${t.src}"]`))return e(t.id);r.src=t.src,r.onload=()=>e(t.id),r.onerror=()=>n(t.id),document.head.appendChild(r)}))},zf=e=>function(){const t=s.useRef(null);return s.useEffect((()=>{const{current:n}=t;n&&(Rf(e)?n.innerHTML=e:n.appendChild(e))}),[t.current]),Sf.jsx("div",{ref:t})},Hf=new WeakMap;function Df(e){if(!e)return()=>null;const t=Hf.get(e);if(t)return t;const n=function({children:t}){return x.createPortal(t,e)};return Hf.set(e,n),n}const If=s.memo((function({children:e}){const{editor:t}=Ef(),n=Nf(),[r,o]=s.useState(!1),[i,a]=s.useState({assets:[],types:[],close:()=>{},select:()=>{},Container:()=>null});return s.useEffect((()=>{if(!t)return;const e=t.Assets.events.custom,n=({open:e,assets:t,types:n,select:r,close:i,container:s})=>{e&&a({assets:t,types:n,select:r,close:i,Container:Df(s)}),o(e)};return t.on(e,n),()=>{t.off(e,n)}}),[t]),s.useEffect((()=>n.setCustomAssets(!0)),[]),t&&Lf(e)?e({open:r,...i}):null}));function Vf({children:e,...t}){const n=Nf(),r=s.useRef(null);return s.useEffect((()=>{r.current&&n.setRefCanvas(r.current)}),[r.current]),Sf.jsx("div",{...t,ref:r,children:e})}s.memo((function({children:e}){const{editor:t}=Ef(),n=Nf(),[r,o]=s.useState((()=>({blocks:[],dragStart:Mf,dragStop:Mf,mapCategoryBlocks:new Map,Container:()=>null})));return s.useEffect((()=>{if(!t)return;const e=t.Blocks.events.custom,n=({blocks:e,container:t,dragStart:n,dragStop:r})=>{const i=e.reduce(((e,t)=>{const n=t.getCategoryLabel(),r=e.get(n);return r?r.push(t):e.set(n,[t]),e}),new Map);o({blocks:e,dragStart:n,dragStop:r,mapCategoryBlocks:i,Container:Df(t)})};return t.on(e,n),t.Blocks.__trgCustom(),()=>{t.off(e,n)}}),[t]),s.useEffect((()=>n.setCustomBlocks(!0)),[]),t&&Lf(e)?e(r):null}));const Bf=s.memo((function({children:e}){const{editor:t}=Ef(),[n,r]=s.useState((()=>({devices:[],selected:"",select:Mf})));return s.useEffect((()=>{if(!t)return;const{Devices:e}=t,n=e.events.all,o=()=>{var t;r({devices:e.getDevices(),selected:null==(t=e.getSelected())?void 0:t.id,select:t=>e.select(t)})};return t.on(n,o),o(),()=>{t.off(n,o)}}),[t]),t&&Lf(e)?e(n):null}));async function $f(e){const t=e.map((({id:e,src:t})=>({id:e,src:t}))),n=e.reduce(((e,t)=>(e[t.id]=t,e)),{}),r=[],o=[];return(await(e=>{const t=e.map((e=>Af(e)));return Promise.allSettled(t)})(t)).forEach((e=>{"fulfilled"===e.status?r.push(n[e.value]):o.push(n[e.reason])})),{loaded:r,failed:o}}const Ff=async e=>{const t=[...e],n={};if(t.length){const e={},r=[];if(t.forEach(((t,n)=>{(e=>!(!e||Array.isArray(e)||"object"!=typeof e))(t)&&(e[t.id]={index:n},r.push(t))})),r.length){const{loaded:t}=await $f(r);t.forEach((({id:t,options:r})=>{e[t].loaded=!0,n[t]=r||{}}))}Object.keys(e).forEach((n=>{const r=e[n];r.loaded?t[r.index]=n:t[r.index]=!1}))}return{plugins:t.filter(Boolean),pluginOptions:n}},Uf=s.memo((function({children:e,className:t,style:n,options:r={},plugins:o=[],grapesjs:i,grapesjsCss:a,onEditor:l=Mf,onReady:c,onUpdate:u,waitReady:d,...p}){const{setEditor:f}=Ef(),h=Nf(),[g,m]=s.useState(!1),v=s.useRef(null);s.useEffect((()=>{if(!h.ready||!v.current)return;const e=v.current,t=h.refCanvas;let n,s={},d=[];const p=o=>{const i={height:"100%",...r,plugins:[...d,...r.plugins||[]],pluginsOpts:{...r.pluginsOpts,...s},modal:{...r.modal,custom:!!h.customModal},assetManager:{...r.assetManager,custom:!!h.customAssets},styleManager:{...r.styleManager,custom:!!h.customStyles},blockManager:{...r.blockManager,custom:!!h.customBlocks},richTextEditor:{...r.richTextEditor,custom:!!h.customRte},layerManager:{...r.layerManager,custom:!!h.customLayers},traitManager:{...r.traitManager,custom:!!h.customTraits},selectorManager:{...r.selectorManager,custom:!!h.customSelectors},container:t||e,customUI:!!t,...t?{panels:{defaults:[]}}:{}};n=o.init(i),f(n),l(n),u&&n.on("update",(()=>{u(n.getProjectData(),n)})),n.onReady((()=>{m(!0),null==c||c(n)}))};return(async()=>{a&&await(async e=>{const t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)})(a);const e=await Ff(o);d=e.plugins,s=e.pluginOptions,"string"==typeof i?(await Af(i),p(window.grapesjs)):p(i)})(),()=>null==n?void 0:n.destroy()}),[h.ready]);const b=r.height??"100%",y=r.width??"100%",x=function(...e){return(Array.isArray(e[0])?e[0]:[...e]).filter(Boolean).join(" ")}("gjs-editor-wrapper",t),w=d&&!g,j=s.useMemo((()=>({...n,height:b,width:y})),[b,y,n]),S=s.useMemo((()=>({...j,...w?{opacity:0,width:0,height:0}:{}})),[j,w]);return Sf.jsxs(Sf.Fragment,{children:[d&&!g?Sf.jsx("div",{className:x,style:j,children:d}):null,Sf.jsx("div",{...p,ref:v,className:x,style:S,children:e})]})})),Wf=s.memo((function(){const e=Nf();return s.useEffect((()=>e.setReady(!0)),[]),Sf.jsx(Sf.Fragment,{})})),Kf=s.memo((function({children:e,...t}){return Sf.jsx(kf,{children:Sf.jsx(Pf,{children:Sf.jsxs(Uf,{...t,children:[e,Sf.jsx(Wf,{})]})})})})),qf=s.memo((function({children:e}){const{editor:t}=Ef(),n=Nf(),[r,o]=s.useState((()=>({root:void 0,Container:()=>null})));return s.useEffect((()=>{if(!t)return;const{Layers:e}=t,n=e.events.custom,r=({container:t})=>{o({root:e.getRoot(),Container:Df(t)})};return t.on(n,r),e.__trgCustom({}),()=>{t.off(n,r)}}),[t]),s.useEffect((()=>n.setCustomLayers(!0)),[]),t&&Lf(e)?e(r):null})),Gf=s.memo((function({children:e}){const{editor:t}=Ef(),n=Nf(),[r,o]=s.useState(!1),[i,a]=s.useState({title:Sf.jsx(Sf.Fragment,{}),content:Sf.jsx(Sf.Fragment,{}),attributes:{},close:Mf});return s.useEffect((()=>{if(!t)return;const e="modal",n=({open:e,title:t,content:n,close:r,attributes:i})=>{e&&a({title:s.createElement(zf(t)),content:s.createElement(zf(n)),attributes:i,close:r}),o(e)};return t.on(e,n),()=>{t.off(e,n)}}),[t]),s.useEffect((()=>n.setCustomModal(!0)),[]),t&&"function"==typeof e?e({open:r,...i}):null})),Yf=s.memo((function({children:e}){const{editor:t}=Ef(),[n,r]=s.useState((()=>({pages:[],selected:void 0,select:Mf,add:Mf,remove:Mf})));return s.useEffect((()=>{if(!t)return;const{Pages:e}=t,n=e.events.all,o=()=>{r({pages:e.getAll(),selected:e.getSelected(),select:(...t)=>e.select(...t),add:(...t)=>e.add(...t),remove:(...t)=>e.remove(...t)})};return t.on(n,o),o(),()=>{t.off(n,o)}}),[t]),t&&Lf(e)?e(n):null})),Zf=s.memo((function({children:e}){const{editor:t}=Ef(),n=Nf(),[r,o]=s.useState((()=>({selectors:[],states:[],selectedState:"",targets:[],addSelector:Mf,removeSelector:Mf,setState:Mf,Container:()=>null})));return s.useEffect((()=>{if(!t)return;const{Selectors:e}=t,n=e.events.custom,r=({container:t})=>{o({selectors:e.getSelected(),states:e.getStates(),selectedState:e.getState(),targets:e.getSelectedTargets().map((e=>e.getSelectorsString())),addSelector:(...t)=>e.addSelected(...t),removeSelector:(...t)=>e.removeSelected(...t),setState:(...t)=>e.setState(...t),Container:Df(t)})};return t.on(n,r),()=>{t.off(n,r)}}),[t]),s.useEffect((()=>n.setCustomSelectors(!0)),[]),t&&Lf(e)?e(r):null})),Xf=s.memo((function({children:e}){const{editor:t}=Ef(),n=Nf(),[r,o]=s.useState((()=>({sectors:[],Container:()=>null})));return s.useEffect((()=>{if(!t)return;const{Styles:e}=t,n=e.events.custom,r=({container:t})=>{o({sectors:e.getSectors({visible:!0}),Container:Df(t)})};return t.on(n,r),()=>{t.off(n,r)}}),[t]),s.useEffect((()=>n.setCustomStyles(!0)),[]),t&&Lf(e)?e(r):null})),Qf=s.memo((function({children:e}){const{editor:t}=Ef(),n=Nf(),[r,o]=s.useState((()=>({traits:[],Container:()=>null})));return s.useEffect((()=>{if(!t)return;const{Traits:e}=t,n=e.events.custom,r=({container:t})=>{o({traits:e.getCurrent(),Container:Df(t)})};return t.on(n,r),e.__trgCustom(),()=>{t.off(n,r)}}),[t]),s.useEffect((()=>n.setCustomTraits(!0)),[]),t&&Lf(e)?e(r):null})),Jf=({children:e})=>Of()?Sf.jsx(Sf.Fragment,{children:e}):null,eh="gs-cmp-accordion",th=`${eh}-handler`,nh=`${eh}-content`;function rh({className:e,classNameWrap:t,handler:n,children:r,inverted:o,disabled:i,sticky:a,open:s}){return h.jsxs(Ul,{as:"div",defaultOpen:s,className:xo(eh,t,"relative"),children:[h.jsx(Ul.Button,{disabled:i,className:({open:t})=>xo(th,"function"==typeof e?e(t):e,a&&"sticky top-0 z-10","w-full"),children:({open:e})=>h.jsxs(Uo,{items:"center",className:xo("gap-2"),full:!0,children:[h.jsx(Wo,{className:xo("text-left"),grow:!0,children:"function"==typeof n?n(e):n}),h.jsx(Wo,{className:xo(o&&"-order-1",i&&"gs-utl-hidden"),children:h.jsx(si,{icon:ii.chevronDown,className:xo("w-5 h-5 transition-transform",e&&"rotate-180")})})]})}),h.jsx(Ul.Panel,{className:xo(nh),children:r})]})}function oh({label:e,property:t,hasValue:n,empty:r,onClear:o,children:i,shallow:a,row:s,tooltip:l,className:c,...u}){const d=e||(null==t?void 0:t.getLabel()),p=null==t?void 0:t.getParentTarget(),f=n||!r&&(null==t?void 0:t.hasValue({noParent:!0})),g=!f&&(null==t?void 0:t.hasValue())&&p,m=null==p?void 0:p.getDevice(),v=null==p?void 0:p.getState(),b=null==p?void 0:p.getComponent(),y={className:xo(c,"text-sm w-full"),col:!s,items:s?"center":void 0,...u};return h.jsx(h.Fragment,{children:h.jsxs(Uo,{...y,children:[h.jsx(Wo,{grow:!0,children:h.jsxs(Uo,{as:"label",items:"center",space:"xs",className:xo("block",!s&&"gjs-mb-1",f&&!a&&ci.tAo),children:[l&&h.jsx(Wo,{children:h.jsx(Fu,{title:l,children:h.jsx(si,{icon:ii.information,size:bi.sx})})}),h.jsx(Wo,{children:r?h.jsx("span",{children:" "}):d}),!!g&&!a&&h.jsx(Fu,{title:h.jsxs(h.Fragment,{children:[h.jsx("div",{className:xo("gjs-mb-1"),children:"Value inherited from"}),!!m&&h.jsxs(Uo,{space:"s",children:[h.jsx(Wo,{children:h.jsx(si,{icon:ii.cellphoneLink,size:bi.sx})}),h.jsx(Wo,{children:h.jsx("b",{children:m.getName()})})]}),h.jsxs(Uo,{space:"s",children:[h.jsx(Wo,{children:h.jsx(si,{icon:b?ii.targetVariant:ii.tag,size:bi.sx})}),h.jsxs(Wo,{children:[h.jsx("b",{children:b?"Components":"Selectors"}),h.jsxs("span",{className:xo("text-xs opacity-75"),children:[" ",null==p?void 0:p.selectorsToString({skipState:1})]})]})]}),!!v&&h.jsxs(Uo,{space:"s",children:[h.jsx(Wo,{children:h.jsx(si,{icon:ii.flare,size:bi.sx})}),h.jsx(Wo,{children:h.jsx("b",{children:v.getLabel()})})]})]}),children:h.jsx("div",{className:xo("gs-utl-w-[6px] gs-utl-h-[6px] gjs-rounded-full",ci.bgW)})}),f&&!a&&h.jsx(Fu,{title:"Clear value",onClick:()=>o?o():null==t?void 0:t.clear(),children:h.jsx(si,{className:xo(yi.click),icon:ii.close,size:bi.s2x})})]})}),h.jsx(Wo,{grow:!0,className:xo("max-w-full"),children:i})]})})}function ih({className:e,options:t,label:n,value:r,size:o="m",onChange:i}){const a=(e,n)=>xo("cursor-pointer","m"===o&&fi.xy,"s"===o&&"gs-utl-px-2 gs-utl-py-1.5 text-sm","xs"===o&&"gs-utl-px-2 gs-utl-py-1 text-sm",ci.br,e&&ci.bgO,!(e=>{const n=t.filter((t=>t.id===e))[0];return t.indexOf(n)===t.length-1})(n)&&mi.br);return h.jsxs(Gc,{value:r,onChange:i,className:xo("gs-field-buttons w-full"),children:[!!n&&h.jsx($p,{size:o,children:n}),h.jsx(Uo,{className:xo(e,mi.b,mi.rnd,ci.br,"cursor-pointer"),items:"center",full:!0,nowrap:!0,children:t.map((({id:e,label:t,title:n,icon:r})=>h.jsx(Fu,{title:n,className:xo("w-full"),classNameWrp:xo("flex-1"),children:h.jsx(Gc.Option,{value:e,className:({checked:t})=>a(t,e),children:h.jsxs(Uo,{justify:"center",space:"s",full:!0,children:[!!r&&h.jsx(si,{icon:r,size:bi.s}),t&&h.jsx(Wo,{children:t})]})})},e)))})]})}var ah={grad:.9,turn:360,rad:360/(2*Math.PI)},sh=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},lh=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},ch=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},uh=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},dh=function(e){return{r:ch(e.r,0,255),g:ch(e.g,0,255),b:ch(e.b,0,255),a:ch(e.a)}},ph=function(e){return{r:lh(e.r),g:lh(e.g),b:lh(e.b),a:lh(e.a,3)}},fh=/^#([0-9a-f]{3,8})$/i,hh=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},gh=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),a=i-Math.min(t,n,r),s=a?i===t?(n-r)/a:i===n?2+(r-t)/a:4+(t-n)/a:0;return{h:60*(s<0?s+6:s),s:i?a/i*100:0,v:i/255*100,a:o}},mh=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),a=r*(1-n),s=r*(1-(t-i)*n),l=r*(1-(1-t+i)*n),c=i%6;return{r:255*[r,s,a,a,l,r][c],g:255*[l,r,r,s,a,a][c],b:255*[a,a,l,r,r,s][c],a:o}},vh=function(e){return{h:uh(e.h),s:ch(e.s,0,100),l:ch(e.l,0,100),a:ch(e.a)}},bh=function(e){return{h:lh(e.h),s:lh(e.s),l:lh(e.l),a:lh(e.a,3)}},yh=function(e){return mh((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},xh=function(e){return{h:(t=gh(e)).h,s:(o=(200-(n=t.s))*(r=t.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,r,o},wh=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jh=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Sh=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ch=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,kh={string:[[function(e){var t=fh.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?lh(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?lh(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=Sh.exec(e)||Ch.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:dh({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=wh.exec(e)||jh.exec(e);if(!t)return null;var n,r,o=vh({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(ah[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return yh(o)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=void 0===o?1:o;return sh(t)&&sh(n)&&sh(r)?dh({r:Number(t),g:Number(n),b:Number(r),a:Number(i)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,o=e.a,i=void 0===o?1:o;if(!sh(t)||!sh(n)||!sh(r))return null;var a=vh({h:Number(t),s:Number(n),l:Number(r),a:Number(i)});return yh(a)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,o=e.a,i=void 0===o?1:o;if(!sh(t)||!sh(n)||!sh(r))return null;var a,s=(a={h:Number(t),s:Number(n),v:Number(r),a:Number(i)},{h:uh(a.h),s:ch(a.s,0,100),v:ch(a.v,0,100),a:ch(a.a)});return mh(s)},"hsv"]]},Eh=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},_h=function(e,t){var n=xh(e);return{h:n.h,s:ch(n.s+100*t,0,100),l:n.l,a:n.a}},Oh=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Th=function(e,t){var n=xh(e);return{h:n.h,s:n.s,l:ch(n.l+100*t,0,100),a:n.a}},Ph=function(){function e(e){this.parsed=function(e){return"string"==typeof e?Eh(e.trim(),kh.string):"object"==typeof e&&null!==e?Eh(e,kh.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return lh(Oh(this.rgba),2)},e.prototype.isDark=function(){return Oh(this.rgba)<.5},e.prototype.isLight=function(){return Oh(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=ph(this.rgba)).r,n=e.g,r=e.b,i=(o=e.a)<1?hh(lh(255*o)):"","#"+hh(t)+hh(n)+hh(r)+i;var e,t,n,r,o,i},e.prototype.toRgb=function(){return ph(this.rgba)},e.prototype.toRgbString=function(){return t=(e=ph(this.rgba)).r,n=e.g,r=e.b,(o=e.a)<1?"rgba("+t+", "+n+", "+r+", "+o+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,o},e.prototype.toHsl=function(){return bh(xh(this.rgba))},e.prototype.toHslString=function(){return t=(e=bh(xh(this.rgba))).h,n=e.s,r=e.l,(o=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+o+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,o},e.prototype.toHsv=function(){return e=gh(this.rgba),{h:lh(e.h),s:lh(e.s),v:lh(e.v),a:lh(e.a,3)};var e},e.prototype.invert=function(){return Nh({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Nh(_h(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Nh(_h(this.rgba,-e))},e.prototype.grayscale=function(){return Nh(_h(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Nh(Th(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Nh(Th(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Nh({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):lh(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=xh(this.rgba);return"number"==typeof e?Nh({h:e,s:t.s,l:t.l,a:t.a}):lh(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Nh(e).toHex()},e}(),Nh=function(e){return e instanceof Ph?e:new Ph(e)},Lh=[];function Mh(){return(Mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rh(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function Ah(e){var t=s.useRef(e),n=s.useRef((function(e){t.current&&t.current(e)}));return t.current=e,n.current}var zh=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},Hh=function(e){return"touches"in e},Dh=function(e){return e&&e.ownerDocument.defaultView||self},Ih=function(e,t,n){var r=e.getBoundingClientRect(),o=Hh(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:zh((o.pageX-(r.left+Dh(e).pageXOffset))/r.width),top:zh((o.pageY-(r.top+Dh(e).pageYOffset))/r.height)}},Vh=function(e){!Hh(e)&&e.preventDefault()},Bh=l.memo((function(e){var t=e.onMove,n=e.onKey,r=Rh(e,["onMove","onKey"]),o=s.useRef(null),i=Ah(t),a=Ah(n),c=s.useRef(null),u=s.useRef(!1),d=s.useMemo((function(){var e=function(e){Vh(e),(Hh(e)?e.touches.length>0:e.buttons>0)&&o.current?i(Ih(o.current,e,c.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=u.current,i=Dh(o.current),a=n?i.addEventListener:i.removeEventListener;a(r?"touchmove":"mousemove",e),a(r?"touchend":"mouseup",t)}return[function(e){var t,r=e.nativeEvent,a=o.current;if(a&&(Vh(r),t=r,(!u.current||Hh(t))&&a)){if(Hh(r)){u.current=!0;var s=r.changedTouches||[];s.length&&(c.current=s[0].identifier)}a.focus(),i(Ih(a,r,c.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),a({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]}),[a,i]),p=d[0],f=d[1],h=d[2];return s.useEffect((function(){return h}),[h]),l.createElement("div",Mh({},r,{onTouchStart:p,onMouseDown:p,className:"react-colorful__interactive",ref:o,onKeyDown:f,tabIndex:0,role:"slider"}))})),$h=function(e){return e.filter(Boolean).join(" ")},Fh=function(e){var t=e.color,n=e.left,r=e.top,o=void 0===r?.5:r,i=$h(["react-colorful__pointer",e.className]);return l.createElement("div",{className:i,style:{top:100*o+"%",left:100*n+"%"}},l.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Uh=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},Wh=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Uh(e.h),s:Uh(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Uh(o/2),a:Uh(r,2)}},Kh=function(e){var t=Wh(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},qh=function(e){var t=Wh(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},Gh=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),a=i-Math.min(t,n,r),s=a?i===t?(n-r)/a:i===n?2+(r-t)/a:4+(t-n)/a:0;return{h:Uh(60*(s<0?s+6:s)),s:Uh(i?a/i*100:0),v:Uh(i/255*100),a:o}},Yh=l.memo((function(e){var t=e.hue,n=e.onChange,r=$h(["react-colorful__hue",e.className]);return l.createElement("div",{className:r},l.createElement(Bh,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:zh(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":Uh(t),"aria-valuemax":"360","aria-valuemin":"0"},l.createElement(Fh,{className:"react-colorful__hue-pointer",left:t/360,color:Kh({h:t,s:100,v:100,a:1})})))})),Zh=l.memo((function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Kh({h:t.h,s:100,v:100,a:1})};return l.createElement("div",{className:"react-colorful__saturation",style:r},l.createElement(Bh,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:zh(t.s+100*e.left,0,100),v:zh(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Uh(t.s)+"%, Brightness "+Uh(t.v)+"%"},l.createElement(Fh,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Kh(t)})))}));var Xh=typeof window<"u"?s.useLayoutEffect:s.useEffect,Qh=new Map,Jh=function(e){Xh((function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!Qh.has(t)){var n=t.createElement("style");n.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',Qh.set(t,n);var r=typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0;r&&n.setAttribute("nonce",r),t.head.appendChild(n)}}),[])},eg=function(e){var t=e.className,n=e.hsva,r=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+qh(Object.assign({},n,{a:0}))+", "+qh(Object.assign({},n,{a:1}))+")"},i=$h(["react-colorful__alpha",t]),a=Uh(100*n.a);return l.createElement("div",{className:i},l.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),l.createElement(Bh,{onMove:function(e){r({a:e.left})},onKey:function(e){r({a:zh(n.a+e.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},l.createElement(Fh,{className:"react-colorful__alpha-pointer",left:n.a,color:qh(n)})))},tg=function(e){var t=e.className,n=e.colorModel,r=e.color,o=void 0===r?n.defaultColor:r,i=e.onChange,a=Rh(e,["className","colorModel","color","onChange"]),c=s.useRef(null);Jh(c);var u=function(e,t,n){var r=Ah(n),o=s.useState((function(){return e.toHsva(t)})),i=o[0],a=o[1],l=s.useRef({color:t,hsva:i});s.useEffect((function(){if(!e.equal(t,l.current.color)){var n=e.toHsva(t);l.current={hsva:n,color:t},a(n)}}),[t,e]),s.useEffect((function(){var t;(function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0})(i,l.current.hsva)||e.equal(t=e.fromHsva(i),l.current.color)||(l.current={hsva:i,color:t},r(t))}),[i,e,r]);var c=s.useCallback((function(e){a((function(t){return Object.assign({},t,e)}))}),[]);return[i,c]}(n,o,i),d=u[0],p=u[1],f=$h(["react-colorful",t]);return l.createElement("div",Mh({},a,{ref:c,className:f}),l.createElement(Zh,{hsva:d,onChange:p}),l.createElement(Yh,{hue:d.h,onChange:p}),l.createElement(eg,{hsva:d,onChange:p,className:"react-colorful__last-control"}))},ng={defaultColor:"rgba(0, 0, 0, 1)",toHsva:function(e){var t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?Gh({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}},fromHsva:function(e){var t=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),a=r*(1-n),s=r*(1-(t-i)*n),l=r*(1-(1-t+i)*n),c=i%6;return{r:Uh(255*[r,s,a,a,l,r][c]),g:Uh(255*[l,r,r,s,a,a][c]),b:Uh(255*[a,a,l,r,r,s][c]),a:Uh(o,2)}}(e);return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},equal:function(e,t){return e.replace(/\s/g,"")===t.replace(/\s/g,"")}},rg=function(e){return l.createElement(tg,Mh({},e,{colorModel:ng}))},og=(e=>(e.m="m",e.s="s",e))(og||{});const ig=e=>Du(e)?e:"",ag=(e={})=>xo("w-full placeholder:italic",ci.bgTr,xi.inputText,e.disabled&&ci.txtLowEmphasis),sg=s.forwardRef((function(e,t){const{className:n,value:r,label:o,size:i="m",type:a,placeholder:l,required:c,disabled:u,readOnly:d,description:p,onInput:f,onChange:g}=e,[m,v]=s.useState(ig(r)),b=ag(e),y=s.useRef(null);s.useImperativeHandle(t,(()=>y.current),[]),s.useEffect((()=>{v(ig(r))}),[r]),s.useEffect((()=>{f&&setTimeout((()=>f(m)))}),[m]);const x=(e,t)=>{null==g||g(e,t)};return h.jsxs("div",{className:xo("gs-cmp-input-field",n),ref:y,children:[!!o&&h.jsx($p,{size:i,children:o}),!!p&&h.jsx($p,{size:i,as:"span",className:xo(ci.txtLowEmphasis),capitalize:!1,children:p}),h.jsx(Uo,{className:xo(ci.bg,mi.b,mi.rnd,ci.br,"m"===i&&fi.xy,"s"===i&&"gjs-px-3 gjs-py-1"),items:"center",space:"x2s",children:h.jsx(Wo,{grow:!0,children:h.jsx("input",{className:b,value:m,onChange:e=>v(e.target.value),placeholder:l,required:c,onBlur:()=>{x(m)},onKeyDown:e=>{const{key:t}=e;switch(t){case"Escape":return v(r);case"Enter":return x(m)}},readOnly:d,disabled:u,type:a})})})]})}));var lg,cg=x;lg=cg.createRoot,cg.hydrateRoot;const ug=(e,t)=>{const{boxRectScreen:n,vwHeight:r,initialPos:o="top-right"}=t,i=o.split("-"),a=i[0],l=i[1],c="top"===a?"bottom":"top",u="right"===l?"left":"right";s.useLayoutEffect((()=>{const o=e.current;if(o){const{offsetWidth:e,offsetHeight:i}=o,s=n.y-i,d=n.x+n.width-e,p=n.height+i>r,f=s<0,h=f&&!p?c:a,g=d<0?u:l;if(t.setPos(`${h}-${g}`),p){const e=n.y+n.height,t=e<0?s-e:s;o.style.top=f?`${parseInt(""+-t)}px`:""}else o.style.top=""}}),[e.current,n])},dg=e=>{const{ref:t,show:n,node:r,styles:o,update:i,reload:a}=e,l={all:"initial",zIndex:"10",fontFamily:"inherit",...o};s.useEffect((()=>{const e=t.current;if(e&&n){if(!e.__sh){const t=e.attachShadow({mode:"closed"});e.__sh=lg(t)}e.__sh.render(r),Object.keys(l).forEach((t=>{e.style.setProperty((e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,((e,t)=>(t?"-":"")+e.toLowerCase())))(t),l[t],"important")}));const t=new MutationObserver(a);t.observe(e,{attributeFilter:["style"]});const n=new MutationObserver((e=>e[0].removedNodes&&a()));return n.observe(e.parentNode,{childList:!0}),()=>{t.disconnect(),n.disconnect()}}}),[t.current,n,i])};function pg({children:e,handler:t,title:n,size:r,padding:o=!0,overlay:i,clickAway:a,topIcon:l,pos:c,open:u,onClose:d,buttonAs:p,className:f,buttonProps:g={}}){const m=s.useRef(null),v=s.useRef(null),[b,y]=s.useState(!!u),[x,w]=s.useState({top:0,left:0}),j=()=>{y(!1),null==d||d()};(function(e,t){s.useEffect((()=>{const n="pointerdown",{current:r}=e;if(r&&t.enabled)return document.addEventListener(n,o),()=>{document.removeEventListener(n,o)};function o(e){const n=e.target;r&&n&&!r.contains(n)&&t.onTrigger(n)}}),[e.current,t.enabled])})(v,{onTrigger:j,enabled:a&&b}),s.useEffect((()=>{y(!!u)}),[u]),s.useEffect((()=>{const e=m.current,t=v.current;e&&t&&b&&setTimeout((()=>w($u(e,t,c))))}),[m,v,b]);const S=xo("w-full transition-colors",...Ci({border:!1,size:"",...g}));return h.jsxs(Nc,{className:xo("gjs-popover relative flex",f),children:[h.jsx(Nc.Button,{ref:m,as:p,className:S,children:h.jsx("div",{onClick:()=>!Du(u)&&y(!b),children:t})}),b&&i&&h.jsx("div",{onClick:j,className:xo("z-10 fixed inset-0")}),h.jsx(Hu,{as:s.Fragment,show:b,unmount:!1,...ui,children:h.jsx(Nc.Panel,{className:xo(["fixed z-20",l&&"gjs-mt-5","s"===r&&"w-full max-w-64","sm"===r&&"w-full max-w-sm","md"===r&&"w-full max-w-md"]),onClick:Eo,style:x,static:!0,children:h.jsx(Vu,{ref:v,title:n,onClose:j,padding:o,children:b?"function"==typeof e?e({close:j}):e:null})})})]})}!function(e){e.forEach((function(e){Lh.indexOf(e)<0&&(e(Ph,kh),Lh.push(e))}))}([function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var o in n)r[n[o]]=o;var i={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var o,a,s=r[this.toHex()];if(s)return s;if(null!=t&&t.closest){var l=this.toRgb(),c=1/0,u="black";if(!i.length)for(var d in n)i[d]=new e(n[d]).toRgb();for(var p in n){var f=(o=l,a=i[p],Math.pow(o.r-a.r,2)+Math.pow(o.g-a.g,2)+Math.pow(o.b-a.b,2));f<c&&(c=f,u=p)}return u}},t.string.push([function(t){var r=t.toLowerCase(),o="transparent"===r?"#0000":n[r];return o?new e(o).toRgb():null},"name"])}]);const fg={backgroundSize:"10px"},hg={position:{x:"left"},offset:{x:40,y:-30}},gg=e=>e.startsWith("rgba")?e:Nh(e).toRgbString();function mg({className:e,value:t,onChange:n}){const r=gg(t||""),o=!!window.EyeDropper,i=xo("bg-checker overflow-hidden cursor-pointer",e,mi.b,mi.rnd,ci.br),a=h.jsx("div",{style:fg,className:i,children:h.jsx("div",{className:xo("w-4 h-4"),style:{backgroundColor:t}})}),s=e=>{null==n||n(e,!0)};return h.jsxs(pg,{handler:a,title:"Color",size:"s",pos:hg,static:!0,clickAway:!0,children:[h.jsx(rg,{className:"color-picker",color:r,onChange:s,onPointerUp:()=>null==n?void 0:n(r,!1)}),h.jsxs(Uo,{className:xo("gjs-mt-3"),space:"s",children:[h.jsx(Wo,{grow:!0,children:h.jsx(sg,{size:"s",value:r,onChange:s})}),o&&h.jsx(ki,{type:"button",onClick:()=>{o&&(new EyeDropper).open().then((e=>s(e.sRGBHex)))},children:h.jsx(si,{icon:ii.eyedropperVariant,size:bi.s})})]})]})}const vg=e=>Du(e)?e:"",bg="gs-cmp-color-field";function yg({className:e,value:t,label:n,size:r="m",placeholder:o,preventSubmitOnEnter:i=!1,onChange:a}){const[l,c]=s.useState(vg(t));s.useEffect((()=>{c(vg(t))}),[t]);const u=(e,t)=>{null==a||a(e,t)};return h.jsxs("div",{className:xo(bg,e),children:[!!n&&h.jsx($p,{size:r,children:n}),h.jsxs(Uo,{className:xo(ci.bg,ci.br,mi.b,mi.rnd,"m"===r&&fi.xy,"s"===r&&"gjs-px-3 gjs-py-1"),items:"center",space:"s",children:[h.jsx(Wo,{children:h.jsx(mg,{value:t,onChange:a})}),h.jsx(Wo,{grow:!0,children:h.jsx("input",{className:xo("w-full focus:gs-utl-outline-none",ci.bgTr),value:l,onChange:e=>c(e.target.value),placeholder:o,onBlur:()=>{u(l)},onKeyDown:e=>{switch(e.key){case"Escape":return c(t);case"Enter":u(l),i&&(e.preventDefault(),e.stopPropagation())}}})})]})]})}var xg=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},wg=typeof window<"u"&&window.document&&window.document.createElement?s.useLayoutEffect:s.useEffect,jg="top",Sg="bottom",Cg="right",kg="left",Eg="auto",_g=[jg,Sg,Cg,kg],Og="start",Tg="end",Pg="clippingParents",Ng="viewport",Lg="popper",Mg="reference",Rg=_g.reduce((function(e,t){return e.concat([t+"-"+Og,t+"-"+Tg])}),[]),Ag=[].concat(_g,[Eg]).reduce((function(e,t){return e.concat([t,t+"-"+Og,t+"-"+Tg])}),[]),zg=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Hg(e){return e?(e.nodeName||"").toLowerCase():null}function Dg(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ig(e){return e instanceof Dg(e).Element||e instanceof Element}function Vg(e){return e instanceof Dg(e).HTMLElement||e instanceof HTMLElement}function Bg(e){return!(typeof ShadowRoot>"u")&&(e instanceof Dg(e).ShadowRoot||e instanceof ShadowRoot)}const $g={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];!Vg(o)||!Hg(o)||(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});!Vg(r)||!Hg(r)||(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function Fg(e){return e.split("-")[0]}var Ug=Math.max,Wg=Math.min,Kg=Math.round;function qg(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Gg(){return!/^((?!chrome|android).)*safari/i.test(qg())}function Yg(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&Vg(e)&&(o=e.offsetWidth>0&&Kg(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Kg(r.height)/e.offsetHeight||1);var a=(Ig(e)?Dg(e):window).visualViewport,s=!Gg()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/o,c=(r.top+(s&&a?a.offsetTop:0))/i,u=r.width/o,d=r.height/i;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function Zg(e){var t=Yg(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Xg(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Bg(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Qg(e){return Dg(e).getComputedStyle(e)}function Jg(e){return["table","td","th"].indexOf(Hg(e))>=0}function em(e){return((Ig(e)?e.ownerDocument:e.document)||window.document).documentElement}function tm(e){return"html"===Hg(e)?e:e.assignedSlot||e.parentNode||(Bg(e)?e.host:null)||em(e)}function nm(e){return Vg(e)&&"fixed"!==Qg(e).position?e.offsetParent:null}function rm(e){for(var t=Dg(e),n=nm(e);n&&Jg(n)&&"static"===Qg(n).position;)n=nm(n);return n&&("html"===Hg(n)||"body"===Hg(n)&&"static"===Qg(n).position)?t:n||function(e){var t=/firefox/i.test(qg());if(/Trident/i.test(qg())&&Vg(e)&&"fixed"===Qg(e).position)return null;var n=tm(e);for(Bg(n)&&(n=n.host);Vg(n)&&["html","body"].indexOf(Hg(n))<0;){var r=Qg(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function om(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function im(e,t,n){return Ug(e,Wg(t,n))}function am(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function sm(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const lm={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Fg(n.placement),l=om(s),c=[kg,Cg].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return am("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:sm(e,_g))}(o.padding,n),d=Zg(i),p="y"===l?jg:kg,f="y"===l?Sg:Cg,h=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],g=a[l]-n.rects.reference[l],m=rm(i),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,b=h/2-g/2,y=u[p],x=v-d[c]-u[f],w=v/2-d[c]/2+b,j=im(y,w,x),S=l;n.modifiersData[r]=((t={})[S]=j,t.centerOffset=j-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"==typeof r&&!(r=t.elements.popper.querySelector(r))||Xg(t.elements.popper,r)&&(t.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function cm(e){return e.split("-")[1]}var um={top:"auto",right:"auto",bottom:"auto",left:"auto"};function dm(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=a.x,f=void 0===p?0:p,h=a.y,g=void 0===h?0:h,m="function"==typeof u?u({x:f,y:g}):{x:f,y:g};f=m.x,g=m.y;var v=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),y=kg,x=jg,w=window;if(c){var j=rm(n),S="clientHeight",C="clientWidth";if(j===Dg(n)&&("static"!==Qg(j=em(n)).position&&"absolute"===s&&(S="scrollHeight",C="scrollWidth")),o===jg||(o===kg||o===Cg)&&i===Tg)x=Sg,g-=(d&&j===w&&w.visualViewport?w.visualViewport.height:j[S])-r.height,g*=l?1:-1;if(o===kg||(o===jg||o===Sg)&&i===Tg)y=Cg,f-=(d&&j===w&&w.visualViewport?w.visualViewport.width:j[C])-r.width,f*=l?1:-1}var k,E=Object.assign({position:s},c&&um),_=!0===u?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Kg(n*o)/o||0,y:Kg(r*o)/o||0}}({x:f,y:g},Dg(n)):{x:f,y:g};return f=_.x,g=_.y,l?Object.assign({},E,((k={})[x]=b?"0":"",k[y]=v?"0":"",k.transform=(w.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",k)):Object.assign({},E,((t={})[x]=b?g+"px":"",t[y]=v?f+"px":"",t.transform="",t))}const pm={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,c={placement:Fg(t.placement),variation:cm(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,dm(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,dm(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var fm={passive:!0};const hm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,l=Dg(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,fm)})),s&&l.addEventListener("resize",n.update,fm),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,fm)})),s&&l.removeEventListener("resize",n.update,fm)}},data:{}};var gm={left:"right",right:"left",bottom:"top",top:"bottom"};function mm(e){return e.replace(/left|right|bottom|top/g,(function(e){return gm[e]}))}var vm={start:"end",end:"start"};function bm(e){return e.replace(/start|end/g,(function(e){return vm[e]}))}function ym(e){var t=Dg(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function xm(e){return Yg(em(e)).left+ym(e).scrollLeft}function wm(e){var t=Qg(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function jm(e){return["html","body","#document"].indexOf(Hg(e))>=0?e.ownerDocument.body:Vg(e)&&wm(e)?e:jm(tm(e))}function Sm(e,t){var n;void 0===t&&(t=[]);var r=jm(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=Dg(r),a=o?[i].concat(i.visualViewport||[],wm(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(Sm(tm(a)))}function Cm(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function km(e,t,n){return t===Ng?Cm(function(e,t){var n=Dg(e),r=em(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;var c=Gg();(c||!c&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s+xm(e),y:l}}(e,n)):Ig(t)?function(e,t){var n=Yg(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Cm(function(e){var t,n=em(e),r=ym(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=Ug(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=Ug(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+xm(e),l=-r.scrollTop;return"rtl"===Qg(o||n).direction&&(s+=Ug(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}(em(e)))}function Em(e,t,n,r){var o="clippingParents"===t?function(e){var t=Sm(tm(e)),n=["absolute","fixed"].indexOf(Qg(e).position)>=0&&Vg(e)?rm(e):e;return Ig(n)?t.filter((function(e){return Ig(e)&&Xg(e,n)&&"body"!==Hg(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),a=i[0],s=i.reduce((function(t,n){var o=km(e,n,r);return t.top=Ug(o.top,t.top),t.right=Wg(o.right,t.right),t.bottom=Wg(o.bottom,t.bottom),t.left=Ug(o.left,t.left),t}),km(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function _m(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?Fg(o):null,a=o?cm(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case jg:t={x:s,y:n.y-r.height};break;case Sg:t={x:s,y:n.y+n.height};break;case Cg:t={x:n.x+n.width,y:l};break;case kg:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?om(i):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case Og:t[c]=t[c]-(n[u]/2-r[u]/2);break;case Tg:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function Om(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,a=void 0===i?e.strategy:i,s=n.boundary,l=void 0===s?Pg:s,c=n.rootBoundary,u=void 0===c?Ng:c,d=n.elementContext,p=void 0===d?Lg:d,f=n.altBoundary,h=void 0!==f&&f,g=n.padding,m=void 0===g?0:g,v=am("number"!=typeof m?m:sm(m,_g)),b=p===Lg?Mg:Lg,y=e.rects.popper,x=e.elements[h?b:p],w=Em(Ig(x)?x:x.contextElement||em(e.elements.popper),l,u,a),j=Yg(e.elements.reference),S=_m({reference:j,element:y,strategy:"absolute",placement:o}),C=Cm(Object.assign({},y,S)),k=p===Lg?C:j,E={top:w.top-k.top+v.top,bottom:k.bottom-w.bottom+v.bottom,left:w.left-k.left+v.left,right:k.right-w.right+v.right},_=e.modifiersData.offset;if(p===Lg&&_){var O=_[o];Object.keys(E).forEach((function(e){var t=[Cg,Sg].indexOf(e)>=0?1:-1,n=[jg,Sg].indexOf(e)>=0?"y":"x";E[e]+=O[n]*t}))}return E}const Tm={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,h=void 0===f||f,g=n.allowedAutoPlacements,m=t.options.placement,v=Fg(m),b=l||(v===m||!h?[mm(m)]:function(e){if(Fg(e)===Eg)return[];var t=mm(e);return[bm(e),t,bm(t)]}(m)),y=[m].concat(b).reduce((function(e,n){return e.concat(Fg(n)===Eg?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Ag:l,u=cm(r),d=u?s?Rg:Rg.filter((function(e){return cm(e)===u})):_g,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,n){return t[n]=Om(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[Fg(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:g}):n)}),[]),x=t.rects.reference,w=t.rects.popper,j=new Map,S=!0,C=y[0],k=0;k<y.length;k++){var E=y[k],_=Fg(E),O=cm(E)===Og,T=[jg,Sg].indexOf(_)>=0,P=T?"width":"height",N=Om(t,{placement:E,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),L=T?O?Cg:kg:O?Sg:jg;x[P]>w[P]&&(L=mm(L));var M=mm(L),R=[];if(i&&R.push(N[_]<=0),s&&R.push(N[L]<=0,N[M]<=0),R.every((function(e){return e}))){C=E,S=!1;break}j.set(E,R)}if(S)for(var A=function(e){var t=y.find((function(t){var n=j.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},z=h?3:1;z>0;z--){if("break"===A(z))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Pm(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Nm(e){return[jg,Cg,Sg,kg].some((function(t){return e[t]>=0}))}const Lm={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=Om(t,{elementContext:"reference"}),s=Om(t,{altBoundary:!0}),l=Pm(a,r),c=Pm(s,o,i),u=Nm(l),d=Nm(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};const Mm={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=Ag.reduce((function(e,n){return e[n]=function(e,t,n){var r=Fg(e),o=[kg,jg].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[kg,Cg].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};const Rm={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=_m({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};const Am={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,p=n.tether,f=void 0===p||p,h=n.tetherOffset,g=void 0===h?0:h,m=Om(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Fg(t.placement),b=cm(t.placement),y=!b,x=om(v),w=function(e){return"x"===e?"y":"x"}(x),j=t.modifiersData.popperOffsets,S=t.rects.reference,C=t.rects.popper,k="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,E="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(j){if(i){var T,P="y"===x?jg:kg,N="y"===x?Sg:Cg,L="y"===x?"height":"width",M=j[x],R=M+m[P],A=M-m[N],z=f?-C[L]/2:0,H=b===Og?S[L]:C[L],D=b===Og?-C[L]:-S[L],I=t.elements.arrow,V=f&&I?Zg(I):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},$=B[P],F=B[N],U=im(0,S[L],V[L]),W=y?S[L]/2-z-U-$-E.mainAxis:H-U-$-E.mainAxis,K=y?-S[L]/2+z+U+F+E.mainAxis:D+U+F+E.mainAxis,q=t.elements.arrow&&rm(t.elements.arrow),G=q?"y"===x?q.clientTop||0:q.clientLeft||0:0,Y=null!=(T=null==_?void 0:_[x])?T:0,Z=M+K-Y,X=im(f?Wg(R,M+W-Y-G):R,M,f?Ug(A,Z):A);j[x]=X,O[x]=X-M}if(s){var Q,J="x"===x?jg:kg,ee="x"===x?Sg:Cg,te=j[w],ne="y"===w?"height":"width",re=te+m[J],oe=te-m[ee],ie=-1!==[jg,kg].indexOf(v),ae=null!=(Q=null==_?void 0:_[w])?Q:0,se=ie?re:te-S[ne]-C[ne]-ae+E.altAxis,le=ie?te+S[ne]+C[ne]-ae-E.altAxis:oe,ce=f&&ie?function(e,t,n){var r=im(e,t,n);return r>n?n:r}(se,te,le):im(f?se:re,te,f?le:oe);j[w]=ce,O[w]=ce-te}t.modifiersData[r]=O}},requiresIfExists:["offset"]};function zm(e,t,n){void 0===n&&(n=!1);var r=Vg(t),o=Vg(t)&&function(e){var t=e.getBoundingClientRect(),n=Kg(t.width)/e.offsetWidth||1,r=Kg(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=em(t),a=Yg(e,o,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Hg(t)||wm(i))&&(s=function(e){return e!==Dg(e)&&Vg(e)?function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}(e):ym(e)}(t)),Vg(t)?((l=Yg(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=xm(i))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Hm(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function Dm(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Im={placement:"bottom",modifiers:[],strategy:"absolute"};function Vm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}var Bm=function(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?Im:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Im,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:o,setOptions:function(n){var s="function"==typeof n?n(o.options):n;c(),o.options=Object.assign({},i,o.options,s),o.scrollParents={reference:Ig(e)?Sm(e):e.contextElement?Sm(e.contextElement):[],popper:Sm(t)};var u=function(e){var t=Hm(e);return zg.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var s=i({state:o,name:t,instance:l,options:r}),c=function(){};a.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(Vm(t,n)){o.rects={reference:zm(t,rm(n),"fixed"===o.options.strategy),popper:Zg(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"==typeof a&&(o=a({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:Dm((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),s=!0}};if(!Vm(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}({defaultModifiers:[hm,Rm,pm,$g,Mm,Tm,Am,lm,Lm]}),$m=typeof Element<"u",Fm="function"==typeof Map,Um="function"==typeof Set,Wm="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function Km(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,r,o,i;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!Km(e[r],t[r]))return!1;return!0}if(Fm&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!Km(r.value[1],t.get(r.value[0])))return!1;return!0}if(Um&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Wm&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((n=(o=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if($m&&e instanceof Element)return!1;for(r=n;0!=r--;)if(("_owner"!==o[r]&&"__v"!==o[r]&&"__o"!==o[r]||!e.$$typeof)&&!Km(e[o[r]],t[o[r]]))return!1;return!0}return e!=e&&t!=t}const qm=t((function(e,t){try{return Km(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}));var Gm=[],Ym=function(e,t,n){void 0===n&&(n={});var r=s.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Gm},i=s.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=i[0],l=i[1],c=s.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);x.flushSync((function(){l({styles:xg(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:xg(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),u=s.useMemo((function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[c,{name:"applyStyles",enabled:!1}])};return qm(r.current,e)?r.current||e:(r.current=e,e)}),[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,c]),d=s.useRef();return wg((function(){d.current&&d.current.setOptions(u)}),[u]),wg((function(){if(null!=e&&null!=t){var r=(n.createPopper||Bm)(e,t,u);return d.current=r,function(){r.destroy(),d.current=null}}}),[e,t,n.createPopper]),{state:d.current?d.current.state:null,styles:a.styles,attributes:a.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}};const Zm=(e,t)=>e.filter((e=>e.id===t))[0]||null,Xm=(e,t)=>(null==e?void 0:e.id)===(null==t?void 0:t.id),Qm=(e,t)=>e.label.toLowerCase().indexOf(t.toLowerCase())>=0,Jm=xo("cursor-default select-none focus:gs-utl-outline-none","z-20 max-h-full"),ev={strategy:"fixed",placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,5]}},{name:"flip",options:{fallbackPlacements:["top"]}}]};function tv(e){var t;const{option:n,active:r,selected:o}=e,i=(null==(t=e.isSelected)?void 0:t.call(e))||!0;return h.jsxs(Uo,{items:"center",className:xo([fi.xy,r&&hi.bgH]),children:[h.jsx(Wo,{className:xo("truncate"),grow:!0,children:n.label}),h.jsx(Wo,{className:xo("gjs-pl-2"),children:Xm(n,o)&&i&&h.jsx(si,{className:xo(ci.tA),icon:ii.check,size:bi.s})})]})}function nv({value:e,onChange:t,onBlur:n,handlerSelected:r,label:o,options:i,includeEmpty:a,className:l,search:c,fixed:u,open:d,caret:p=ii.chevronDown,size:f="m",width:g="",border:m,pos:v,emptyState:b="- Select an option -"}){const[y,x]=s.useState(null),[w,j]=s.useState(null),[S,C]=s.useState(""),{styles:k,attributes:E}=Ym(y,w,ev),_=[...i].filter((e=>c?Qm(e,S):e)),O=c&&S,T=O&&_.length?_[0]:Zm(_,e),P={id:null,label:b},N=T?r?r(T):T.content||T.label:r?r(P):b;a&&_.unshift(P);const L=e=>{const{value:n}=e.target,r=n.trim();switch(e.key){case"Escape":t(null);break;case"Enter":t((_.length?_[0].id:r)||null);break;case" ":Eo(e)}},M=xo("w-full text-left cursor-pointer",mi.rnd,vi.focus),R=()=>{null==n||n()};return h.jsx(pc,{value:T,onChange:e=>t(e.id),children:({open:e})=>h.jsxs("div",{className:xo("relative w-full text-sm"),children:[o&&h.jsx(pc.Label,{children:h.jsx($p,{as:"span",size:f,children:o})}),h.jsx(pc.Button,{ref:x,className:M,children:c?h.jsx("input",{autoFocus:!0,value:S,className:xo(["w-full",mi.rnd,vi.focus,fi.xyS]),onChange:e=>C(e.target.value),onKeyDown:L,onClick:Eo,onBlur:R}):h.jsx(Vu,{border:m,size:f,title:N,icon:p,shadow:!1,className:xo(l),titleClass:""})}),h.jsx(pc.Options,{static:d,className:Jm,ref:j,style:k.popper,...E.popper,children:h.jsxs(Vu,{padding:!1,className:xo("h-full"),style:{minWidth:`${null==y?void 0:y.offsetWidth}px`,maxHeight:200},children:[!_.length&&c&&!0!==c&&h.jsx("div",{className:xo(fi.xy),children:c.empty}),_.map(((e,t)=>h.jsx(pc.Option,{value:e,children:({active:t,selected:n})=>h.jsxs(Uo,{items:"center",className:xo([fi.xy,t&&hi.bgH]),children:[h.jsx(Wo,{className:xo("truncate"),grow:!0,children:e.content||e.label}),h.jsx(Wo,{className:xo("gjs-pl-2"),children:Xm(e,T)&&!O&&h.jsx(si,{className:xo(ci.tA),icon:ii.check,size:bi.s})})]})},t)))]})})]})})}const rv=({value:e,step:t})=>{const n=parseFloat(`${e}`);let r=0;return Math.floor(n)!==n&&t&&(r=`${t}`.split(".")[1].length||0),r?parseFloat(n.toFixed(r)):n},ov=({value:e,key:t,shiftKey:n,min:r,max:o,step:i=1})=>{const a="ArrowUp"===t,s="ArrowDown"===t;let l=null;if(a||s){l=Number(e);const t=parseFloat(`${i}`);a&&(l+=(n?10:1)*t),s&&(l-=(n?10:1)*t),l=`${iv({min:r,max:o,value:l})}`,l=rv({value:l,step:i})}return l},iv=({min:e,max:t,value:n})=>{const r=parseFloat(`${n}`);let o=r||0;return Ao(e)&&(o=Math.max(o,parseFloat(`${e}`)||0)),Ao(t)&&(o=Math.min(o,parseFloat(`${t}`)||0)),`${`${r}`!=`${n}`?n:o}`},av=(e,t,n,r={})=>{const o=parseInt(`${e}`,10)||0,{min:i,max:a,step:s=1}=r;let l=o;const c=e=>{const r=e.clientY-t,c=o-r*parseFloat(`${s}`);l=rv({value:iv({min:i,max:a,value:c}),step:s}),n(l,!0)},u=()=>{window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",u),n(l)};window.addEventListener("mousemove",c),window.addEventListener("mouseup",u)},sv=(e,t,n={})=>{const{partial:r}=n;return t.some((t=>((e,t)=>e===t||r&&e.startsWith(t))("string"==typeof t?t:t.id,e)))},lv=e=>Du(e)?e:"",cv="gs-cmp-number-field";function uv({className:e,value:t,units:n,valueUnit:r,label:o,size:i="m",pan:a=!0,min:l,max:c,step:u,placeholder:d,onChange:p,onChangeUnit:f}){const[g,m]=s.useState(lv(t)),[v,b]=s.useState(!1),y=(null==n?void 0:n.map((e=>({id:e,label:e}))))||[],x={min:l,max:c,step:u};s.useEffect((()=>{m(lv(t))}),[t,r]);const w=(e,t)=>{null==p||p(iv({min:l,max:c,value:e}),t)};return h.jsxs("div",{className:xo(cv,e),children:[v&&h.jsx("div",{className:xo("fixed inset-0 z-50 cursor-ns")}),!!o&&h.jsx($p,{size:i,children:o}),h.jsxs(Uo,{className:xo(ci.bg,ci.br,mi.b,mi.rnd,"m"===i&&fi.xy,"s"===i&&"gjs-px-3 gjs-py-1"),items:"center",space:"x2s",children:[!!a&&h.jsx(Wo,{onMouseDown:e=>{b(!0);av(g,e.clientY,((e,t)=>{w(e,!!t),!t&&b(!1)}),x)},className:xo("opacity-50 cursor-ns","m"===i&&"-gjs-ml-3","s"===i&&"-gjs-ml-2",!0!==a&&"gjs-mr-0.5 -gjs-ml-1"),children:!0===a?h.jsx(si,{icon:ii.panVertical,size:bi.s2x}):a}),h.jsx(Wo,{grow:!0,children:h.jsx("input",{className:xo("w-full",ci.bgTr,xi.inputText),value:g,onChange:e=>m(e.target.value),placeholder:d,onBlur:()=>{w(g)},onKeyDown:e=>{const{key:n,shiftKey:r}=e;switch(n){case"Escape":return m(t);case"Enter":return w(g)}const o=ov({step:u,value:t,key:n,shiftKey:r});null!==o&&(e.preventDefault(),w(o))}})}),!!y.length&&h.jsx(Wo,{className:xo(1===y.length&&"opacity-50 pointer-events-none"),children:h.jsx(nv,{caret:"",size:"x2s",pos:"right",width:"75px",emptyState:"-",border:!1,value:r,onChange:e=>null==f?void 0:f(e),options:y})})]})]})}const dv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pv(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function fv(e){return"nodeType"in e}function hv(e){var t,n;return e?pv(e)?e:fv(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function gv(e){const{Document:t}=hv(e);return e instanceof t}function mv(e){return!pv(e)&&e instanceof hv(e).HTMLElement}function vv(e){return e instanceof hv(e).SVGElement}function bv(e){return e?pv(e)?e.document:fv(e)?gv(e)?e:mv(e)||vv(e)?e.ownerDocument:document:document:document}const yv=dv?s.useLayoutEffect:s.useEffect;function xv(e,t){const n=s.useRef();return s.useMemo((()=>{const t=e(n.current);return n.current=t,t}),[...t])}function wv(e){const t=function(e){const t=s.useRef(e);return yv((()=>{t.current=e})),s.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}(e),n=s.useRef(null),r=s.useCallback((e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e}),[]);return[n,r]}let jv={};function Sv(e,t){return s.useMemo((()=>{if(t)return t;const n=null==jv[e]?0:jv[e]+1;return jv[e]=n,e+"-"+n}),[e,t])}function Cv(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,o]of r){const r=t[n];null!=r&&(t[n]=r+e*o)}return t}),{...t})}}const kv=Cv(1),Ev=Cv(-1);function _v(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=hv(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Ov=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ov.Translate.toString(e),Ov.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Tv={display:"none"};function Pv(e){let{id:t,value:n}=e;return l.createElement("div",{id:t,style:Tv},n)}function Nv(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return l.createElement("div",{id:t,style:{position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}const Lv={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Mv={onDragStart:e=>`Picked up draggable item ${e}.`,onDragOver:(e,t)=>t?`Draggable item ${e} was moved over droppable area ${t}.`:`Draggable item ${e} is no longer over a droppable area.`,onDragEnd:(e,t)=>t?`Draggable item ${e} was dropped over droppable area ${t}`:`Draggable item ${e} was dropped.`,onDragCancel:e=>`Dragging was cancelled. Draggable item ${e} was dropped.`};var Rv;function Av(...e){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(Rv||(Rv={}));class zv extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((({disabled:e})=>!e))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Hv=s.createContext({activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,activeNodeClientRect:null,activators:[],ariaDescribedById:{draggable:""},containerNodeRect:null,dispatch:Av,draggableNodes:{},droppableRects:new Map,droppableContainers:new zv,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Av},scrollableAncestors:[],scrollableAncestorRects:[],recomputeLayouts:Av,windowRect:null,willRecomputeLayouts:!1});function Dv(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:new zv}}}function Iv(e,t){switch(t.type){case Rv.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Rv.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Rv.DragEnd:case Rv.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Rv.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new zv(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Rv.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new zv(e.droppable.containers);return a.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case Rv.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new zv(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}const Vv=s.createContext({type:null,event:null});function Bv({announcements:e=Mv,hiddenTextDescribedById:t,screenReaderInstructions:n}){const{announce:r,announcement:o}=function(){const[e,t]=s.useState("");return{announce:s.useCallback((e=>{null!=e&&t(e)}),[]),announcement:e}}(),i=Sv("DndLiveRegion"),[a,c]=s.useState(!1);return s.useEffect((()=>{c(!0)}),[]),function({onDragStart:e,onDragMove:t,onDragOver:n,onDragEnd:r,onDragCancel:o}){const i=s.useContext(Vv),a=s.useRef(i);s.useEffect((()=>{if(i!==a.current){const{type:s,event:l}=i;switch(s){case Rv.DragStart:null==e||e(l);break;case Rv.DragMove:null==t||t(l);break;case Rv.DragOver:null==n||n(l);break;case Rv.DragCancel:null==o||o(l);break;case Rv.DragEnd:null==r||r(l)}a.current=i}}),[i,e,t,n,r,o])}(s.useMemo((()=>({onDragStart({active:t}){r(e.onDragStart(t.id))},onDragMove({active:t,over:n}){e.onDragMove&&r(e.onDragMove(t.id,null==n?void 0:n.id))},onDragOver({active:t,over:n}){r(e.onDragOver(t.id,null==n?void 0:n.id))},onDragEnd({active:t,over:n}){r(e.onDragEnd(t.id,null==n?void 0:n.id))},onDragCancel({active:t}){r(e.onDragCancel(t.id))}})),[r,e])),a?x.createPortal(l.createElement(l.Fragment,null,l.createElement(Pv,{id:t,value:n.draggable}),l.createElement(Nv,{id:i,announcement:o})),document.body):null}const $v=Object.freeze({x:0,y:0});function Fv(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Uv(e,t=e.offsetLeft,n=e.offsetTop){return{x:t+.5*e.width,y:n+.5*e.height}}const Wv=({collisionRect:e,droppableContainers:t})=>{const n=Uv(e,e.left,e.top);let r=1/0,o=null;for(const e of t){const{rect:{current:t}}=e;if(t){const i=Fv(Uv(t),n);i<r&&(r=i,o=e.id)}}return o};const Kv=function(e){return function(t,...n){return n.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x,offsetLeft:t.offsetLeft+e*n.x,offsetTop:t.offsetTop+e*n.y})),{...t})}}(1);function qv(e){const t=[];return e?function e(n){if(!n)return t;if(gv(n)&&null!=n.scrollingElement&&!t.includes(n.scrollingElement))return t.push(n.scrollingElement),t;if(!mv(n)||vv(n)||t.includes(n))return t;const r=window.getComputedStyle(n);return function(e,t=window.getComputedStyle(e)){const n=/(auto|scroll|overlay)/;return null!=["overflow","overflowX","overflowY"].find((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(n,r)&&t.push(n),function(e,t=window.getComputedStyle(e)){return"fixed"===t.position}(n,r)?t:e(n.parentNode)}(e.parentNode):t}function Gv(e){return dv&&e?pv(e)?e:fv(e)?gv(e)||e===bv(e).scrollingElement?window:mv(e)?e:null:null:null}function Yv(e){return pv(e)?{x:e.scrollX,y:e.scrollY}:{x:e.scrollLeft,y:e.scrollTop}}var Zv;function Xv(e){const t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(Zv||(Zv={}));const Qv={x:.2,y:.2};function Jv(e,t,{top:n,left:r,right:o,bottom:i},a=10,s=Qv){const{clientHeight:l,clientWidth:c}=e,u=function(e){return!(!dv||!e)&&e===document.scrollingElement}(e)?{top:0,left:0,right:c,bottom:l,width:c,height:l}:t,{isTop:d,isBottom:p,isLeft:f,isRight:h}=Xv(e),g={x:0,y:0},m={x:0,y:0},v=u.height*s.y,b=u.width*s.x;return!d&&n<=u.top+v?(g.y=Zv.Backward,m.y=a*Math.abs((u.top+v-n)/v)):!p&&i>=u.bottom-v&&(g.y=Zv.Forward,m.y=a*Math.abs((u.bottom-v-i)/v)),!h&&o>=u.right-b?(g.x=Zv.Forward,m.x=a*Math.abs((u.right-b-o)/b)):!f&&r<=u.left+b&&(g.x=Zv.Backward,m.x=a*Math.abs((u.left+b-r)/b)),{direction:g,speed:m}}function eb(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function tb(e){return e.reduce(((e,t)=>kv(e,Yv(t))),$v)}function nb(e,t,n=$v){if(!e||!mv(e))return n;const r={x:n.x+e.offsetLeft,y:n.y+e.offsetTop};return e.offsetParent===t?r:nb(e.offsetParent,t,r)}function rb(e){const{offsetWidth:t,offsetHeight:n}=e,{x:r,y:o}=nb(e,null);return{width:t,height:n,offsetTop:o,offsetLeft:r}}function ob(e){if(pv(e)){const e=window.innerWidth,t=window.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t,offsetTop:0,offsetLeft:0}}const{offsetTop:t,offsetLeft:n}=rb(e),{width:r,height:o,top:i,bottom:a,left:s,right:l}=e.getBoundingClientRect();return{width:r,height:o,top:i,bottom:a,right:l,left:s,offsetTop:t,offsetLeft:n}}function ib(e){const{width:t,height:n,offsetTop:r,offsetLeft:o}=rb(e),i=tb(qv(e)),a=r-i.y,s=o-i.x;return{width:t,height:n,top:a,bottom:a+n,right:s+t,left:s,offsetTop:r,offsetLeft:o}}function ab(e){return"top"in e}function sb(e,t=e.offsetLeft,n=e.offsetTop){return[{x:t,y:n},{x:t+e.width,y:n},{x:t,y:n+e.height},{x:t+e.width,y:n+e.height}]}function lb(e,t){const n=Math.max(t.top,e.offsetTop),r=Math.max(t.left,e.offsetLeft),o=Math.min(t.left+t.width,e.offsetLeft+e.width),i=Math.min(t.top+t.height,e.offsetTop+e.height),a=o-r,s=i-n;if(r<o&&n<i){const n=t.width*t.height,r=e.width*e.height,o=a*s;return Number((o/(n+r-o)).toFixed(4))}return 0}const cb=({collisionRect:e,droppableContainers:t})=>{let n=0,r=null;for(const o of t){const{rect:{current:t}}=o;if(t){const i=lb(t,e);i>n&&(n=i,r=o.id)}}return r};var ub,db,pb,fb;function hb({acceleration:e,activator:t=ub.Pointer,canScroll:n,draggingRect:r,enabled:o,interval:i=5,order:a=db.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,threshold:d}){const[p,f]=function(){const e=s.useRef(null);return[s.useCallback(((t,n)=>{e.current=setInterval(t,n)}),[]),s.useCallback((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),h=s.useRef({x:1,y:1}),g=s.useMemo((()=>{switch(t){case ub.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case ub.DraggableRect:return r}return null}),[t,r,l]),m=s.useRef($v),v=s.useRef(null),b=s.useCallback((()=>{const e=v.current;if(!e)return;const t=h.current.x*m.current.x,n=h.current.y*m.current.y;e.scrollBy(t,n)}),[]),y=s.useMemo((()=>a===db.TreeOrder?[...c].reverse():c),[a,c]);s.useEffect((()=>{if(o&&c.length&&g){for(const t of y){if(!1===(null==n?void 0:n(t)))continue;const r=c.indexOf(t),o=u[r];if(!o)continue;const{direction:a,speed:s}=Jv(t,o,g,e,d);if(s.x>0||s.y>0)return f(),v.current=t,p(b,i),h.current=s,void(m.current=a)}h.current={x:0,y:0},m.current={x:0,y:0},f()}else f()}),[e,b,n,f,o,i,JSON.stringify(g),p,c,y,u,JSON.stringify(d)])}function gb(e){const t=s.useRef(e);return yv((()=>{t.current!==e&&(t.current=e)}),[e]),t}!function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(ub||(ub={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(db||(db={})),function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(pb||(pb={})),function(e){e.Optimized="optimized"}(fb||(fb={}));const mb=new Map,vb={measure:rb,strategy:pb.WhileDragging,frequency:fb.Optimized};function bb(e,{dragging:t,dependencies:n,config:r}){const[o,i]=s.useState(!1),{frequency:a,measure:l,strategy:c}={...vb,...r},u=s.useRef(e),d=s.useCallback((()=>i(!0)),[]),p=s.useRef(null),f=function(){switch(c){case pb.Always:return!1;case pb.BeforeDragging:return t;default:return!t}}(),h=xv((n=>{if(f&&!t)return mb;if(!n||n===mb||u.current!==e||o){for(let t of e)t&&(t.rect.current=t.node.current?l(t.node.current):null);return function(e){const t=new Map;if(e)for(const n of e){if(!n)continue;const{id:e,rect:r}=n;null!=r.current&&t.set(e,r.current)}return t}(e)}return n}),[e,t,f,l,o]);return s.useEffect((()=>{u.current=e}),[e]),s.useEffect((()=>{o&&i(!1)}),[o]),s.useEffect((function(){f||requestAnimationFrame(d)}),[t,f]),s.useEffect((function(){f||"number"!=typeof a||null!==p.current||(p.current=setTimeout((()=>{d(),p.current=null}),a))}),[a,f,d,...n]),{layoutRectMap:h,recomputeLayouts:d,willRecomputeLayouts:o}}const yb=[];const xb=Sb(ob),wb=function(e){const t=[];return function(n,r){const o=s.useRef(n);return xv((i=>n.length?r||!i&&n.length||n!==o.current?n.map((t=>e(t))):i??t:t),[n,r])}}(ob);function jb(e,t,n){const r=s.useRef(e);return xv((o=>e?n||!o&&e||e!==r.current?mv(e)&&null==e.parentNode?null:t(e):o??null:null),[e,n,t])}function Sb(e){return(t,n)=>jb(t,e,n)}const Cb=Sb((function(e){const{width:t,height:n,offsetLeft:r,offsetTop:o}=rb(e);return{top:o,bottom:o+n,left:r,right:r+t,width:t,height:n,offsetTop:o,offsetLeft:r}}));function kb({disabled:e,forceRecompute:t}){const[n,r]=wv(),o=Cb(e?null:function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return mv(t)?t:e}(n.current),t);return s.useMemo((()=>({nodeRef:n,rect:o,setRef:r})),[o,n,r])}function Eb(e,t){return s.useMemo((()=>({sensor:e,options:t??{}})),[e,t])}class _b{constructor(e){this.target=e,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))}}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Ob(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var Tb,Pb;function Nb(e){e.preventDefault()}function Lb(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Tb||(Tb={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(Pb||(Pb={}));const Mb={start:[Pb.Space,Pb.Enter],cancel:[Pb.Esc],end:[Pb.Space,Pb.Enter]},Rb=(e,{currentCoordinates:t})=>{switch(e.code){case Pb.Right:return{...t,x:t.x+25};case Pb.Left:return{...t,x:t.x-25};case Pb.Down:return{...t,y:t.y+25};case Pb.Up:return{...t,y:t.y-25}}};class Ab{constructor(e){this.props=e,this.autoScrollEnabled=!1,this.coordinates=$v;const{event:{target:t}}=e;this.props=e,this.listeners=new _b(bv(t)),this.windowListeners=new _b(hv(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Tb.Resize,this.handleCancel),this.windowListeners.add(Tb.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(Tb.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props;if(!e.node.current)throw new Error("Active draggable node is undefined");const n=ob(e.node.current),r={x:n.left,y:n.top};this.coordinates=r,t(r)}handleKeyDown(e){if(function(e){if(!e)return!1;const{KeyboardEvent:t}=hv(e.target);return t&&e instanceof t}(e)){const{coordinates:t}=this,{active:n,context:r,options:o}=this.props,{keyboardCodes:i=Mb,coordinateGetter:a=Rb,scrollBehavior:s="smooth"}=o,{code:l}=e;if(i.end.includes(l))return void this.handleEnd(e);if(i.cancel.includes(l))return void this.handleCancel(e);const c=a(e,{active:n,context:r.current,currentCoordinates:t});if(c){const n={x:0,y:0},{scrollableAncestors:o}=r.current;for(const r of o){const o=e.code,i=Ev(c,t),{isTop:a,isRight:l,isLeft:u,isBottom:d,maxScroll:p,minScroll:f}=Xv(r),h=eb(r),g={x:Math.min(o===Pb.Right?h.right-h.width/2:h.right,Math.max(o===Pb.Right?h.left:h.left+h.width/2,c.x)),y:Math.min(o===Pb.Down?h.bottom-h.height/2:h.bottom,Math.max(o===Pb.Down?h.top:h.top+h.height/2,c.y))},m=o===Pb.Right&&!l||o===Pb.Left&&!u,v=o===Pb.Down&&!d||o===Pb.Up&&!a;if(m&&g.x!==c.x){if(o===Pb.Right&&r.scrollLeft+i.x<=p.x||o===Pb.Left&&r.scrollLeft+i.x>=f.x)return void r.scrollBy({left:i.x,behavior:s});n.x=o===Pb.Right?r.scrollLeft-p.x:r.scrollLeft-f.x,r.scrollBy({left:-n.x,behavior:s});break}if(v&&g.y!==c.y){if(o===Pb.Down&&r.scrollTop+i.y<=p.y||o===Pb.Up&&r.scrollTop+i.y>=f.y)return void r.scrollBy({top:i.y,behavior:s});n.y=o===Pb.Down?r.scrollTop-p.y:r.scrollTop-f.y,r.scrollBy({top:-n.y,behavior:s});break}}this.handleMove(e,kv(c,n))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t),this.coordinates=t}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function zb(e){return!(!e||!("distance"in e))}function Hb(e){return!(!e||!("delay"in e))}Ab.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=Mb,onActivation:n})=>{const{code:r}=e.nativeEvent;return!!t.start.includes(r)&&(e.preventDefault(),null==n||n({event:e.nativeEvent}),!0)}}];class Db{constructor(e,t,n=function(e){const{EventTarget:t}=hv(e);return e instanceof t?e:bv(e)}(e.event.target)){this.props=e,this.events=t,this.autoScrollEnabled=!0,this.activated=!1,this.timeoutId=null;const{event:r}=e,{target:o}=r;this.props=e,this.events=t,this.document=bv(o),this.documentListeners=new _b(this.document),this.listeners=new _b(n),this.windowListeners=new _b(hv(o)),this.initialCoordinates=_v(r),this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(Tb.Resize,this.handleCancel),this.windowListeners.add(Tb.DragStart,Nb),this.windowListeners.add(Tb.VisibilityChange,this.handleCancel),this.windowListeners.add(Tb.ContextMenu,Nb),this.documentListeners.add(Tb.Keydown,this.handleKeydown),t){if(zb(t))return;if(Hb(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Tb.Click,Lb,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Tb.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){const{activated:t,initialCoordinates:n,props:r}=this,{onMove:o,options:{activationConstraint:i}}=r;if(!n)return;const a=_v(e),s=Ev(n,a);if(!t&&i){if(Hb(i))return Ob(s,i.tolerance)?this.handleCancel():void 0;if(zb(i))return null!=i.tolerance&&Ob(s,i.tolerance)?this.handleCancel():Ob(s,i.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),o(a)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Pb.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Ib={move:{name:"pointermove"},end:{name:"pointerup"}};class Vb extends Db{constructor(e){const{event:t}=e,n=bv(t.target);super(e,Ib,n)}}Vb.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:t})=>!(!e.isPrimary||0!==e.button)&&(null==t||t({event:e}),!0)}];const Bb={move:{name:"mousemove"},end:{name:"mouseup"}};var $b;!function(e){e[e.RightClick=2]="RightClick"}($b||($b={}));(class extends Db{constructor(e){super(e,Bb,bv(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:t})=>e.button!==$b.RightClick&&(null==t||t({event:e}),!0)}];const Fb={move:{name:"touchmove"},end:{name:"touchend"}};(class extends Db{constructor(e){super(e,Fb)}static setup(){return window.addEventListener(Fb.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Fb.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:t})=>{const{touches:n}=e;return!(n.length>1)&&(null==t||t({event:e}),!0)}}];const Ub=[{sensor:Vb,options:{}},{sensor:Ab,options:{}}],Wb={current:{}},Kb=s.createContext({...$v,scaleX:1,scaleY:1}),qb=s.memo((function({id:e,autoScroll:t=!0,announcements:n,children:r,sensors:o=Ub,collisionDetection:i=cb,measuring:a,modifiers:c,screenReaderInstructions:u=Lv,...d}){var p,f,h,g,m;const v=s.useReducer(Iv,void 0,Dv),[b,y]=v,[w,j]=s.useState((()=>({type:null,event:null}))),[S,C]=s.useState(!1),{draggable:{active:k,nodes:E,translate:_},droppable:{containers:O}}=b,T=k?E[k]:null,P=s.useRef({initial:null,translated:null}),N=s.useMemo((()=>{var e;return null!=k?{id:k,data:null!=(e=null==T?void 0:T.data)?e:Wb,rect:P}:null}),[k,T]),L=s.useRef(null),[M,R]=s.useState(null),[A,z]=s.useState(null),H=s.useRef(d),D=Sv("DndDescribedBy",e),I=s.useMemo((()=>O.getEnabled()),[O]),{layoutRectMap:V,recomputeLayouts:B,willRecomputeLayouts:$}=bb(I,{dragging:S,dependencies:[_.x,_.y],config:null==a?void 0:a.droppable}),F=function(e,t){const n=null!==t?e[t]:void 0,r=n?n.node.current:null;return xv((e=>{var n;return null===t?null:null!=(n=r??e)?n:null}),[r,t])}(E,k),U=A?_v(A):null,W=jb(F,null!=(p=null==a||null==(f=a.draggable)?void 0:f.measure)?p:ib),K=xb(F),q=s.useRef(null),G=q.current,Y=s.useRef({active:null,activeNode:F,collisionRect:null,droppableRects:V,draggableNodes:E,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null,translatedRect:null}),Z=O.getNodeFor(null==(h=Y.current.over)?void 0:h.id),X=xb(F?F.ownerDocument.defaultView:null),Q=xb(F?F.parentElement:null),J=function(e){const t=s.useRef(e),n=xv((n=>e?n&&e&&t.current&&e.parentNode===t.current.parentNode?n:qv(e):yb),[e]);return s.useEffect((()=>{t.current=e}),[e]),n}(k?Z??F:null),ee=wb(J),te=kb({disabled:null==k,forceRecompute:$}),ne=null!=(g=te.rect)?g:W,re=ne===W?function(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:$v}(W,G):$v,oe=function(e,{transform:t,...n}){return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...n})),t):t}(c,{transform:{x:_.x-re.x,y:_.y-re.y,scaleX:1,scaleY:1},activatorEvent:A,active:N,activeNodeRect:K,containerNodeRect:Q,draggingNodeRect:ne,over:Y.current.over,overlayNodeRect:te.rect,scrollableAncestors:J,scrollableAncestorRects:ee,windowRect:X}),ie=U?kv(U,_):null,ae=function(e){const[t,n]=s.useState(null),r=s.useRef(e),o=s.useCallback((e=>{const t=Gv(e.target);t&&n((e=>e?(e.set(t,Yv(t)),new Map(e)):null))}),[]);return s.useEffect((()=>{const t=r.current;if(e!==t){i(t);const a=e.map((e=>{const t=Gv(e);return t?(t.addEventListener("scroll",o,{passive:!0}),[t,Yv(t)]):null})).filter((e=>null!=e));n(a.length?new Map(a):null),r.current=e}return()=>{i(e),i(t)};function i(e){e.forEach((e=>{const t=Gv(e);null==t||t.removeEventListener("scroll",o)}))}}),[o,e]),s.useMemo((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>kv(e,t)),$v):tb(e):$v),[e,t])}(J),se=kv(oe,ae),le=ne?Kv(ne,oe):null,ce=le?Kv(le,ae):null,ue=N&&ce?i({active:N,collisionRect:ce,droppableContainers:I}):null,[de,pe]=s.useState(null),fe=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(oe,null!=(m=null==de?void 0:de.rect)?m:null,W),he=s.useCallback(((e,{sensor:t,options:n})=>{if(!L.current)return;const r=E[L.current];if(!r)return;const o=new t({active:L.current,activeNode:r,event:e.nativeEvent,options:n,context:Y,onStart(e){const t=L.current;if(!t)return;const n=E[t];if(!n)return;const{onDragStart:r}=H.current,o={active:{id:t,data:n.data,rect:P}};x.unstable_batchedUpdates((()=>{y({type:Rv.DragStart,initialCoordinates:e,active:t}),j({type:Rv.DragStart,event:o})})),null==r||r(o)},onMove(e){y({type:Rv.DragMove,coordinates:e})},onEnd:i(Rv.DragEnd),onCancel:i(Rv.DragCancel)});function i(e){return async function(){const{active:t,over:n,scrollAdjustedTranslate:r}=Y.current;let o=null;if(t&&r){const{cancelDrop:i}=H.current;o={active:t,delta:r,over:n},e===Rv.DragEnd&&"function"==typeof i&&await Promise.resolve(i(o))&&(e=Rv.DragCancel)}if(L.current=null,x.unstable_batchedUpdates((()=>{y({type:e}),pe(null),C(!1),R(null),z(null),o&&j({type:e,event:o})})),o){const{onDragCancel:t,onDragEnd:n}=H.current,r=e===Rv.DragEnd?n:t;null==r||r(o)}}}x.unstable_batchedUpdates((()=>{R(o),z(e.nativeEvent)}))}),[y,E]),ge=function(e,t){return s.useMemo((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(o,s.useCallback(((e,t)=>(n,r)=>{const o=n.nativeEvent;null!==L.current||o.dndKit||o.defaultPrevented||!0===e(n,t.options)&&(o.dndKit={capturedBy:t.sensor},L.current=r,he(n,t))}),[he]));(function(e){s.useEffect((()=>{if(!dv)return;const t=e.map((({sensor:e})=>null==e.setup?void 0:e.setup()));return()=>{for(const e of t)null==e||e()}}),e.map((({sensor:e})=>e)))})(o),yv((()=>{H.current=d}),Object.values(d)),s.useEffect((()=>{null!=k&&C(!0)}),[k]),s.useEffect((()=>{N||(q.current=null),N&&W&&!q.current&&(q.current=W)}),[W,N]),s.useEffect((()=>{const{onDragMove:e}=H.current,{active:t,over:n}=Y.current;if(!t)return;const r={active:t,delta:{x:se.x,y:se.y},over:n};j({type:Rv.DragMove,event:r}),null==e||e(r)}),[se.x,se.y]),s.useEffect((()=>{const{active:e,droppableContainers:t,scrollAdjustedTranslate:n}=Y.current;if(!e||!L.current||!n)return;const{onDragOver:r}=H.current,o=t.get(ue),i=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,a={active:e,delta:{x:n.x,y:n.y},over:i};x.unstable_batchedUpdates((()=>{pe(i),j({type:Rv.DragOver,event:a}),null==r||r(a)}))}),[ue]),yv((()=>{Y.current={active:N,activeNode:F,collisionRect:ce,droppableRects:V,draggableNodes:E,draggingNodeRect:ne,droppableContainers:O,over:de,scrollableAncestors:J,scrollAdjustedTranslate:se,translatedRect:le},P.current={initial:ne,translated:le}}),[N,F,ce,E,ne,V,O,de,J,se,le]),hb({...function(){const e=!1===(null==M?void 0:M.autoScrollEnabled),n="object"==typeof t?!1===t.enabled:!1===t,r=!e&&!n;return"object"==typeof t?{...t,enabled:r}:{enabled:r}}(),draggingRect:le,pointerCoordinates:ie,scrollableAncestors:J,scrollableAncestorRects:ee});const me=s.useMemo((()=>({active:N,activeNode:F,activeNodeRect:W,activeNodeClientRect:K,activatorEvent:A,activators:ge,ariaDescribedById:{draggable:D},containerNodeRect:Q,dispatch:y,dragOverlay:te,draggableNodes:E,droppableContainers:O,droppableRects:V,over:de,recomputeLayouts:B,scrollableAncestors:J,scrollableAncestorRects:ee,willRecomputeLayouts:$,windowRect:X})),[N,F,K,W,A,ge,Q,te,y,E,D,O,V,de,B,J,ee,$,X]);return l.createElement(Vv.Provider,{value:w},l.createElement(Hv.Provider,{value:me},l.createElement(Kb.Provider,{value:fe},r)),l.createElement(Bv,{announcements:n,hiddenTextDescribedById:D,screenReaderInstructions:u}))})),Gb=s.createContext(null),Yb="button",Zb="Droppable";function Xb({id:e,data:t,disabled:n=!1,attributes:r}){const o=Sv(Zb),{active:i,activeNodeRect:a,activatorEvent:l,ariaDescribedById:c,draggableNodes:u,droppableRects:d,activators:p,over:f}=s.useContext(Hv),{role:h=Yb,roleDescription:g="draggable",tabIndex:m=0}=r??{},v=(null==i?void 0:i.id)===e,b=s.useContext(v?Kb:Gb),[y,x]=wv(),w=function(e,t){return s.useMemo((()=>e.reduce(((e,{eventName:n,handler:r})=>(e[n]=e=>{r(e,t)},e)),{})),[e,t])}(p,e),j=gb(t);s.useEffect((()=>(u[e]={id:e,key:o,node:y,data:j},()=>{const t=u[e];t&&t.key===o&&delete u[e]})),[u,e]);return{active:i,activeNodeRect:a,activatorEvent:l,attributes:s.useMemo((()=>({role:h,tabIndex:m,"aria-pressed":!(!v||h!==Yb)||void 0,"aria-roledescription":g,"aria-describedby":c.draggable})),[h,m,v,g,c.draggable]),droppableRects:d,isDragging:v,listeners:n?void 0:w,node:y,over:f,setNodeRef:x,transform:b}}const Qb="Droppable";const Jb=({draggingNodeRect:e,transform:t,scrollableAncestorRects:n})=>{const r=n[0];return e&&r?function(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}(t,e,r):t},ey=({transform:e})=>({...e,x:0});function ty(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function ny(e){return null!==e&&e>=0}const ry=({layoutRects:e,activeIndex:t,overIndex:n,index:r})=>{const o=ty(e,n,t),i=e[r],a=o[r];return a&&i?{x:a.offsetLeft-i.offsetLeft,y:a.offsetTop-i.offsetTop,scaleX:a.width/i.width,scaleY:a.height/i.height}:null},oy={scaleX:1,scaleY:1},iy=({activeIndex:e,activeNodeRect:t,index:n,layoutRects:r,overIndex:o})=>{var i;const a=null!=(i=r[e])?i:t;if(!a)return null;if(n===e){const t=r[o];return t?{x:0,y:e<o?t.offsetTop+t.height-(a.offsetTop+a.height):t.offsetTop-a.offsetTop,...oy}:null}const s=function(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.offsetTop-(o.offsetTop+o.height):i?i.offsetTop-(r.offsetTop+r.height):0:i?i.offsetTop-(r.offsetTop+r.height):o?r.offsetTop-(o.offsetTop+o.height):0:0}(r,n,e);return n>e&&n<=o?{x:0,y:-a.height-s,...oy}:n<e&&n>=o?{x:0,y:a.height+s,...oy}:{x:0,y:0,...oy}};const ay="Sortable",sy=l.createContext({activeIndex:-1,containerId:ay,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ry,wasDragging:{current:!1}});function ly({children:e,id:t,items:n,strategy:r=ry}){const{active:o,dragOverlay:i,droppableRects:a,over:c,recomputeLayouts:u,willRecomputeLayouts:d}=s.useContext(Hv),p=Sv(ay,t),f=null!==i.rect,h=s.useMemo((()=>n.map((e=>"string"==typeof e?e:e.id))),[n]),g=null!=o,m=s.useRef(!1),v=o?h.indexOf(o.id):-1,b=-1!==v,y=c?h.indexOf(c.id):-1,x=s.useRef(h),w=function(e,t){return e.reduce(((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e}),Array(e.length))}(h,a),j=!function(e,t){return e.join()===t.join()}(h,x.current),S=-1!==y&&-1===v||j;yv((()=>{j&&b&&!d&&u()}),[j,b,u,d]),s.useEffect((()=>{x.current=h}),[h]),s.useEffect((()=>{const e=setTimeout((()=>{m.current=g}),100);return()=>clearTimeout(e)}),[g]);const C=s.useMemo((()=>({activeIndex:v,containerId:p,disableTransforms:S,items:h,overIndex:y,useDragOverlay:f,sortedRects:w,strategy:r,wasDragging:m})),[v,p,S,h,y,w,f,r,m]);return l.createElement(sy.Provider,{value:C},e)}const cy=({id:e,items:t,activeIndex:n,overIndex:r})=>ty(t,n,r).indexOf(e),uy=({containerId:e,isSorting:t,wasDragging:n,index:r,items:o,newIndex:i,previousItems:a,previousContainerId:s,transition:l})=>!(!l||!n||a!==o&&r===i)&&(!!t||i!==r&&e===s),dy={duration:200,easing:"ease"},py="transform",fy=Ov.Transition.toString({property:py,duration:0,easing:"linear"}),hy={roleDescription:"sortable"};function gy({animateLayoutChanges:e=uy,attributes:t,disabled:n,data:r,getNewIndex:o=cy,id:i,strategy:a,transition:l=dy}){const{items:c,containerId:u,activeIndex:d,disableTransforms:p,sortedRects:f,overIndex:h,useDragOverlay:g,strategy:m,wasDragging:v}=s.useContext(sy),b=c.indexOf(i),y=s.useMemo((()=>({sortable:{containerId:u,index:b,items:c},...r})),[u,r,b,c]),{rect:x,node:w,setNodeRef:j}=function({data:e,disabled:t=!1,id:n}){const r=Sv(Qb),{active:o,dispatch:i,over:a}=s.useContext(Hv),l=s.useRef(null),[c,u]=wv(),d=gb(e);return yv((()=>(i({type:Rv.RegisterDroppable,element:{id:n,key:r,disabled:t,node:c,rect:l,data:d}}),()=>i({type:Rv.UnregisterDroppable,key:r,id:n}))),[n]),s.useEffect((()=>{i({type:Rv.SetDroppableDisabled,id:n,key:r,disabled:t})}),[t]),{active:o,rect:l,isOver:(null==a?void 0:a.id)===n,node:c,over:a,setNodeRef:u}}({id:i,data:y}),{active:S,activeNodeRect:C,activatorEvent:k,attributes:E,setNodeRef:_,listeners:O,isDragging:T,over:P,transform:N}=Xb({id:i,data:y,attributes:{...hy,...t},disabled:n}),L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.useMemo((()=>e=>{t.forEach((t=>t(e)))}),t)}(j,_),M=!!S,R=M&&v.current&&!p&&ny(d)&&ny(h),A=!g&&T,z=R?(A&&R?N:null)??(a??m)({layoutRects:f,activeNodeRect:C,activeIndex:d,overIndex:h,index:b}):null,H=ny(d)&&ny(h)?o({id:i,items:c,activeIndex:d,overIndex:h}):b,D=s.useRef(c),I=c!==D.current,V=s.useRef(H),B=s.useRef(u),$=e({active:S,containerId:u,isDragging:T,isSorting:M,id:i,index:b,items:c,newIndex:V.current,previousItems:D.current,previousContainerId:B.current,transition:l,wasDragging:v.current}),F=function({disabled:e,index:t,node:n,rect:r}){const[o,i]=s.useState(null),a=s.useRef(t);return yv((()=>{if(!e&&t!==a.current&&n.current){const e=r.current;if(e){const t=ob(n.current),r={x:e.offsetLeft-t.offsetLeft,y:e.offsetTop-t.offsetTop,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&i(r)}}t!==a.current&&(a.current=t)}),[e,t,n,r]),s.useEffect((()=>{o&&requestAnimationFrame((()=>{i(null)}))}),[o]),o}({disabled:!$,index:b,node:w,rect:x});return s.useEffect((()=>{M&&V.current!==H&&(V.current=H),u!==B.current&&(B.current=u),c!==D.current&&(D.current=c)}),[M,H,u,c]),{active:S,attributes:E,activatorEvent:k,rect:x,index:b,isSorting:M,isDragging:T,listeners:O,node:w,overIndex:h,over:P,setNodeRef:L,setDroppableNodeRef:j,setDraggableNodeRef:_,transform:F??z,transition:function(){if(F||I&&V.current===b)return fy;if(!A&&l&&(M||$))return Ov.Transition.toString({...l,property:py})}()}}const my=[Pb.Down,Pb.Right,Pb.Up,Pb.Left],vy=(e,{context:{active:t,droppableContainers:n,translatedRect:r,scrollableAncestors:o}})=>{if(my.includes(e.code)){if(e.preventDefault(),!t||!r)return;const a=[];n.getEnabled().forEach((t=>{if(!t||null!=t&&t.disabled)return;const n=null==t?void 0:t.node.current;if(!n)return;const o=ib(n),i={...t,rect:{current:o}};switch(e.code){case Pb.Down:r.top+r.height<=o.top&&a.push(i);break;case Pb.Up:r.top>=o.top+o.height&&a.push(i);break;case Pb.Left:r.left>=o.left+o.width&&a.push(i);break;case Pb.Right:r.left+r.width<=o.left&&a.push(i)}}));const s=(({collisionRect:e,droppableContainers:t})=>{let n=1/0,r=null;const o=sb(e,e.left,e.top);for(const e of t){const{rect:{current:t}}=e;if(t){const i=sb(t,ab(t)?t.left:void 0,ab(t)?t.top:void 0),a=o.reduce(((e,t,n)=>e+Fv(i[n],t)),0),s=Number((a/4).toFixed(4));s<n&&(n=s,r=e.id)}}return r})({active:t,collisionRect:r,droppableContainers:a});if(s){var i;const e=null==(i=n.get(s))?void 0:i.node.current;if(e){const t=qv(e).some(((e,t)=>o[t]!==e)),n=ib(e),i=t?{x:0,y:0}:{x:r.width-n.width,y:r.height-n.height};return{x:n.left-i.x,y:n.top-i.y}}}}};function by(e){const{id:t,item:n,className:r,select:o,remove:i,renderItem:a,previewStyle:s}=e,{attributes:l,listeners:c,setNodeRef:u,transform:d,transition:p}=gy({id:t}),f={transform:Ov.Transform.toString(d),transition:p};return h.jsx("div",{ref:u,style:f,...l,children:h.jsxs(Uo,{space:"s",onClick:()=>null==o?void 0:o(n),className:r,items:"center",nowrap:!0,children:[h.jsx(Wo,{className:xo(yi.hover,"cursor-grab"),...c,children:h.jsx(si,{icon:ii.dotsVertical,size:bi.sx})}),h.jsx(Wo,{grow:!0,className:xo("overflow-hidden"),children:h.jsxs(Uo,{children:[h.jsx(Wo,{grow:!0,className:xo("overflow-ellipsis overflow-hidden"),children:a(n)}),!!s&&h.jsx(Wo,{children:h.jsx("div",{className:xo("w-4 h-4 gjs-bg-white",mi.b,mi.rnd),style:s(n)})})]})}),h.jsx(Wo,{className:xo(yi.click),onClick:e=>{Eo(e),null==i||i(n)},children:h.jsx(si,{icon:ii.close,size:bi.sx})})]},n.getIndex?n.getIndex():n.id||n.cid)})}const yy={position:{x:"left-edge",y:"top-bottom"},offset:{x:7,y:0}},xy=e=>e.cid??e.id;function wy({className:e,items:t,selected:n,children:r,title:o,titleAdd:i,label:a,select:l,add:c,move:u,remove:d,renderItem:p,previewStyle:f}){const g=function(...e){return s.useMemo((()=>[...e].filter((e=>null!=e))),[...e])}(Eb(Vb),Eb(Ab,{coordinateGetter:vy}));const m=xo(mi.rnd,ci.br,t.length&&mi.b,t.length&&"gjs-mt-1");return h.jsxs("div",{className:xo(e,"w-full"),children:[!(!a&&!c)&&h.jsxs(Uo,{items:"center",children:[h.jsx(Wo,{grow:!0,children:h.jsx($p,{size:"s",children:a})}),!!c&&h.jsx(Wo,{children:h.jsx(Fu,{title:i,inline:!0,children:h.jsx(ki,{onClick:c,size:"s",children:h.jsx(si,{icon:ii.plus,size:bi.s})})})})]}),h.jsx(pg,{pos:yy,size:"s",buttonAs:"div",title:o,open:!!n,onClose:()=>null==l?void 0:l(null),handler:h.jsx(qb,{sensors:g,collisionDetection:Wv,onDragEnd:function(e){const{active:n,over:r}=e;if(n.id!==(null==r?void 0:r.id)){const e=t.find((e=>xy(e)===n.id)),o=t.findIndex((e=>xy(e)===(null==r?void 0:r.id)));e&&(null==u||u(e,o))}},modifiers:[ey,Jb],children:h.jsx(ly,{items:t.map(xy),strategy:iy,children:h.jsx("div",{className:m,children:t.map(((e,t)=>{const r=xy(e),o=e===n,i=xo("gjs-px-2 gjs-py-2 text-xs",ci.br,t&&mi.bt,!o&&ci.hBgH2,o&&ci.bgH);return h.jsx(by,{id:r,item:e,className:i,select:l,remove:d,renderItem:p,previewStyle:f},r)}))})})}),children:r})]})}function jy({className:e,value:t,label:n,btnLabel:r,size:o,isContain:i,clear:a,onChange:s,onOpen:l,description:c}){var u;const d=(null==(u=t.replace(/^"|"$/gi,"").split("/").pop())?void 0:u.split("?")[0])||"",p=t?{backgroundImage:`url("${t}")`}:{},f=xo("w-12 h-12 bg-checker bg-no-repeat bg-center",i?"bg-contain":"bg-cover",mi.b,mi.rnd,ci.br);return h.jsxs("div",{className:xo(e),children:[!!n&&h.jsx($p,{size:o,children:n}),!!c&&h.jsx($p,{size:o,as:"span",className:xo(ci.txtLowEmphasis),capitalize:!1,children:c}),h.jsxs(Uo,{className:xo(ci.bg),items:"center",space:"s",nowrap:!0,children:[h.jsx(Wo,{children:h.jsx("div",{className:f,style:p})}),h.jsxs(Wo,{grow:!0,className:xo("overflow-hidden"),children:[d&&h.jsx($p,{as:"div",size:o,className:xo("gjs-mb-2",yi.txtEllips),capitalize:!1,children:d}),h.jsxs(Uo,{space:"s",nowrap:!0,children:[h.jsx(ki,{onClick:()=>null==l?void 0:l(t),size:o,type:"button",block:!0,full:!0,children:r||"Select image"}),!!t&&a&&h.jsx(Uu,{onClick:()=>null==s?void 0:s(""),title:a.tooltip,size:o,icon:{icon:ii.close,size:bi.s},type:"button",block:!0})]})]})]})]})}function Sy(e){return e.isFull()||["slider","composite","stack","file"].includes(e.getType())}function Cy({property:e}){switch(e.getType()){case"number":case"slider":case"integer":return h.jsx(uv,{...nx(e)});case"color":return h.jsx(yg,{...rx(e)});case"select":return h.jsx(nv,{...ex(e)});case"radio":return h.jsx(ih,{...ex(e)});case"file":return h.jsx(jy,{...ox(e)});case"composite":return h.jsx(Oy,{property:e,corners:e.get("corners"),generic:e.get("generic")});case"stack":return h.jsx(wy,{...tx(e),children:e.getProperties().map((e=>h.jsx(oh,{property:e,className:yo(Sy(e)&&"col-span-full"),children:h.jsx(Cy,{property:e})},e.getId())))});default:return h.jsx(sg,{...rx(e)})}}function ky({sector:e}){const t=e.getProperties().filter((e=>e.isVisible()));return h.jsx("div",{className:yo("grid grid-cols-2 gap-2"),children:t.map((e=>function(e){return["composite","stack"].includes(e.getType())}(e)?h.jsx("div",{className:yo(Sy(e)&&"col-span-full"),children:h.jsx(Cy,{property:e})},e.getId()):h.jsx(oh,{property:e,className:yo(Sy(e)&&"col-span-full"),children:h.jsx(Cy,{property:e})},e.getId())))})}function Ey({className:e,children:t,bottom:n,separator:r,separatorTop:o,...i}){const a=h.jsx("div",{className:xo("gjs-mb-2 -gjs-ml-2 -gjs-mr-2",mi.bb,ci.br)}),s=xo(e,"w-full",n||"gjs-mb-2");return h.jsxs(h.Fragment,{children:[o&&a,h.jsx(Uo,{className:s,space:"s",nowrap:!0,...i,children:t}),r&&a]})}function _y(e,t,n={}){const r=e.getType(),{compact:o=!1}=n,i=e.getParent(),a=e.getDefaultValue();if("select"===r){const n={property:i.getName()};return h.jsx(nv,{...ex(e,n),...t?{value:t.same?e.getValue({noDefault:!0}):"",emptyState:t.same?e.getOptionLabel(a,n)||a:"Custom",onChange:e=>t.all.map((t=>t.upValue(e)))}:{}})}return"color"===r?h.jsx(yg,{...rx(e),...t?{value:t.same?e.getValue({noDefault:!0}):"",placeholder:t.same?a:"Custom",onChange:(e,n)=>t.all.map((t=>t.upValue(e,{partial:n})))}:{}}):h.jsx(uv,{...nx(e),...o?{pan:e.getLabel()[0]}:{},...t?{value:t.same?e.getValue({noDefault:!0}):"",valueUnit:t.same?e.getUnit():"",placeholder:t.same?a:"Custom",onChange:(e,n)=>t.all.map((t=>t.upValue(e,{partial:n}))),onChangeUnit:e=>t.all.map((t=>t.upUnit(e)))}:{}})}function Oy({property:e,corners:t,compact:n,generic:r,children:o,options:i}){const a={id:"custom",label:h.jsx(si,{icon:ii.borderStyle,size:bi.sx}),title:"Custom"},l=[{id:"all",label:h.jsx(si,{icon:ii.borderAllVariant,size:bi.sx}),title:"All"},a],[c,u]=s.useState(null),d=e.isDetached(),p=e.getProperties(),f=p.length,[g,m,v,b]=p,y=g.getFullValue(),x=p.map((e=>e.getFullValue())).every((e=>e===y)),w=null!==c?c:x||i?"all":a.id,j=i?[...i,a]:[],S=e.getFullValue(),C=j.some((e=>e.id===S)),k=w===a.id||!!i&&!C||!!r,E=h.jsx(oh,{property:n?null:g,shallow:!d,children:_y(g,null,{compact:n})}),_=h.jsx(oh,{property:n?null:m,shallow:!d,children:_y(m,null,{compact:n})}),O=!!v&&h.jsx(oh,{property:n?null:v,shallow:!d,children:_y(v,null,{compact:n})}),T=!!b&&h.jsx(oh,{property:n?null:b,shallow:!d,children:_y(b,null,{compact:n})}),P=n?{label:e.getLabel()}:{property:e};return h.jsxs("div",{className:xo("w-full"),children:[h.jsx(Ey,{children:h.jsx(oh,{...P,children:!r&&h.jsx(Ey,{bottom:"0",children:void 0!==o?o:i?h.jsx(h.Fragment,{children:h.jsx(Wo,{grow:!0,children:h.jsx(ih,{size:"s",options:j,value:k?a.id:S,onChange:t=>{t===a.id?u(t):(e.upValue(t),u(""))}})})}):h.jsxs(h.Fragment,{children:[h.jsx(Wo,{grow:!0,children:_y(g,{same:x,all:p})}),h.jsx(Wo,{grow:!0,children:h.jsx(ih,{size:"s",options:l,value:w,onChange:u})})]})})})}),k&&h.jsx(Ey,{col:!0,className:xo("gjs-px-2 gjs-py-1",ci.bgH2,mi.rnd,mi.b,ci.br),children:r?h.jsx("div",{className:xo("grid grid-cols-2 gap-2"),children:p.map((e=>h.jsx(oh,{property:e,shallow:!d,className:xo(Sy(e)&&"col-span-full"),children:h.jsx(Cy,{property:e})},e.getId())))}):2===f?h.jsx(h.Fragment,{children:h.jsxs(Uo,{space:"s",children:[h.jsx(Wo,{grow:!0,children:E}),h.jsx(Wo,{grow:!0,children:_})]})}):3===f?h.jsxs(h.Fragment,{children:[h.jsxs(Uo,{space:"s",children:[h.jsx(Wo,{grow:!0,children:E}),h.jsx(Wo,{grow:!0,children:_})]}),h.jsx(Uo,{space:"s",children:h.jsx(Wo,{grow:!0,children:O})})]}):t?h.jsxs(h.Fragment,{children:[h.jsxs(Uo,{space:"s",children:[h.jsx(Wo,{grow:!0,children:E}),h.jsx(Wo,{grow:!0,children:_})]}),h.jsxs(Uo,{space:"s",children:[h.jsx(Wo,{grow:!0,children:T}),h.jsx(Wo,{grow:!0,children:O})]})]}):h.jsxs(h.Fragment,{children:[h.jsx(Uo,{className:xo("gs-utl-w-1/2 gjs-m-auto"),children:E}),h.jsxs(Uo,{space:"s",children:[h.jsx(Wo,{grow:!0,children:T}),h.jsx(Wo,{grow:!0,children:_})]}),h.jsx(Uo,{className:xo("gs-utl-w-1/2 gjs-m-auto"),children:O})]})})]})}function Ty({sector:e}){const t=e.getProperty("border-radius");return h.jsxs(h.Fragment,{children:[h.jsx(Oy,{property:t,corners:!0}),h.jsx(Oy,{property:e.getProperty("border-width")}),h.jsx(Oy,{property:e.getProperty("border-style")}),h.jsx(Oy,{property:e.getProperty("border-color")})]})}const Py=e=>iv({value:parseFloat(e),min:-3,max:3}),Ny=(e,t="filter")=>{const n=e.getProperty(`${t}-value`),r=e.getProperty(`${t}-name`).getOption()||{},o=r.units||[],i=n.getUnit(),a=sv(i,o)?i:o[0];return{...nx(n),units:o,valueUnit:a,onChange:(e,t)=>{n.upValue(e,{partial:t,units:o,min:r.min,max:r.max})}}},Ly=(e,t)=>{const n=e.getProperty(`${t}-name`),r=e.getProperty(`${t}-value`);return{...ex(n),onChange:e=>{n.upValue(e),r.upValue("")}}},My={"text-shadow-h":"1px","text-shadow-v":"1px","text-shadow-blur":"5px"};function Ry({sector:e}){const t=e.getProperty("box-shadow"),n=e.getProperty("text-shadow"),r=e.getProperty("filter"),o=e.getProperty("backdrop-filter"),i=e.getProperty("transition"),a=e.getProperty("transform"),s=e.getProperty("perspective-origin");return h.jsxs(h.Fragment,{children:[h.jsxs(Ey,{children:[h.jsx(oh,{property:e.getProperty("opacity"),children:h.jsx(uv,{...nx(e.getProperty("opacity"))})}),h.jsx(oh,{property:e.getProperty("mix-blend-mode"),children:h.jsx(nv,{...ex(e.getProperty("mix-blend-mode"))})})]}),h.jsx(Ey,{separator:!0,children:h.jsx(oh,{property:e.getProperty("cursor"),children:h.jsx(nv,{...ex(e.getProperty("cursor"))})})}),h.jsx(Ey,{separator:!0,children:h.jsxs(wy,{...tx(t),renderItem:e=>{const{boxShadowH:t,boxShadowV:n,boxShadowBlur:r,boxShadowColor:o,boxShadowSpread:i,boxShadowType:a}=e.getValues({camelCase:!0}),s=`${Py(t)}px ${Py(n)}px ${Py(r)}px ${Py(i)}px ${o} ${a}`.trim();return h.jsxs(Uo,{space:"s",items:"center",children:[h.jsxs(Wo,{grow:!0,children:[t," ",n," ",r," ",i]}),h.jsx(Wo,{children:h.jsx("div",{className:xo("w-4 h-4 gjs-bg-white",mi.b,mi.rnd),style:{boxShadow:s}})})]})},children:[h.jsx(Ey,{children:h.jsx(ih,{...ex(t.getProperty("box-shadow-type"))})}),h.jsxs(Ey,{children:[h.jsx(oh,{label:"X offset",children:h.jsx(uv,{...nx(t.getProperty("box-shadow-h"))})}),h.jsx(oh,{label:"Y offset",children:h.jsx(uv,{...nx(t.getProperty("box-shadow-v"))})})]}),h.jsxs(Ey,{children:[h.jsx(oh,{label:"Blur",children:h.jsx(uv,{...nx(t.getProperty("box-shadow-blur"))})}),h.jsx(oh,{label:"Spread",children:h.jsx(uv,{...nx(t.getProperty("box-shadow-spread"))})})]}),h.jsx(Ey,{children:h.jsx(oh,{label:"Color",children:h.jsx(yg,{...rx(t.getProperty("box-shadow-color"))})})})]})}),h.jsx(Ey,{separator:!0,children:h.jsxs(wy,{...tx(n,My),renderItem:e=>{const{textShadowH:t,textShadowV:n,textShadowBlur:r,textShadowColor:o}=e.getValues({camelCase:!0}),i=`${Py(t)}px ${Py(n)}px ${Py(r)}px ${o}`.trim();return h.jsxs(Uo,{space:"s",items:"center",children:[h.jsxs(Wo,{grow:!0,children:[t," ",n," ",r]}),h.jsx(Wo,{children:h.jsx("div",{className:xo("w-4 h-4 gjs-bg-white",mi.b,mi.rnd),style:{boxShadow:i}})})]})},children:[h.jsxs(Ey,{children:[h.jsx(oh,{label:"X offset",children:h.jsx(uv,{...nx(n.getProperty("text-shadow-h"))})}),h.jsx(oh,{label:"Y offset",children:h.jsx(uv,{...nx(n.getProperty("text-shadow-v"))})})]}),h.jsx(Ey,{children:h.jsx(oh,{label:"Blur",children:h.jsx(uv,{...nx(n.getProperty("text-shadow-blur"))})})}),h.jsx(Ey,{children:h.jsx(oh,{label:"Color",children:h.jsx(yg,{...rx(n.getProperty("text-shadow-color"))})})})]})}),h.jsx(Ey,{separator:!0,children:h.jsx(wy,{...tx(r,{"filter-name":"blur","filter-value":"3px"}),children:h.jsxs(Ey,{children:[h.jsx(oh,{label:"Type",children:h.jsx(nv,{...Ly(r,"filter")})}),h.jsx(oh,{label:"Value",children:h.jsx(uv,{...Ny(r)})})]})})}),h.jsx(Ey,{separator:!0,children:h.jsx(wy,{...tx(o,{"backdrop-filter-name":"blur","backdrop-filter-value":"3px"}),children:h.jsxs(Ey,{children:[h.jsx(oh,{label:"Type",children:h.jsx(nv,{...ex(o.getProperty("backdrop-filter-name"))})}),h.jsx(oh,{label:"Value",children:h.jsx(uv,{...Ny(o,"backdrop-filter")})})]})})}),h.jsx(Ey,{separator:!0,children:h.jsxs(wy,{...tx(i),children:[h.jsx(Ey,{children:h.jsx(oh,{label:"Type",children:h.jsx(nv,{...ex(i.getProperty("transition-property"))})})}),h.jsx(Ey,{children:h.jsx(oh,{label:"Easing",children:h.jsx(nv,{...ex(i.getProperty("transition-timing-function"))})})}),h.jsxs(Ey,{children:[h.jsx(oh,{label:"Duration",children:h.jsx(uv,{...nx(i.getProperty("transition-duration"))})}),h.jsx(oh,{label:"Delay",children:h.jsx(uv,{...nx(i.getProperty("transition-delay"))})})]})]})}),h.jsx(Ey,{separator:!0,children:h.jsx(wy,{...tx(a),children:h.jsxs(Ey,{children:[h.jsx(oh,{label:"Type",children:h.jsx(nv,{...Ly(a,"transform")})}),h.jsx(oh,{label:"Value",children:h.jsx(uv,{...Ny(a,"transform")})})]})})}),h.jsx(Oy,{property:e.getProperty("transform-origin")}),h.jsx(Oy,{property:e.getProperty("overflow")}),h.jsx(Ey,{children:h.jsx(oh,{property:e.getProperty("backface-visibility"),children:h.jsx(ih,{...ex(e.getProperty("backface-visibility"))})})}),h.jsx(Ey,{separatorTop:!0,children:"Children transform"}),h.jsxs(Ey,{children:[h.jsx(oh,{property:e.getProperty("perspective"),children:h.jsx(uv,{...nx(e.getProperty("perspective"))})}),h.jsx(oh,{property:e.getProperty("transform-style"),children:h.jsx(ih,{...ex(e.getProperty("transform-style"))})})]}),h.jsx(Oy,{property:s})]})}const Ay=bi.s,zy="M6 6v12h13V6H6zm0 13v5H5V0h1v5h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6zm6-14h1v14h-1V5z",Hy="M6 6v12h13V6H6zm0-1h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm6-5h1v24h-1V0z",Dy="M6 6v12h13V6H6zm13-1V0h1v24h-1v-5H6a1 1 0 01-1-1V6c0-.6.4-1 1-1h13zm-7 0h1v14h-1V5z",Iy="M2 6v12h6V6H2zm0 13v5H1V0h1v5h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H2zM16 6v12h6V6h-6zm6-1V0h1v24h-1v-5h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1h6z",Vy="M11 0h1v24h-1V0zM1 6h6v12H1V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H1a1 1 0 01-1-1V6c0-.6.4-1 1-1zm15 1h6v12h-6V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1z",By="M15 19H9V6h6v13zM8 6v13H0v1h24v-1h-8V6h8V5H0v1h8z";function $y({sector:e}){const{editor:t}=kS(),n=md(),[r,o]=s.useState({}),[i,a]=s.useState({}),l=e.getProperty("display"),c=e.getProperty("flex-direction"),u=e.getProperty("justify-content"),d=e.getProperty("align-items"),p=e.getProperty("flex-wrap"),f=e.getProperty("align-content"),g=e.getProperty("align-self"),m=e.getProperty("order"),v=e=>n.t(`styleManager.layout.${e}`),b=l.getValue(),y="flex"===b,x=(i.display||"").indexOf("flex")>=0,w=c.getValue(),j=w.indexOf("reverse")>=0,S=!function(e,t){return e.indexOf(t)>=0}(["column","column-reverse"],w),C=[{id:"row",label:h.jsx(si,{icon:ii.arrowRight,size:bi.sx}),title:v("direction.title.row")},{id:"row-reverse",label:h.jsx(si,{icon:ii.arrowRight,size:Ay,horizontal:!0}),title:v("direction.title.row-reverse")},{id:"column",label:h.jsx(si,{icon:ii.arrowDown,size:bi.sx}),title:v("direction.title.column")},{id:"column-reverse",label:h.jsx(si,{icon:ii.arrowDown,size:Ay,vertical:!0}),title:v("direction.title.column-reverse")}],k=[{id:"flex-start",title:"Start",label:h.jsx(si,{icon:zy,size:Ay,rotate:S?0:90,horizontal:S&&j,vertical:!S&&j})},{id:"center",title:"Center",label:h.jsx(si,{icon:Hy,size:Ay,rotate:S?0:90})},{id:"flex-end",title:"End",label:h.jsx(si,{icon:Dy,size:Ay,rotate:S?0:90,horizontal:S&&j,vertical:!S&&j})},{id:"space-between",title:"Space between",label:h.jsx(si,{icon:Iy,size:Ay,rotate:S?0:90})},{id:"space-around",title:"Space around",label:h.jsx(si,{icon:Vy,size:Ay,rotate:S?0:90})},{id:"space-evenly",title:"Space evenly",label:h.jsx(si,{icon:"M3 6v12h6V6H3zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H3a1 1 0 01-1-1V6c0-.6.4-1 1-1zM0 0h1v24H0V0zm14 6v12h6V6h-6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm8-5h1v24h-1V0zM11 0h1v24h-1V0z",size:Ay,rotate:S?0:90})}],E=[{id:"stretch",title:"Stretch",label:h.jsx(si,{icon:By,size:Ay,rotate:S?0:90})},{id:"flex-start",title:"Start",label:h.jsx(si,{icon:zy,size:Ay,rotate:S?90:0})},{id:"center",title:"Center",label:h.jsx(si,{icon:Hy,size:Ay,rotate:S?90:0})},{id:"flex-end",title:"End",label:h.jsx(si,{icon:Dy,size:Ay,rotate:S?90:0})}],_=[{id:"flex-start",title:"Start",label:h.jsx(si,{icon:zy,size:Ay,rotate:S?90:0,horizontal:S&&j,vertical:!S&&j})},{id:"center",title:"Center",label:h.jsx(si,{icon:Hy,size:Ay,rotate:S?90:0})},{id:"flex-end",title:"End",label:h.jsx(si,{icon:Dy,size:Ay,rotate:S?90:0,horizontal:S&&j,vertical:!S&&j})},{id:"space-between",title:"Space between",label:h.jsx(si,{icon:Iy,size:Ay,rotate:S?90:0})},{id:"space-around",title:"Space around",label:h.jsx(si,{icon:Vy,size:Ay,rotate:S?90:0})},{id:"stretch",title:"Stretch",label:h.jsx(si,{icon:By,size:Ay,rotate:S?0:90})}],O=[{id:"auto",title:"Auto",label:h.jsx(si,{icon:ii.close,size:Ay})},{id:"flex-start",title:"Start",label:h.jsx(si,{icon:zy,size:Ay,rotate:90})},{id:"center",title:"Center",label:h.jsx(si,{icon:Hy,size:Ay,rotate:90})},{id:"flex-end",title:"End",label:h.jsx(si,{icon:Dy,size:Ay,rotate:90})},{id:"stretch",title:"Stretch",label:h.jsx(si,{icon:By,size:Ay,rotate:0})}],T=[{id:"0 0 auto",label:h.jsx(si,{icon:ii.close,size:Ay}),title:"Auto"},{id:"1 1 0%",label:h.jsx(si,{icon:ii.unfoldMoreHorizontal,size:Ay,rotate:90}),title:"Fill container"},{id:"0 1 auto",label:h.jsx(si,{icon:ii.unfoldLessHorizontal,size:Ay,rotate:90}),title:"Hug contents"}];return s.useEffect((()=>{if(!t)return()=>{};const{Styles:e}=t,n=()=>{const e=t.getSelected();let n={},r={};if(e){const t=e.getEl();if(t){n=window.getComputedStyle(t);const e=t.parentElement;e&&(r=window.getComputedStyle(e))}}o(n),a(r)},r=e.events.target;return t.on(r,n),n(),()=>t.off(r,n)}),[t]),h.jsxs(h.Fragment,{children:[h.jsx(Ey,{children:h.jsx(oh,{property:l,tooltip:v(`display.tips.${b}`),row:!0,children:h.jsx(nv,{...ex(l)})})}),y&&h.jsxs(h.Fragment,{children:[h.jsx(Ey,{children:h.jsx(oh,{property:c,children:h.jsx(ih,{...ex(c),options:C})})}),h.jsx(Ey,{children:h.jsx(oh,{property:u,children:h.jsx(ih,{...ex(u),options:k})})}),h.jsx(Ey,{children:h.jsx(oh,{property:d,children:h.jsx(ih,{...ex(d),options:E})})}),h.jsx(Ey,{children:h.jsx(Oy,{property:e.getProperty("gap")})}),h.jsx(Ey,{children:h.jsx(oh,{property:p,row:!0,children:h.jsx(nv,{...ex(p)})})}),"nowrap"!==p.getValue()&&h.jsx(Ey,{children:h.jsx(oh,{property:f,children:h.jsx(ih,{...ex(f),options:_})})})]}),x&&h.jsxs(h.Fragment,{children:[h.jsx(Ey,{separatorTop:!0,children:v("flexChild")}),h.jsx(Ey,{children:h.jsx(Oy,{property:e.getProperty("flex"),options:T})}),h.jsx(Ey,{children:h.jsx(oh,{property:g,children:h.jsx(ih,{...ex(g),options:O})})}),h.jsx(Ey,{children:h.jsx(oh,{property:m,row:!0,children:h.jsx(uv,{...nx(m)})})})]})]})}const Fy=["topLeft","topRight","bottomLeft","bottomRight","left","right","bottom","top","full"];function Uy({sector:e}){var t;const n=md(),r=e.getProperty("position"),o=r.getValue(),i=e.getProperty("top"),a=e.getProperty("right"),s=e.getProperty("bottom"),l=e.getProperty("left"),c=e=>n.t(`styleManager.position.${e}`),u=Fy.map((e=>({id:e,label:c(`presets.options.${e}`)}))),d=["absolute","fixed"].includes(o);return h.jsxs(h.Fragment,{children:[h.jsxs(Ey,{children:[h.jsx(oh,{property:r,tooltip:c(`tips.${null==(t=r.getOption())?void 0:t.id}`),row:!0,children:h.jsx(nv,{...ex(r)})}),d&&h.jsx(Wo,{children:h.jsx(Fu,{title:c("presets.title"),children:h.jsx(nv,{options:u,onChange:e=>{let t="auto",n="auto",r="auto",o="auto";switch(e){case"topLeft":t="0%",o="0%";break;case"topRight":t="0%",n="0%";break;case"bottomLeft":r="0%",o="0%";break;case"bottomRight":r="0%",n="0%";break;case"left":t="0%",r="0%",o="0%";break;case"right":t="0%",r="0%",n="0%";break;case"bottom":o="0%",r="0%",n="0%";break;case"top":o="0%",t="0%",n="0%";break;case"full":o="0%",t="0%",n="0%",r="0%"}i.upValue(t),a.upValue(n),s.upValue(r),l.upValue(o)},emptyState:"P",size:"s",caret:"",value:!0})})})]}),"static"!==o&&h.jsxs(h.Fragment,{children:[h.jsxs(Ey,{col:!0,children:[h.jsx(Uo,{className:xo("gs-utl-w-1/2 gjs-m-auto"),children:h.jsx(oh,{property:i,children:h.jsx(uv,{...nx(i)})})}),h.jsxs(Uo,{space:"s",children:[h.jsx(Wo,{grow:!0,children:h.jsx(oh,{property:l,children:h.jsx(uv,{...nx(l)})})}),h.jsx(Wo,{grow:!0,children:h.jsx(oh,{property:a,children:h.jsx(uv,{...nx(a)})})})]}),h.jsx(Uo,{className:xo("gs-utl-w-1/2 gjs-m-auto"),children:h.jsx(oh,{property:s,children:h.jsx(uv,{...nx(s)})})})]}),h.jsx(Ey,{children:h.jsx(oh,{property:e.getProperty("z-index"),children:h.jsx(uv,{...nx(e.getProperty("z-index"))})})})]})]})}function Wy({sector:e}){const t=e.getProperty("width"),n=e.getProperty("min-width"),r=e.getProperty("max-width"),o=e.getProperty("height"),i=e.getProperty("min-height"),a=e.getProperty("max-height");return h.jsxs(h.Fragment,{children:[h.jsxs(Ey,{children:[h.jsx(oh,{property:t,children:h.jsx(uv,{...nx(t)})}),h.jsx(oh,{property:o,children:h.jsx(uv,{...nx(o)})})]}),h.jsxs(Ey,{children:[h.jsx(oh,{property:n,children:h.jsx(uv,{...nx(n)})}),h.jsx(oh,{property:i,children:h.jsx(uv,{...nx(i)})})]}),h.jsxs(Ey,{children:[h.jsx(oh,{property:r,children:h.jsx(uv,{...nx(r)})}),h.jsx(oh,{property:a,children:h.jsx(uv,{...nx(a)})})]})]})}function Ky({sector:e}){return h.jsxs(h.Fragment,{children:[h.jsx(Oy,{property:e.getProperty("padding")}),h.jsx(Oy,{property:e.getProperty("margin")})]})}function qy({sector:e}){const t=e.getProperty("font-family"),n=e.getProperty("color"),r=e.getProperty("font-size"),o=e.getProperty("font-weight"),i=e.getProperty("line-height"),a=e.getProperty("letter-spacing"),s=e.getProperty("text-align"),l=e.getProperty("text-decoration"),c=e.getProperty("text-transform"),u=e.getProperty("direction"),d=e.getProperty("white-space");return h.jsxs(h.Fragment,{children:[!!t&&h.jsx(Ey,{children:h.jsx(oh,{property:t,children:h.jsx(nv,{...ex(t)})})}),!!n&&h.jsx(Ey,{children:h.jsx(oh,{property:n,children:h.jsx(yg,{...rx(n)})})}),h.jsxs(Ey,{children:[!!r&&h.jsx(oh,{property:r,children:h.jsx(uv,{...nx(r)})}),!!o&&h.jsx(oh,{property:o,children:h.jsx(nv,{...ex(o)})})]}),h.jsxs(Ey,{children:[!!i&&h.jsx(oh,{property:i,children:h.jsx(uv,{...nx(i)})}),!!a&&h.jsx(oh,{property:a,children:h.jsx(uv,{...nx(a)})})]}),h.jsxs(Ey,{children:[!!s&&h.jsx(oh,{property:s,children:h.jsx(nv,{...ex(s)})}),!!l&&h.jsx(oh,{property:l,children:h.jsx(nv,{...ex(l)})})]}),h.jsxs(Ey,{children:[!!c&&h.jsx(oh,{property:c,children:h.jsx(nv,{...ex(c)})}),!!u&&h.jsx(oh,{property:u,children:h.jsx(nv,{...ex(u)})})]}),!!d&&h.jsx(Ey,{children:h.jsx(oh,{property:d,children:h.jsx(nv,{...ex(d)})})})]})}const Gy="gs-style-manager",Yy=`${Gy}-sector`,Zy=`${Yy}-header`,Xy=`${Yy}-content`,Qy=(e,t=0,n=!0)=>xo(Zy,ci.bgH2,fi.xyS,ci.br,t&&mi.bt,(e||n)&&mi.bb),Jy=(e,t={})=>e.getOptions().map((n=>({id:e.getOptionId(n),label:e.getOptionLabel(e.getOptionId(n),t),title:n.title}))),ex=(e,t={})=>({size:"s",options:Jy(e,t),value:e.getValue(),onChange:t=>e.upValue(t)}),tx=(e,t={})=>({title:e.getLabel(),titleAdd:`Add new ${e.getLabel()}`,items:e.getLayers(),selected:e.getSelectedLayer(),renderItem:t=>e.getLayerLabel(t),add:()=>e.addLayer(t,{at:0}),select:t=>e.selectLayer(t),remove:t=>e.removeLayer(t),move:(t,n=0)=>e.moveLayer(t,n),label:h.jsx(oh,{property:e})}),nx=e=>({size:"s",value:e.getValue({noDefault:!0}),valueUnit:e.getUnit(),units:e.getUnits(),placeholder:e.getDefaultValue(),onChangeUnit:t=>e.upUnit(t),onChange:(t,n)=>e.upValue(t,{partial:n})}),rx=e=>({size:"s",value:e.getValue({noDefault:!0}),placeholder:e.getDefaultValue(),onChange:(t,n)=>e.upValue(t,{partial:n})}),ox=e=>({...rx(e),onOpen(){const t=e.em.Assets;t.open({select(n){e.upValue(n.getSrc()),t.close()}})}}),ix=e=>{let t=ky;switch(e.getId()){case"gs-layout":t=$y;break;case"gs-size":t=Wy;break;case"gs-space":t=Ky;break;case"gs-position":t=Uy;break;case"gs-borders":t=Ty;break;case"gs-effects":t=Ry;break;case"gs-typography":t=qy;break;case"gs-background":t=kx}return h.jsx(t,{sector:e})};function ax({className:e,sectors:t}){const{Styles:n}=_f(),r=n.getSelected(),o=t.length?t:n.getSectors({visible:!0});return r?h.jsx("div",{className:xo(Gy,e,"select-none"),children:o.map(((e,t)=>h.jsx(rh,{classNameWrap:Yy,sticky:!0,handler:()=>{const t=e.getProperties({withValue:!0}).length>0,n=e.getProperties({withParentValue:!0}).length>0;return h.jsxs(Uo,{space:"xs",items:"center",children:[h.jsx(Wo,{className:xo("gjs-mr-2"),children:e.getName()}),t&&h.jsx(Wo,{children:h.jsx("div",{className:xo(yi.dot,ci.bgA2)})}),n&&h.jsx(Wo,{children:h.jsx("div",{className:xo(yi.dot,ci.bgW)})})]})},className:e=>Qy(e,t,t===o.length-1),children:h.jsx(Uo,{className:xo(Xy,"gjs-p-2"),col:!0,children:ix(e)})},e.getId())))}):null}function sx({value:e,label:t,border:n,size:r="m",onChange:o}){const i=!!e,a=xo("relative inline-flex items-center h-6 gjs-rounded-full w-11 transition-colors focus:gs-utl-outline-none",i?ci.bgA:ci.bgH,vi.focus,n&&`${ci.br} ${mi.b}`);return h.jsx(Jc.Group,{children:h.jsxs(Uo,{full:!0,items:"center",children:[!!t&&h.jsx(Jc.Label,{className:xo("gjs-mr-4 flex-1"),passive:!0,children:h.jsx($p,{as:"span",size:r,m:"",children:t})}),h.jsx(Jc,{checked:i,onChange:o,className:a,children:h.jsx("span",{className:xo(ci.bg,"inline-block w-4 h-4 transform gjs-rounded-full transition-transform",i?"translate-x-6":"translate-x-1")})})]})})}const lx=/^-?[0-9]+(\.[0-9]+)?[a-zA-Z%]{0,}$/,cx=/,(?![^(]*\))/,ux=/\s(?![^(]*\))/,dx=/^(closest-side|closest-corner|farthest-side|farthest-corner)/i,px=/^circle|ellipse/i,fx=e=>{var t;const n=[],{name:r,value:o}=yf(e),[i,...a]=o.split(cx).map((e=>e.trim())).filter(Boolean),s=a.length>1,l=s?i:"",c={type:"none"},u=s?a:[i,...a];if(lx.test(l))c.type="angle",c.value=l;else if(/^to\s/.test(l))c.type="side-or-corner",c.value=l;else if(dx.test(l))c.type="size",c.value=l;else if(px.test(l)||/^at\s/.test(l)||/\sat\s/.test(l)){c.type="at",c.value=l;const e=(null==(t=l.match(px))?void 0:t[0])||"circle";c.shape=e;const n={x:"0%",y:"0%"},r={x:"0%",y:"0%"},[o,i]=l.replace(px,"").trim().split("at").map((e=>e.trim()));if(o){const[e,t]=o.split(ux);n.x=e,n.y=t||e}if(i){const[e,t]=i.split(ux);r.x=e,r.y=t||e}c.size=n,c.position=r}return u.forEach((e=>{const[t,r]=e.split(ux);n.push({color:t,hint:r?parseFloat(r):null})})),n.forEach(((e,t)=>{null===e.hint&&(e.hint=t/(n.length-1)*100)})),{name:r,orientation:c,colorStops:n}},hx=({stops:e,orientation:t="to right",name:n="linear-gradient"})=>{const r=(1===e.length?[{color:e[0].color,hint:null},{color:e[0].color,hint:null}]:e).map((e=>`${e.color} ${e.hint?`${e.hint}%`:""}`.trim())).join(", ");return r?`${n}(${t}, ${r})`:"none"},gx=e=>e.slice().sort(((e,t)=>(e.hint||0)-(t.hint||0)));function mx({className:e,value:t,onChange:n}){var r,o,i;const a=fx(t),[l,c]=s.useState(a.colorStops),[u,d]=s.useState(null),p=s.useRef(null),f=xo("grad-picker select-none",e,mi.rnd),g=a.name||"linear-gradient",m=g.indexOf("radial")>=0,v=g.indexOf("repeating")>=0,b=a.orientation.value,y=`${parseFloat(`${b}`)||180}`,x=`${parseFloat(`${null==(r=a.orientation.size)?void 0:r.x}`)||0}`,w=`${parseFloat(`${null==(o=a.orientation.position)?void 0:o.x}`)||0}`,j=`${parseFloat(`${null==(i=a.orientation.position)?void 0:i.y}`)||0}`,S=(e,t=!1)=>{const r=gx(e);c(r),null==n||n(hx({name:g,orientation:b,stops:r}),t)};s.useEffect((()=>{if(!u)return;const e=parseFloat(`${u.stop.hint}`),t=t=>{let n=100*(t.clientX-u.x);n/=u.w,n=e+n,n=n<0?0:n,n=n>100?100:n,u.stop.hint=parseInt(`${n}`,10),S(l,!0)},n=()=>{d(null),S(l)};return window.addEventListener("pointermove",t),window.addEventListener("pointerup",n),()=>{window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",n),n()}}),[u]);const C=e=>(null==u?void 0:u.stop)===e;return h.jsxs("div",{className:f,children:[!(null==u||!u.stop)&&h.jsx("div",{className:xo("fixed inset-0 z-50 cursor-colr")}),h.jsxs("div",{className:xo("relative gjs-mb-6 gjs-mt-3"),children:[h.jsx("div",{className:xo("bg-checker h-8",mi.rnd),children:h.jsx("div",{ref:p,className:xo("w-full h-full cursor-cross",mi.b,mi.rnd,ci.br),style:{backgroundImage:hx({stops:l})},onClick:e=>{const t=p.current,n=(null==t?void 0:t.clientWidth)||0,r=(null==t?void 0:t.clientHeight)||0,o=e.nativeEvent.offsetX-((null==t?void 0:t.clientLeft)||0),i=e.nativeEvent.offsetY-((null==t?void 0:t.clientTop)||0),a=o/n*100,s=document.createElement("canvas"),c=s.getContext("2d");if(!c)return;s.width=n,s.height=r;const u=c.createLinearGradient(0,0,n,r);l.forEach((e=>u.addColorStop(parseFloat(`${e.hint}`)/100,e.color))),c.fillStyle=u,c.fillRect(0,0,s.width,s.height),s.style.background="black";const d=c.getImageData(o,i,1,1).data,f=d[3]?(100/255*d[3]/100).toFixed(2):0,h=`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${f})`,g="rgba(0, 0, 0, 0)"===h?"#000":h;S([...l,{color:g,hint:a}])}})}),l.map(((e,t)=>h.jsxs("div",{className:xo("absolute top-0 h-full"),style:{left:`${e.hint}%`},children:[h.jsx("div",{className:xo("cursor-pointer absolute gs-utl-translate-x-[-50%] gs-utl-top-[-14px]"),onClick:()=>(e=>{S(l.filter((t=>t!==e)))})(e),children:h.jsx(si,{icon:ii.close,size:bi.s3x})}),h.jsx("div",{onPointerDown:t=>((e,t)=>{const n=p.current;d({stop:t,w:(null==n?void 0:n.clientWidth)||0,h:(null==n?void 0:n.clientHeight)||0,x:e.clientX,y:e.clientY})})(t,e),className:xo("h-full w-1 gs-utl-translate-x-[-50%] cursor-colr opacity-50 gjs-border-white",mi.br,mi.bl,C(e)?"gjs-bg-white":"gjs-bg-black")}),h.jsx("div",{className:xo("cursor-pointer gs-utl-bottom-[-17px] gs-utl-left-[-7px] absolute"),children:h.jsx(mg,{value:e.color,onChange:(t,n)=>((e,t,n)=>{t&&(e.color=t),S(l,n)})(e,t,n),className:xo("h-4 w-4 gjs-rounded-full gjs-border-2")})})]},t)))]}),h.jsxs(Uo,{space:"s",items:"center",children:[h.jsx(Wo,{grow:!0,children:h.jsx(sx,{label:"Repeat",value:v,onChange:e=>{null==n||n(hx({stops:l,orientation:b,name:`${e?"repeating-":""}${m?"radial":"linear"}-gradient`}))}})}),h.jsx(Wo,{grow:!0,children:h.jsx(sx,{label:"Radial",value:m,onChange:e=>{null==n||n(hx({stops:l,orientation:e?"100px at 50% 50%":"90deg",name:`${v?"repeating-":""}${e?"radial":"linear"}-gradient`}))}})})]}),m?h.jsxs(Uo,{space:"s",col:!0,children:[h.jsx(Wo,{children:h.jsx(Uo,{space:"s",items:"center",children:h.jsx(Wo,{grow:!0,children:h.jsx(uv,{pan:"S",size:"s",value:x,onChange:(e,t=!1)=>{null==n||n(hx({stops:l,name:g,orientation:`${e}px at ${w}% ${j}%`}),t)},valueUnit:"px",units:["px"]})})})}),h.jsx(Wo,{children:h.jsxs(Uo,{space:"s",children:[h.jsx(Wo,{grow:!0,children:h.jsx(uv,{pan:"X",size:"s",value:w,onChange:(e,t=!1)=>{null==n||n(hx({stops:l,name:g,orientation:`${x}px at ${e}% ${j}%`}),t)},valueUnit:"%",units:["%"]})}),h.jsx(Wo,{grow:!0,children:h.jsx(uv,{pan:"Y",size:"s",value:j,onChange:(e,t=!1)=>{null==n||n(hx({stops:l,name:g,orientation:`${x}px at ${w}% ${e}%`}),t)},valueUnit:"%",units:["%"]})})]})})]}):h.jsx(Uo,{space:"s",items:"center",nowrap:!0,children:h.jsx(Wo,{grow:!0,children:h.jsx(uv,{pan:"A",size:"s",value:y,onChange:(e,t=!1)=>{null==n||n(hx({stops:l,name:g,orientation:`${e}deg`}),t)},valueUnit:"deg",units:["deg"]})})})]})}var vx=(e=>(e.Image="image",e.Gradient="gradient",e.Color="color",e))(vx||{});const bx="background-image",yx="__background-type",xx=bx,wx="https://placehold.co/150/777/white.png?text=IMAGE",jx="50px",Sx={[yx]:"image","background-image":`url("${wx}")`,"background-size":`${jx} ${jx}`,"background-repeat":"repeat","background-position":"0px 0px"},Cx=e=>(e.includes("gradient(")?fx(e).colorStops[0].color:e)||"";function kx({sector:e}){var t;const n=_f(),r=e.getProperty("background"),o=r.getProperty(yx),i=r.getProperty("background-image"),a=r.getProperty("background-position"),s=r.getProperty("background-size"),l=e.getProperty("background-color"),c=e.getProperty("background-clip"),u=(null==(t=r.getSelectedLayer())?void 0:t.getIndex())||-1,d=o.getValue(),p="image"===d,f=i.getValue(),g=((e,t)=>t.map((t=>({...t,title:e.getOptionLabel(e.getOptionId(t))}))))(o,[{id:"image",label:h.jsx(si,{icon:ii.image,size:bi.s})},{id:"gradient",label:h.jsx(si,{icon:ii.gradientVertical,size:bi.s})},{id:"color",label:h.jsx(si,{icon:ii.checkboxBlank,size:bi.s})}]);return h.jsxs(h.Fragment,{children:[h.jsx(Ey,{separator:!0,children:h.jsxs(wy,{...tx(r,Sx),previewStyle:e=>r.getStyleFromLayer(e,{camelCase:!0}),children:[h.jsx(Ey,{children:h.jsx(oh,{label:"Type",children:h.jsx(ih,{...ex(o),options:g,onChange:e=>{let t="none",n="100%";"image"===e?(t=`url("${wx}")`,n=jx):"gradient"===e?t="linear-gradient(90deg, black 10%, white 90%)":"color"===e&&(t="rgba(0, 0, 0, 0.5)"),i.upValue(t),o.upValue(e),a.upValue("0 0"),s.upValue(`${n} ${n}`)}})})}),h.jsx(Ey,{children:h.jsxs(oh,{children:[p&&h.jsx(jy,{value:yf(f).value,onOpen:()=>{const e=n.Assets;e.open({select(t){const n=t.getSrc();i.upValue(`url("${n}")`),e.close()}})}}),"color"===d&&h.jsx(yg,{...rx(i),value:Cx(f)}),"gradient"===d&&h.jsx(mx,{value:f,onChange:(e,t)=>i.upValue(e,{partial:t})},u)]})}),p&&h.jsxs(h.Fragment,{children:[h.jsx(Ey,{col:!0,children:h.jsx(Oy,{property:a})}),h.jsx(Ey,{col:!0,children:h.jsx(Oy,{property:s})}),h.jsxs(Ey,{children:[h.jsx(oh,{label:r.getProperty("background-repeat").getLabel(),children:h.jsx(nv,{...ex(r.getProperty("background-repeat"))})}),h.jsx(oh,{label:r.getProperty("background-attachment").getLabel(),children:h.jsx(nv,{...ex(r.getProperty("background-attachment"))})})]}),h.jsx(Ey,{children:h.jsx(oh,{label:r.getProperty("background-origin").getLabel(),children:h.jsx(nv,{...ex(r.getProperty("background-origin"))})})})]})]})}),h.jsx(Ey,{children:h.jsx(oh,{property:l,children:h.jsx(yg,{...rx(l)})})}),h.jsx(Ey,{children:h.jsx(oh,{property:c,children:h.jsx(nv,{...ex(c)})})})]})}const Ex=["%"],_x=["s","ms"],Ox=["deg","rad","grad"],Tx=["px","%","em","rem","vw","vh"],Px={type:"select",options:["visible","hidden","scroll","auto"].map((e=>({id:e}))),default:"visible"},Nx=e=>({id:e,label:e.split("-").map(Mo).join(" ")}),Lx=e=>({property:t,to:n})=>{if(n.value){const n=t.getOption(),r=t.getParent().getProperty(e),o=r.getUnit(),i={units:n.units||[],min:n.min,max:n.max,unit:""};(!o||(null==i?void 0:i.units.indexOf(o))<0)&&(i.unit=(null==i?void 0:i.units[0])||""),r.up(i)}},Mx=e=>{const t={[xx]:e};if(e.indexOf("url(")>-1)t[yx]=vx.Image;else if(e.indexOf("gradient(")>-1){const n=fx(e),r=n.colorStops,o=n.name.indexOf("linear")>=0;2===r.length&&o&&r[0].color===r[1].color?t[yx]=vx.Color:t[yx]=vx.Gradient}else t[yx]=vx.Color,t[xx]=(e=>`linear-gradient(${e} 1%, ${e} 100%)`)(e);return t},Rx=(e="filter")=>{const t=`${e}-name`,n=`${e}-value`;return{property:e,type:"stack",layerSeparator:" ",fromStyle(r,{separatorLayers:o}){const i=r[e]||"";return i?i.split(o).map((e=>{const{name:r,value:o}=yf(e);return{[t]:r,[n]:o}})):[]},toStyle:(e,{name:r})=>({[r]:`${e[t]}(${e[n]||"0"})`}),properties:[{property:t,type:"select",default:"blur",options:[{id:"blur",label:"Blur",min:0,units:["px","em","rem","vw","vh"]},{id:"brightness",label:"Brightness",min:0,units:["%"]},{id:"contrast",label:"Contrast",min:0,units:["%"]},{id:"grayscale",label:"Grayscale",min:0,max:100,units:["%"]},{id:"hue-rotate",label:"Hue rotate",min:0,max:360,units:["deg","rad","grad"]},{id:"invert",label:"Invert",min:0,max:100,units:["%"]},{id:"saturate",label:"Saturate",min:0,units:["%"]},{id:"sepia",label:"Sepia",min:0,max:100,units:["%"]}],onChange:Lx(n)},{property:n,type:"integer"}]}},Ax=(e,{x:t,y:n,mergable:r}={})=>({property:e,type:"composite",properties:[{property:`${e}-x`,type:"integer",units:Tx,...t},{property:`${e}-y`,type:"integer",units:Tx,...n}],...r&&{fromStyle(e,{name:t,separator:n,property:r}){const[o,i]=r.getProperties(),[a,s]=(e[t]||"").split(n);return{[o.getId()]:e[o.getName()]||a||"",[i.getId()]:e[i.getName()]||s||a||""}},toStyle(e,{name:t,property:n}){const[r,o]=n.getProperties(),i=e[r.getId()],a=e[o.getId()];return{[t]:i===a?i:`${i} ${a}`}}}}),zx=[{name:"Size",open:!1,buildProps:["width","height","max-width","min-height"],properties:[{property:"icon-size",type:"number",defaults:"20px",units:["px","%"]}]},{name:"Space",open:!1,buildProps:["margin","padding","vertical-align"],properties:[{property:"margin",properties:[{name:"Top",property:"margin-top"},{name:"Right",property:"margin-right"},{name:"Bottom",property:"margin-bottom"},{name:"Left",property:"margin-left"}]},{property:"padding",properties:[{name:"Top",property:"padding-top"},{name:"Right",property:"padding-right"},{name:"Bottom",property:"padding-bottom"},{name:"Left",property:"padding-left"}]},{property:"vertical-align",type:"select",options:["top","middle","bottom"].map(Nx)}]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","align","text-decoration","font-style"],properties:[{name:"Font",property:"font-family"},{name:"Weight",property:"font-weight"},{name:"Font color",property:"color"},{property:"text-align",defaults:"left",type:"select",options:[{id:"left",label:"Left"},{id:"center",label:"Center"},{id:"right",label:"Right"},{id:"justify",label:"Justify"}]},{property:"align",defaults:"left",type:"select",options:[{id:"left",label:"Left"},{id:"center",label:"Center"},{id:"right",label:"Right"},{id:"justify",label:"Justify"}]},{property:"text-decoration",type:"select",defaults:"none",options:[{id:"none",label:"None"},{id:"underline",label:"underline"},{id:"line-through",label:"Line-through"}]},{property:"font-style",type:"select",defaults:"normal",options:[{id:"normal",label:"Normal"},{id:"italic",label:"Italic"}]}]},{name:"Borders",open:!1,buildProps:["border-radius","border"],properties:[{property:"border-radius",corners:!0,properties:[{name:"Top",property:"border-top-left-radius"},{name:"Right",property:"border-top-right-radius"},{name:"Bottom",property:"border-bottom-left-radius"},{name:"Left",property:"border-bottom-right-radius"}]},{property:"border",generic:!0},{property:"border-detached",name:"Border",type:"composite",detached:!0,generic:!0,properties:[{name:"Width",property:"border-width",type:"integer",units:["px","%"]},{name:"Style",property:"border-style",type:"select",options:["none","solid","dotted","dashed","double","groove","ridge","inset","outset"].map(Nx)},{name:"Color",property:"border-color",type:"color"}]}]},{name:"Decorations",open:!1,buildProps:["background-color","container-background-color","background-url","background-repeat","background-size"],properties:[{name:"Background color",property:"container-background-color",full:!0,type:"color"},{property:"background-url",type:"file"}]}],Hx=[{id:"gs-layout",name:"Layout",properties:[{extend:"display"},{extend:"flex-direction",name:"Direction",type:"radio",default:"row"},{extend:"justify-content",type:"radio",default:"flex-start"},{extend:"align-items",type:"radio",default:"stretch"},Ax("gap",{x:{property:"row-gap",min:0,default:"0"},y:{property:"column-gap",min:0,default:"0"},mergable:!0}),{extend:"flex-wrap"},{extend:"align-content"},{extend:"align-self"},{extend:"order"},{property:"flex",type:"composite",properties:[{type:"integer",property:"flex-grow",default:"0",min:0},{type:"integer",property:"flex-shrink",default:"0",min:0},{type:"integer",property:"flex-basis",fixedValues:["auto"],default:"auto",units:Tx,min:0}]}]},{id:"gs-size",name:"Size",properties:[{extend:"width"},{extend:"min-width"},{extend:"max-width"},{extend:"height"},{extend:"min-height"},{extend:"max-height"}]},{id:"gs-space",name:"Space",properties:[{extend:"padding",detached:!0},{extend:"margin",detached:!0}]},{id:"gs-position",name:"Position",properties:[{extend:"position",options:[{id:"static",label:"Static"},{id:"relative",label:"Relative"},{id:"absolute",label:"Absolute"},{id:"fixed",label:"Fixed"},{id:"sticky",label:"Sticky"}],onChange({opts:e,property:t}){if(e.__clear){const n={top:"",right:"",bottom:"",left:"","z-index":""};t.__upTargetsStyle(n,e)}}},{extend:"top"},{extend:"right"},{extend:"bottom"},{extend:"left"},{extend:"z-index",type:"integer",default:"0"}]},{id:"gs-typography",name:"Typography",properties:[{extend:"font-family"},{extend:"color"},{extend:"font-size"},{extend:"font-weight"},{extend:"line-height",min:0},{extend:"letter-spacing"},{extend:"text-align"},{extend:"text-decoration",type:"select",default:"none",options:[{id:"none",label:"None"},{id:"underline",label:"Underline"},{id:"overline",label:"Overline"},{id:"line-through",label:"Line through"}]},{extend:"text-transform",type:"select",default:"none",options:[{id:"none",label:"None"},{id:"capitalize",label:"Capitalize"},{id:"uppercase",label:"Uppercase"},{id:"lowercase",label:"Lowercase"}]},{extend:"direction",type:"radio",default:"ltr",options:[{id:"ltr",label:"LTR"},{id:"rtl",label:"RTL"}]},{extend:"white-space",type:"select",default:"normal",options:[{id:"normal",label:"Normal"},{id:"nowrap",label:"No wrap"},{id:"pre",label:"Pre"},{id:"pre-wrap",label:"Pre wrap"},{id:"pre-line",label:"Pre line"},{id:"break-spaces",label:"Break spaces"}]}]},{id:"gs-background",name:"Background",properties:[{property:"background",type:"stack",layerSeparator:new RegExp("(?<!\\(.*[^)]),(?![^(]*\\))"),layerJoin:", ",detached:!0,layerLabel:(e,{values:t,property:n})=>n.getProperty(yx).getOptionLabel(t[yx]),toStyle(e){const t=e[yx];let n=e[xx];return"color"===t&&n.indexOf("linear-gradient")<0&&(n=`linear-gradient(${n} 1%, ${n} 100%)`),{...e,[xx]:n}},fromStyle(e,{property:t,name:n,separatorLayers:r}){const o=r,i=t.getProperties();let a=[];return e[bx]?(a=t.__splitStyleName(e,bx,o).map(Mx),i.forEach((n=>{const r=n.getId(),i=n.getName();i!==bx&&t.__splitStyleName(e,i,o).map((e=>({[r]:e||n.getDefaultValue()}))).forEach(((e,t)=>{a[t]=a[t]?{...a[t],...e}:e}))}))):e[n]&&(a=t.__splitStyleName(e,n,/(?![^)(]*\([^)(]*?\)\)),(?![^\(]*\))/).map((e=>e.substring(0,e.lastIndexOf(")")+1))).map(Mx)),a},properties:[{property:yx,type:"radio",default:"image",options:[{id:vx.Image},{id:vx.Gradient},{id:vx.Color}]},{property:xx,default:"none"},{property:"background-position",type:"composite",properties:["background-position-x","background-position-y"].map((e=>({type:"integer",property:e,units:Tx,default:"0px"})))},{property:"background-size",type:"composite",properties:["background-size-x","background-size-y"].map((e=>({type:"integer",property:e,units:Tx,default:"auto"})))},{property:"background-repeat",default:"repeat",type:"select",options:[{id:"repeat",label:"Repeat"},{id:"repeat-x",label:"Repeat x"},{id:"repeat-y",label:"Repeat y"},{id:"no-repeat",label:"No repeat"},{id:"space",label:"Space"},{id:"round",label:"Round"}]},{property:"background-attachment",default:"scroll",type:"select",options:[{id:"scroll",label:"Scroll"},{id:"fixed",label:"Fixed"}]},{property:"background-origin",default:"padding-box",type:"select",options:[{id:"padding-box",label:"Padding box"},{id:"border-box",label:"Border box"},{id:"content-box",label:"Content box"}]}]},{property:"background-color",type:"color",default:"none"},{property:"background-clip",default:"border-box",type:"select",options:[{id:"border-box",label:"Border box"},{id:"padding-box",label:"Padding box"},{id:"content-box",label:"Content box"},{id:"text",label:"Text"}],onChange({to:e,property:t,opts:n}){const{value:r}=e;if(void 0!==r){const e="text"===r;t.__upTargetsStyle({"-webkit-background-clip":e?r:"","-webkit-text-fill-color":e?"transparent":""},n)}}}]},{id:"gs-borders",name:"Borders",properties:[{extend:"border-radius",detached:!0},{extend:"border-width",type:"composite",detached:!0,properties:["border-top-width","border-right-width","border-bottom-width","border-left-width"].map((e=>({type:"integer",property:e,default:"0",units:Tx})))},{extend:"border-style",type:"composite",detached:!0,properties:["border-top-style","border-right-style","border-bottom-style","border-left-style"].map((e=>({type:"select",property:e,default:"none",options:[{id:"none",label:"None"},{id:"solid",label:"Solid"},{id:"dotted",label:"Dotted"},{id:"dashed",label:"Dashed"},{id:"double",label:"Double"},{id:"groove",label:"Groove"},{id:"ridge",label:"Ridge"},{id:"inset",label:"Inset"},{id:"outset",label:"Outset"}]})))},{extend:"border-color",type:"composite",detached:!0,properties:["border-top-color","border-right-color","border-bottom-color","border-left-color"].map((e=>({type:"color",property:e,default:"currentColor"})))}]},{id:"gs-effects",name:"Effects",properties:[{property:"opacity",type:"integer",min:0,max:100,default:"100",units:["%"]},{property:"mix-blend-mode",type:"select",default:"normal",options:[{id:"normal",label:"Normal"},{id:"multiply",label:"Multiply"},{id:"screen",label:"Screen"},{id:"overlay",label:"Overlay"},{id:"darken",label:"Darken"},{id:"lighten",label:"Lighten"},{id:"color-dodge",label:"Color dodge"},{id:"color-burn",label:"Color burn"},{id:"hard-light",label:"Hard light"},{id:"soft-light",label:"Soft light"},{id:"difference",label:"Difference"},{id:"exclusion",label:"Exclusion"},{id:"hue",label:"Hue"},{id:"saturation",label:"Saturation"},{id:"color",label:"Color"},{id:"luminosity",label:"Luminosity"}]},{extend:"cursor"},Ax("overflow",{x:Px,y:Px,mergable:!0}),{extend:"box-shadow",fromStyle(e,{separatorLayers:t}){const n=e["box-shadow"]||"";return n?n.split(t).map((e=>{const{x:t,y:n,blur:r,spread:o,inset:i,color:a}=bf(e);return{"box-shadow-h":t,"box-shadow-v":n,"box-shadow-blur":r,"box-shadow-spread":o,"box-shadow-color":a,"box-shadow-type":i?"inset":""}})):[]}},{extend:"text-shadow",fromStyle(e,{separatorLayers:t}){const n=e["text-shadow"]||"";return n?n.split(t).map((e=>{const{x:t,y:n,blur:r,color:o}=bf(e);return{"text-shadow-h":t,"text-shadow-v":n,"text-shadow-blur":r,"text-shadow-color":o}})):[]}},Rx(),Rx("backdrop-filter"),{property:"transition",type:"stack",layerLabel:(e,{values:t})=>`${Mo(t["transition-property"])}: ${t["transition-duration"]}`,properties:[{property:"transition-property",type:"select",default:"opacity",options:["width","height","min-width","min-height","max-width","max-height","padding","margin","color","font-size","line-height","letter-height","border","border-radius","background","opacity","box-shadow","text-shadow","filter","backdrop-filter","transform","all"].map(Nx)},{property:"transition-duration",type:"integer",default:"1s",unit:_x[0],units:_x,min:0},{property:"transition-timing-function",type:"select",default:"ease",options:[{id:"ease",label:"Ease"},{id:"ease-in",label:"Ease-In"},{id:"ease-in-out",label:"Ease-In-Out"},{id:"ease-out",label:"Ease-Out"},{id:"linear",label:"Linear"}]},{property:"transition-delay",type:"integer",default:"0s",unit:_x[0],units:_x}]},{property:"transform",type:"stack",layerSeparator:" ",layerLabel:(e,{values:t,property:n})=>{const r=n.getProperty("transform-name").getOptionLabel(t["transform-name"]);return`${Mo(r)}: ${t["transform-value"]}`},fromStyle:(e=>{const t=`${e}-name`,n=`${e}-value`;return(r,{separatorLayers:o})=>{const i=r[e]||"";return i?i.split(o).map((e=>{const{name:r,value:o}=yf(e);return{[t]:r,[n]:o}})):[]}})("transform"),toStyle:((e,t="")=>{const n=`${e}-name`,r=`${e}-value`;return(e,{name:o})=>({[o]:`${e[n]}(${e[r]||t})`})})("transform","0"),properties:[{property:"transform-name",type:"select",default:"translateX",options:[{id:"translateX",label:"Move X",units:Tx},{id:"translateY",label:"Move Y",units:Tx},{id:"translateZ",label:"Move Z",units:Tx},{id:"rotateX",label:"Rotate X",units:Ox},{id:"rotateY",label:"Rotate Y",units:Ox},{id:"rotateZ",label:"Rotate Z",units:Ox},{id:"scale",label:"Scale",units:Ex},{id:"scaleX",label:"Scale X",units:Ex},{id:"scaleY",label:"Scale Y",units:Ex},{id:"scaleZ",label:"Scale Z",units:Ex},{id:"skewX",label:"Skew X",units:Ox},{id:"skewY",label:"Skew Y",units:Ox}],onChange:Lx("transform-value")},{property:"transform-value",type:"integer",default:"0"}]},Ax("transform-origin",{x:{default:"50%"},y:{default:"50%"}}),{property:"backface-visibility",type:"radio",default:"visible",options:[{id:"visible",label:"Visible"},{id:"hidden",label:"Hidden"}]},{property:"perspective",type:"integer",min:0,default:"none",units:Tx},Ax("perspective-origin",{x:{default:"50%"},y:{default:"50%"}}),{property:"transform-style",type:"radio",default:"flat",options:[{id:"flat",label:"2D"},{id:"preserve-3d",label:"3D"}]}]}],Dx=[{id:"desktop",name:"Desktop",width:""},{id:"mobilePortrait",name:"Mobile",width:"320px",widthMedia:"480px"}];function Ix(e,t){return[...rf[e],...rf.global,gf,nf(e,t)]}function Vx(e,t={}){var n;const r=e===Iu.email,{devices:o}=t,i=o?{default:o.selected,devices:o.default??(r?Dx:void 0)}:r?{devices:Dx}:{},a={undoManager:{trackSelection:!1},showOffsets:!0,cssIcons:"",assetManager:{},blockManager:{},styleManager:{sectors:r?zx:Hx},selectorManager:{componentFirst:!0},storageManager:{onStore:e=>{const t=uw().appEditorStore.projectDataCustom;return console.log("STORE MANAGER"),e.custom=t?JSON.parse(JSON.stringify(t)):{},e},onLoad:(e,t)=>(Sd(t,e.custom),e)},i18n:{messagesAdd:Vo({en:yd},(null==(n=t.i18n)?void 0:n.locales)??{})},deviceManager:i,canvasCss:"[contenteditable] { outline: 0px solid transparent;}",canvas:{customSpots:{select:!0,hover:!0,spacing:!0,target:!0}}};return Vo(a,t.gjsOptions??{})}var Bx=(e=>(e.Projects="projects",e.Settings="settings",e))(Bx||{}),$x=(e=>(e.gjs="gjs",e.gjsStudio="gjs-studio",e))($x||{});const Fx={},Ux=async(e,t)=>(await((e={})=>new Promise(((t,n)=>{const r=(null==e?void 0:e.db)||"gjs",o=Fx[r];if(o)t(o);else{if(!ko())return n(new Error("window context not found"));const e=window.indexedDB.open(r,1);e.onerror=n,e.onsuccess=()=>{const o=e.result;o.onerror=n,Fx[r]=o,t(o)},e.onupgradeneeded=()=>{const t=e.result;t.objectStoreNames.contains("projects")||t.createObjectStore("projects"),t.objectStoreNames.contains("settings")||t.createObjectStore("settings")}}})))(t)).transaction([e],"readwrite").objectStore(e),Wx=async(e,t,n,r)=>{const o=await Ux(e,r);return new Promise(((e,r)=>{const i=o.put(n,t);i.onerror=r,i.onsuccess=()=>e()}))};class Kx{constructor(e){this.loadCounter=0,this.pendingInstalled=[],this.pendingUninstalled=[],this.selectedShown=!1,this.store=e,Dn(this,{},{autoBind:!0})}get hasPending(){return!!this.pendingInstalled.length||!!this.pendingUninstalled.length}*initProjectPlugins(e){this.pendingInstalled=[],this.pendingUninstalled=[];const t=(yield Gx()).filter((t=>t.projectType.includes(e)));this.projectPlugins=[...t]}getPluginsToLoad(e,t){const n=[...Ix(e,{appStore:t}),...this.projectPlugins||[]],r=t.sdkOptions.plugins||[];return Do(r)?r({plugins:n}):[...n,...r]}addPendingInstalled(e){const{pendingInstalled:t,pendingUninstalled:n}=this,r=e.id;n.includes(r)?this.pendingUninstalled=n.filter((e=>e!==r)):t.includes(r)||t.push(r)}addPendingUninstalled(e){const{pendingInstalled:t,pendingUninstalled:n}=this,r=e.id;t.includes(r)?this.pendingInstalled=t.filter((e=>e!==r)):n.push(r)}setSelectedShown(e){this.selectedShown=e}}const qx={db:$x.gjsStudio},Gx=()=>new Promise((async e=>{let t=[];try{t=await(async(e,t,n)=>{const r=await Ux(e,n);return new Promise(((e,n)=>{const o=r.get(t);o.onerror=n,o.onsuccess=()=>e(o.result)}))})(Bx.Settings,"plugins",qx)||[]}catch(e){ko()&&console.error(e)}e(t)})),Yx=()=>cw().pluginStore,Zx=()=>uw().pluginStore;class Xx{constructor(e){this.isActive=!1,this.content="",this.store=e,Dn(this,{},{autoBind:!0})}show(e){this.isActive=!0,this.content=e}hide(){this.isActive=!1,setTimeout(this.clear,101)}clear(){this.content=""}}const Qx=()=>cw().pointerBadgeStore;class Jx{constructor(e){this.isOpen=!1,this.items=[],this.coordinates={x:0,y:0},this.store=e,Dn(this,{},{autoBind:!0})}showForComponent(e,t){null!=e&&e.em&&this.show({...t,items:this.getItemsForComponent(e)})}getItemsForComponent(e){if(null==e||!e.em)return[];const t=e.em.getEditor(),{isSymbol:n,isRoot:r}=t.Components.getSymbolInfo(e),o=!!e.getSymbolOverride(),i=!!e.get("removable");return[!n&&i&&{id:"createSymbol",label:"Create Symbol",action:()=>{t.runCommand(Yu.symbolAdd)}},n&&r&&{id:"createSymbol",label:"Detach instance",action:()=>{t.runCommand(Yu.symbolDetach)}},n&&!o&&{id:"override",label:"Make overridable",action:()=>{t.runCommand(Yu.symbolOverride,{override:!0})}},n&&o&&{id:"clear-override",label:"Clear overridable",action:()=>{t.runCommand(Yu.symbolOverride)}},i&&{id:"delete",label:"Delete",action:()=>{t.runCommand("core:component-delete")}}].filter(Boolean)}show({items:e,x:t,y:n}){this.isOpen=!0,this.coordinates={x:t,y:n},this.items=e}hide(){this.isOpen=!1,setTimeout(this.clear,101)}clear(){this.items=[],this.coordinates={x:0,y:0}}}const ew=()=>cw().contextMenu,tw=s.forwardRef((function({children:e,className:t,...n},r){return h.jsx("div",{className:ni("gs-studio-layout",t),ref:r,...n,children:e})}));class nw{constructor(e){this.layouts=[],this.store=e,Dn(this,{},{autoBind:!0})}get editor(){return this.store.appEditorStore.editor}add(e,t){var n;this.get(e)||(this.layouts.push({id:e,...t}),null==(n=this.editor)||n.trigger(`${Zu.layoutToggleId}${e}`,{isOpen:!0}))}remove(e,t=!1){var n;this.layouts=t?this.layouts.filter((t=>t.id!==e)):this.layouts.map((t=>t.id===e?{...t,toRemove:!0}:t)),null==(n=this.editor)||n.trigger(`${Zu.layoutToggleId}${e}`,{isOpen:!1})}get(e){return this.layouts.find((t=>t.id===e))}clear(){this.layouts=[]}get layoutChildren(){var e;const{children:t}=this.store.appEditorStore.sdkProps,n=(null==(e=$o(t,tw))?void 0:e.filter(Boolean))||[];return new Map(n.map((({props:e})=>[e.id,e])))}}const rw=()=>cw().layoutStore;let ow;const iw=s.createContext(void 0);class aw{constructor(e){this.blockManagerStore=new od(this),this.appEditorStore=new jS(this,null==e?void 0:e.appEditorStore),this.localSettingsStore=new fd(null==e?void 0:e.localSettingsStore),this.toastStore=new vd(this),this.modalStore=new ad(this),this.i18nStore=new gd(this),this.pluginStore=new Kx(this),this.pointerBadgeStore=new Xx(this),this.contextMenu=new Jx(this),this.layoutStore=new nw(this),this.appEditorStore.init(),Lo()&&(window.__gjss=this)}}const sw=e=>{(e=>{cn((()=>e.theme),(t=>{e.changeTheme(t)}))})(e.localSettingsStore),CS(e.appEditorStore)},lw=({children:e,initialState:t})=>(ow=s.useMemo((()=>{const e=new aw(t);return sw(e),e}),[]),h.jsx(iw.Provider,{value:ow,children:e})),cw=()=>{const e=s.useContext(iw);if(!e)throw new Error("useStore must be used inside of StoreProvider");return e},uw=()=>{if(!ow)throw new Error("Store has not been initialized");return ow},dw=0,pw=1,fw=2,hw=4;function gw(e,t){return t(e)}function mw(e,t){return n=>e(t,n)}function vw(e,t){return()=>e(t)}function bw(e,t){return t(e),e}function yw(...e){return e}function xw(e){e()}function ww(e){return()=>e}function jw(){}function Sw(e,t){return e(pw,t)}function Cw(e,t){e(dw,t)}function kw(e){e(fw)}function Ew(e){return e(hw)}function _w(e,t){return Sw(e,mw(t,dw))}function Ow(e,t){const n=e(pw,(e=>{n(),t(e)}));return n}function Tw(){const e=[];return(t,n)=>{switch(t){case fw:return void e.splice(0,e.length);case pw:return e.push(n),()=>{const t=e.indexOf(n);t>-1&&e.splice(t,1)};case dw:return void e.slice().forEach((e=>{e(n)}));default:throw new Error(`unrecognized action ${t}`)}}}function Pw(e){let t=e;const n=Tw();return(e,r)=>{switch(e){case pw:r(t);break;case dw:t=r;break;case hw:return t}return n(e,r)}}function Nw(e){return bw(Tw(),(t=>_w(e,t)))}function Lw(e,t){return bw(Pw(t),(t=>_w(e,t)))}function Mw(e,...t){const n=function(...e){return t=>e.reduceRight(gw,t)}(...t);return(t,r)=>{switch(t){case pw:return Sw(e,n(r));case fw:return void kw(e)}}}function Rw(e,t){return e===t}function Aw(e=Rw){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function zw(e){return t=>n=>{e(n)&&t(n)}}function Hw(e){return t=>function(e,t){return n=>e(t(n))}(t,e)}function Dw(e){return t=>()=>t(e)}function Iw(e,t){return n=>r=>n(t=e(t,r))}function Vw(e){return t=>n=>{e>0?e--:t(n)}}function Bw(e){let t,n=null;return r=>o=>{n=o,!t&&(t=setTimeout((()=>{t=void 0,r(n)}),e))}}function $w(e){let t,n;return r=>o=>{t=o,n&&clearTimeout(n),n=setTimeout((()=>{r(t)}),e)}}function Fw(...e){const t=new Array(e.length);let n=0,r=null;const o=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const a=Math.pow(2,i);Sw(e,(e=>{const s=n;n|=a,t[i]=e,s!==o&&n===o&&r&&(r(),r=null)}))})),e=>i=>{const a=()=>e([i].concat(t));n===o?a():r=a}}function Uw(...e){return function(t,n){switch(t){case pw:return function(...e){return()=>{e.map(xw)}}(...e.map((e=>Sw(e,n))));case fw:return;default:throw new Error(`unrecognized action ${t}`)}}}function Ww(e,t=Rw){return Mw(e,Aw(t))}function Kw(...e){const t=Tw(),n=new Array(e.length);let r=0;const o=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const a=Math.pow(2,i);Sw(e,(e=>{n[i]=e,r|=a,r===o&&Cw(t,n)}))})),function(e,i){switch(e){case pw:return r===o&&i(n),Sw(t,i);case fw:return kw(t);default:throw new Error(`unrecognized action ${e}`)}}}function qw(e,t=[],{singleton:n}={singleton:!0}){return{id:Gw(),constructor:e,dependencies:t,singleton:n}}const Gw=()=>Symbol();function Yw(e,t){const n={},r={};let o=0;const i=e.length;for(;o<i;)r[e[o]]=1,o+=1;for(const e in t)r.hasOwnProperty(e)||(n[e]=t[e]);return n}const Zw=typeof document<"u"?l.useLayoutEffect:l.useEffect;const Xw=typeof document<"u"?l.useLayoutEffect:l.useEffect;var Qw=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(Qw||{});const Jw={0:"debug",1:"log",2:"warn",3:"error"},ej=qw((()=>{const e=Pw(3);return{log:Pw(((t,n,r=1)=>{var o;r>=(null!=(o=(typeof globalThis>"u"?window:globalThis).VIRTUOSO_LOG_LEVEL)?o:Ew(e))&&console[Jw[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,n)})),logLevel:e}}),[],{singleton:!0});function tj(e,t,n){const r=l.useRef(null);let o=e=>{};if(typeof ResizeObserver<"u"){const i=l.useMemo((()=>new ResizeObserver((t=>{const r=()=>{const n=t[0].target;null!==n.offsetParent&&e(n)};n?r():requestAnimationFrame(r)}))),[e]);o=e=>{e&&t?(i.observe(e),r.current=e):(r.current&&i.unobserve(r.current),r.current=null)}}return{ref:r,callbackRef:o}}function nj(e,t,n){return tj(e,t,n).callbackRef}function rj(e,t){return Math.round(e.getBoundingClientRect()[t])}function oj(e,t){return Math.abs(e-t)<1.01}function ij(e,t,n,r=jw,o,i){const a=l.useRef(null),s=l.useRef(null),c=l.useRef(null),u=l.useCallback((n=>{const r=n.target,o=r===window||r===document,a=i?o?window.pageXOffset||document.documentElement.scrollLeft:r.scrollLeft:o?window.pageYOffset||document.documentElement.scrollTop:r.scrollTop,l=i?o?document.documentElement.scrollWidth:r.scrollWidth:o?document.documentElement.scrollHeight:r.scrollHeight,u=i?o?window.innerWidth:r.offsetWidth:o?window.innerHeight:r.offsetHeight,d=()=>{e({scrollTop:Math.max(a,0),scrollHeight:l,viewportHeight:u})};n.suppressFlushSync?d():w.flushSync(d),null!==s.current&&(a===s.current||a<=0||a===l-u)&&(s.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))}),[e,t]);return l.useEffect((()=>{const e=o||a.current;return r(o||a.current),u({target:e,suppressFlushSync:!0}),e.addEventListener("scroll",u,{passive:!0}),()=>{r(null),e.removeEventListener("scroll",u)}}),[a,u,n,r,o]),{scrollerRef:a,scrollByCallback:function(e){i&&(e={left:e.top,behavior:e.behavior}),a.current.scrollBy(e)},scrollToCallback:function(n){const r=a.current;if(!r||(i?"offsetWidth"in r&&0===r.offsetWidth:"offsetHeight"in r&&0===r.offsetHeight))return;const o="smooth"===n.behavior;let l,u,d;r===window?(u=Math.max(rj(document.documentElement,i?"width":"height"),i?document.documentElement.scrollWidth:document.documentElement.scrollHeight),l=i?window.innerWidth:window.innerHeight,d=i?document.documentElement.scrollLeft:document.documentElement.scrollTop):(u=r[i?"scrollWidth":"scrollHeight"],l=rj(r,i?"width":"height"),d=r[i?"scrollLeft":"scrollTop"]);const p=u-l;if(n.top=Math.ceil(Math.max(Math.min(p,n.top),0)),oj(l,u)||n.top===d)return e({scrollTop:d,scrollHeight:u,viewportHeight:l}),void(o&&t(!0));o?(s.current=n.top,c.current&&clearTimeout(c.current),c.current=setTimeout((()=>{c.current=null,s.current=null,t(!0)}),1e3)):s.current=null,i&&(n={left:n.top,behavior:n.behavior}),r.scrollTo(n)}}}const aj=qw((()=>{const e=Tw(),t=Tw(),n=Pw(0),r=Tw(),o=Pw(0),i=Tw(),a=Tw(),s=Pw(0),l=Pw(0),c=Pw(0),u=Pw(0),d=Tw(),p=Tw(),f=Pw(!1),h=Pw(!1),g=Pw(!1);return _w(Mw(e,Hw((({scrollTop:e})=>e))),t),_w(Mw(e,Hw((({scrollHeight:e})=>e))),a),_w(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:s,fixedHeaderHeight:l,fixedFooterHeight:c,footerHeight:u,scrollHeight:a,smoothScrollTargetReached:r,horizontalDirection:h,skipAnimationFrameInResizeObserver:g,scrollTo:d,scrollBy:p,statefulScrollTop:o,deviation:n,scrollingInProgress:f}}),[],{singleton:!0}),sj=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;const lj="up",cj="down",uj={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},dj=qw((([{scrollContainerState:e,scrollTop:t,viewportHeight:n,headerHeight:r,footerHeight:o,scrollBy:i}])=>{const a=Pw(!1),s=Pw(!0),l=Tw(),c=Tw(),u=Pw(4),d=Pw(0),p=Lw(Mw(Uw(Mw(Ww(t),Vw(1),Dw(!0)),Mw(Ww(t),Vw(1),Dw(!1),$w(100))),Aw()),!1),f=Lw(Mw(Uw(Mw(i,Dw(!0)),Mw(i,Dw(!1),$w(200))),Aw()),!1);_w(Mw(Kw(Ww(t),Ww(d)),Hw((([e,t])=>e<=t)),Aw()),s),_w(Mw(s,Bw(50)),c);const h=Nw(Mw(Kw(e,Ww(n),Ww(r),Ww(o),Ww(u)),Iw(((e,[{scrollTop:t,scrollHeight:n},r,o,i,a])=>{const s={viewportHeight:r,scrollTop:t,scrollHeight:n};if(t+r-n>-a){let n,r;return t>e.state.scrollTop?(n="SCROLLED_DOWN",r=e.state.scrollTop-t):(n="SIZE_DECREASED",r=e.state.scrollTop-t||e.scrollTopDelta),{atBottom:!0,state:s,atBottomBecause:n,scrollTopDelta:r}}let l;return l=s.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":r<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":t<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:l,state:s}}),uj),Aw(((e,t)=>e&&e.atBottom===t.atBottom)))),g=Lw(Mw(e,Iw(((e,{scrollTop:t,scrollHeight:n,viewportHeight:r})=>{if(oj(e.scrollHeight,n))return{scrollTop:t,scrollHeight:n,jump:0,changed:!1};{const o=n-(t+r)<1;return e.scrollTop!==t&&o?{scrollHeight:n,scrollTop:t,jump:e.scrollTop-t,changed:!0}:{scrollHeight:n,scrollTop:t,jump:0,changed:!0}}}),{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),zw((e=>e.changed)),Hw((e=>e.jump))),0);_w(Mw(h,Hw((e=>e.atBottom))),a),_w(Mw(a,Bw(50)),l);const m=Pw(cj);_w(Mw(e,Hw((({scrollTop:e})=>e)),Aw(),Iw(((e,t)=>Ew(f)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?lj:cj,prevScrollTop:t}),{direction:cj,prevScrollTop:0}),Hw((e=>e.direction))),m),_w(Mw(e,Bw(50),Dw("none")),m);const v=Pw(0);return _w(Mw(p,zw((e=>!e)),Dw(0)),v),_w(Mw(t,Bw(100),Fw(p),zw((([e,t])=>!!t)),Iw((([e,t],[n])=>[t,n]),[0,0]),Hw((([e,t])=>t-e))),v),{isScrolling:p,isAtTop:s,isAtBottom:a,atBottomState:h,atTopStateChange:c,atBottomStateChange:l,scrollDirection:m,atBottomThreshold:u,atTopThreshold:d,scrollVelocity:v,lastJumpDueToItemResize:g}}),yw(aj)),pj=qw((([{log:e}])=>{const t=Pw(!1),n=Nw(Mw(t,zw((e=>e)),Aw()));return Sw(t,(t=>{t&&Ew(e)("props updated",{},Qw.DEBUG)})),{propsReady:t,didMount:n}}),yw(ej),{singleton:!0});function fj(e,t){0==e?t():requestAnimationFrame((()=>fj(e-1,t)))}function hj(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function gj(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}const mj="top",vj="bottom",bj="none";function yj(e,t,n){return"number"==typeof e?n===lj&&t===mj||n===cj&&t===vj?e:0:n===lj?t===mj?e.main:e.reverse:t===vj?e.main:e.reverse}function xj(e,t){return"number"==typeof e?e:e[t]||0}const wj=qw((([{scrollTop:e,viewportHeight:t,deviation:n,headerHeight:r,fixedHeaderHeight:o}])=>{const i=Tw(),a=Pw(0),s=Pw(0),l=Pw(0);return{listBoundary:i,overscan:l,topListHeight:a,increaseViewportBy:s,visibleRange:Lw(Mw(Kw(Ww(e),Ww(t),Ww(r),Ww(i,hj),Ww(l),Ww(a),Ww(o),Ww(n),Ww(s)),Hw((([e,t,n,[r,o],i,a,s,l,c])=>{const u=e-l,d=a+s,p=Math.max(n-u,0);let f=bj;const h=xj(c,mj),g=xj(c,vj);return r-=l,o+=n+s,(r+=n+s)>e+d-h&&(f=lj),(o-=l)<e-p+t+g&&(f=cj),f!==bj?[Math.max(u-n-yj(i,mj,f)-h,0),u-p-s+t+yj(i,vj,f)+g]:null})),zw((e=>null!=e)),Aw(hj)),[0,0])}}),yw(aj),{singleton:!0}),jj=qw((([{scrollVelocity:e}])=>{const t=Pw(!1),n=Tw(),r=Pw(!1);return _w(Mw(e,Fw(r,t,n),zw((([e,t])=>!!t)),Hw((([e,t,n,r])=>{const{exit:o,enter:i}=t;if(n){if(o(e,r))return!1}else if(i(e,r))return!0;return n})),Aw()),t),Sw(Mw(Kw(t,e,n),Fw(r)),(([[e,t,n],r])=>e&&r&&r.change&&r.change(t,n))),{isSeeking:t,scrollSeekConfiguration:r,scrollVelocity:e,scrollSeekRangeChanged:n}}),yw(dj),{singleton:!0});const Sj=qw((([{scrollTo:e,scrollContainerState:t}])=>{const n=Tw(),r=Tw(),o=Tw(),i=Pw(!1),a=Pw(void 0);return _w(Mw(Kw(n,r),Hw((([{viewportHeight:e,scrollTop:t,scrollHeight:n},{offsetTop:r}])=>({scrollTop:Math.max(0,t-r),scrollHeight:n,viewportHeight:e})))),t),_w(Mw(e,Fw(r),Hw((([e,{offsetTop:t}])=>({...e,top:e.top+t})))),o),{useWindowScroll:i,customScrollParent:a,windowScrollContainerState:n,windowViewportRect:r,windowScrollTo:o}}),yw(aj)),Cj="-webkit-sticky",kj="sticky",Ej=function(e){let t,n=!1;return()=>(n||(n=!0,t=e()),t)}((()=>{if(typeof document>"u")return kj;const e=document.createElement("div");return e.style.position=Cj,e.style.position===Cj?Cj:kj}));l.createContext(void 0);const _j=l.createContext(void 0);function Oj(e){return e}Ej();const Tj={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Pj={outline:"none",overflowX:"auto",position:"relative"},Nj=e=>({width:"100%",height:"100%",position:"absolute",top:0,...e?{display:"flex",flexDirection:"column"}:{}});function Lj(e,t){if("string"!=typeof e)return{context:t}}Ej();const Mj={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Rj={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:Aj,ceil:zj,floor:Hj,min:Dj,max:Ij}=Math;function Vj(e,t,n){return Array.from({length:t-e+1}).map(((t,r)=>{const o=null===n?null:n[r+e];return{index:r+e,data:o}}))}function Bj(e,t){return e&&e.column===t.column&&e.row===t.row}function $j(e,t){return e&&e.width===t.width&&e.height===t.height}const Fj=qw((([{overscan:e,visibleRange:t,listBoundary:n},{scrollTop:r,viewportHeight:o,scrollBy:i,scrollTo:a,smoothScrollTargetReached:s,scrollContainerState:l,footerHeight:c,headerHeight:u},d,p,{propsReady:f,didMount:h},{windowViewportRect:g,useWindowScroll:m,customScrollParent:v,windowScrollContainerState:b,windowScrollTo:y},x])=>{const w=Pw(0),j=Pw(0),S=Pw(Mj),C=Pw({height:0,width:0}),k=Pw({height:0,width:0}),E=Tw(),_=Tw(),O=Pw(0),T=Pw(null),P=Pw({row:0,column:0}),N=Tw(),L=Tw(),M=Pw(!1),R=Pw(0),A=Pw(!0),z=Pw(!1),H=Pw(!1);Sw(Mw(h,Fw(R),zw((([e,t])=>!!t))),(()=>{Cw(A,!1)})),Sw(Mw(Kw(h,A,k,C,R,z),zw((([e,t,n,r,,o])=>e&&!t&&0!==n.height&&0!==r.height&&!o))),(([,,,,e])=>{Cw(z,!0),fj(1,(()=>{Cw(E,e)})),Ow(Mw(r),(()=>{Cw(n,[0,0]),Cw(A,!0)}))})),_w(Mw(L,zw((e=>null!=e&&e.scrollTop>0)),Dw(0)),j),Sw(Mw(h,Fw(L),zw((([,e])=>null!=e))),(([,e])=>{e&&(Cw(C,e.viewport),Cw(k,null==e?void 0:e.item),Cw(P,e.gap),e.scrollTop>0&&(Cw(M,!0),Ow(Mw(r,Vw(1)),(e=>{Cw(M,!1)})),Cw(a,{top:e.scrollTop})))})),_w(Mw(C,Hw((({height:e})=>e))),o),_w(Mw(Kw(Ww(C,$j),Ww(k,$j),Ww(P,((e,t)=>e&&e.column===t.column&&e.row===t.row)),Ww(r)),Hw((([e,t,n,r])=>({viewport:e,item:t,gap:n,scrollTop:r})))),N),_w(Mw(Kw(Ww(w),t,Ww(P,Bj),Ww(k,$j),Ww(C,$j),Ww(T),Ww(j),Ww(M),Ww(A),Ww(R)),zw((([,,,,,,,e])=>!e)),Hw((([e,[t,n],r,o,i,a,s,,l,c])=>{const{row:u,column:d}=r,{height:p,width:f}=o,{width:h}=i;if(0===s&&(0===e||0===h))return Mj;if(0===f){const t=function(e,t){const n=t-1;return"number"==typeof e?e:"LAST"===e.index?n:e.index}(c,e);return function(e){return{...Rj,items:e}}(Vj(t,Math.max(t+s-1,0),a))}const g=Kj(h,f,d);let m,v;l?0===t&&0===n&&s>0?(m=0,v=s-1):(m=g*Hj((t+u)/(p+u)),v=g*zj((n+u)/(p+u))-1,v=Dj(e-1,Ij(v,g-1)),m=Dj(v,Ij(0,m))):(m=0,v=-1);const b=Vj(m,v,a),{top:y,bottom:x}=Uj(i,r,o,b),w=zj(e/g);return{items:b,offsetTop:y,offsetBottom:w*p+(w-1)*u-x,top:y,bottom:x,itemHeight:p,itemWidth:f}}))),S),_w(Mw(T,zw((e=>null!==e)),Hw((e=>e.length))),w),_w(Mw(Kw(C,k,S,P),zw((([e,t,{items:n}])=>n.length>0&&0!==t.height&&0!==e.height)),Hw((([e,t,{items:n},r])=>{const{top:o,bottom:i}=Uj(e,r,t,n);return[o,i]})),Aw(hj)),n);const D=Pw(!1);_w(Mw(r,Fw(D),Hw((([e,t])=>t||0!==e))),D);const I=Nw(Mw(Ww(S),zw((({items:e})=>e.length>0)),Fw(w,D),zw((([{items:e},t,n])=>n&&e[e.length-1].index===t-1)),Hw((([,e])=>e-1)),Aw())),V=Nw(Mw(Ww(S),zw((({items:e})=>e.length>0&&0===e[0].index)),Dw(0),Aw())),B=Nw(Mw(Ww(S),Fw(M),zw((([{items:e},t])=>e.length>0&&!t)),Hw((([{items:e}])=>({startIndex:e[0].index,endIndex:e[e.length-1].index}))),Aw(gj),Bw(0)));_w(B,p.scrollSeekRangeChanged),_w(Mw(E,Fw(C,k,w,P),Hw((([e,t,n,r,o])=>{const i=function(e){const t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!sj)&&(t.behavior="auto"),t.offset||(t.offset=0),t}(e),{align:a,behavior:s,offset:l}=i;let c=i.index;"LAST"===c&&(c=r-1),c=Ij(0,c,Dj(r-1,c));let u=Wj(t,o,n,c);return"end"===a?u=Aj(u-t.height+n.height):"center"===a&&(u=Aj(u-t.height/2+n.height/2)),l&&(u+=l),{top:u,behavior:s}}))),a);const $=Lw(Mw(S,Hw((e=>e.offsetBottom+e.bottom))),0);return _w(Mw(g,Hw((e=>({width:e.visibleWidth,height:e.visibleHeight})))),C),{data:T,totalCount:w,viewportDimensions:C,itemDimensions:k,scrollTop:r,scrollHeight:_,overscan:e,scrollBy:i,scrollTo:a,scrollToIndex:E,smoothScrollTargetReached:s,windowViewportRect:g,windowScrollTo:y,useWindowScroll:m,customScrollParent:v,windowScrollContainerState:b,deviation:O,scrollContainerState:l,footerHeight:c,headerHeight:u,initialItemCount:j,gap:P,restoreStateFrom:L,...p,initialTopMostItemIndex:R,horizontalDirection:H,gridState:S,totalListHeight:$,...d,startReached:V,endReached:I,rangeChanged:B,stateChanged:N,propsReady:f,stateRestoreInProgress:M,...x}}),yw(wj,aj,dj,jj,pj,Sj,ej));function Uj(e,t,n,r){const{height:o}=n;if(void 0===o||0===r.length)return{top:0,bottom:0};return{top:Wj(e,t,n,r[0].index),bottom:Wj(e,t,n,r[r.length-1].index)+o}}function Wj(e,t,n,r){const o=Kj(e.width,n.width,t.column),i=Hj(r/o),a=i*n.height+Ij(0,i-1)*t.row;return a>0?a+t.row:a}function Kj(e,t,n){return Ij(1,Hj((e+n)/(Hj(t)+n)))}const qj=qw((([e,t])=>({...e,...t})),yw(Fj,qw((()=>{const e=Pw((e=>`Item ${e}`)),t=Pw({}),n=Pw(null),r=Pw("virtuoso-grid-item"),o=Pw("virtuoso-grid-list"),i=Pw(Oj),a=Pw("div"),s=Pw(jw),l=(e,n=null)=>Lw(Mw(t,Hw((t=>t[e])),Aw()),n),c=Pw(!1),u=Pw(!1);return _w(Ww(u),c),{readyStateChanged:c,reportReadyState:u,context:n,itemContent:e,components:t,computeItemKey:i,itemClassName:r,listClassName:o,headerFooterTag:a,scrollerRef:s,FooterComponent:l("Footer"),HeaderComponent:l("Header"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),ScrollerComponent:l("Scroller","div"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}})))),Gj=l.memo((function(){const e=nS("gridState"),t=nS("listClassName"),n=nS("itemClassName"),r=nS("itemContent"),o=nS("computeItemKey"),i=nS("isSeeking"),a=tS("scrollHeight"),c=nS("ItemComponent"),u=nS("ListComponent"),d=nS("ScrollSeekPlaceholder"),p=nS("context"),f=tS("itemDimensions"),g=tS("gap"),m=nS("log"),v=nS("stateRestoreInProgress"),b=tS("reportReadyState"),y=nj(l.useMemo((()=>e=>{const t=e.parentElement.parentElement.scrollHeight;a(t);const n=e.firstChild;if(n){const{width:e,height:t}=n.getBoundingClientRect();f({width:e,height:t})}g({row:aS("row-gap",getComputedStyle(e).rowGap,m),column:aS("column-gap",getComputedStyle(e).columnGap,m)})}),[a,f,g,m]),!0,!1);return Xw((()=>{e.itemHeight>0&&e.itemWidth>0&&b(!0)}),[e]),v?null:h.jsx(u,{ref:y,className:t,...Lj(u,p),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-testid":"virtuoso-item-list",children:e.items.map((t=>{const a=o(t.index,t.data,p);return i?h.jsx(d,{...Lj(d,p),index:t.index,height:e.itemHeight,width:e.itemWidth},a):s.createElement(c,{...Lj(c,p),className:n,"data-index":t.index,key:a},r(t.index,t.data,p))}))})})),Yj=l.memo((function(){const e=nS("HeaderComponent"),t=tS("headerHeight"),n=nS("headerFooterTag"),r=nj(l.useMemo((()=>e=>t(rj(e,"height"))),[t]),!0,!1),o=nS("context");return e?h.jsx(n,{ref:r,children:h.jsx(e,{...Lj(e,o)})}):null})),Zj=l.memo((function(){const e=nS("FooterComponent"),t=tS("footerHeight"),n=nS("headerFooterTag"),r=nj(l.useMemo((()=>e=>t(rj(e,"height"))),[t]),!0,!1),o=nS("context");return e?h.jsx(n,{ref:r,children:h.jsx(e,{...Lj(e,o)})}):null})),Xj=({children:e})=>{const t=l.useContext(_j),n=tS("itemDimensions"),r=tS("viewportDimensions"),o=nj(l.useMemo((()=>e=>{r(e.getBoundingClientRect())}),[r]),!0,!1);return l.useEffect((()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))}),[t,r,n]),h.jsx("div",{style:Nj(!1),ref:o,children:e})},Qj=({children:e})=>{const t=l.useContext(_j),n=tS("windowViewportRect"),r=tS("itemDimensions"),o=nS("customScrollParent"),i=function(e,t,n){const r=l.useRef(null),o=l.useCallback((n=>{if(null===n||!n.offsetParent)return;const o=n.getBoundingClientRect(),i=o.width;let a,s;if(t){const e=t.getBoundingClientRect(),n=o.top-e.top;a=e.height-Math.max(0,n),s=n+t.scrollTop}else a=window.innerHeight-Math.max(0,o.top),s=o.top+window.pageYOffset;r.current={offsetTop:s,visibleHeight:a,visibleWidth:i},e(r.current)}),[e,t]),{callbackRef:i,ref:a}=tj(o,!0,n),s=l.useCallback((()=>{o(a.current)}),[o,a]);return l.useEffect((()=>{if(t){t.addEventListener("scroll",s);const e=new ResizeObserver((()=>{requestAnimationFrame(s)}));return e.observe(t),()=>{t.removeEventListener("scroll",s),e.unobserve(t)}}return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}}),[s,t]),i}(n,o,!1);return l.useEffect((()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))}),[t,n,r]),h.jsx("div",{ref:i,style:Nj(!1),children:e})},Jj=l.memo((function({...e}){const t=nS("useWindowScroll"),n=nS("customScrollParent"),r=n||t?iS:oS,o=n||t?Qj:Xj;return h.jsx(r,{...e,children:h.jsxs(o,{children:[h.jsx(Yj,{}),h.jsx(Gj,{}),h.jsx(Zj,{})]})})})),{Component:eS,usePublisher:tS,useEmitterValue:nS,useEmitter:rS}=function(e,t,n){const r=Object.keys(t.required||{}),o=Object.keys(t.optional||{}),i=Object.keys(t.methods||{}),a=Object.keys(t.events||{}),s=l.createContext({});function c(e,n){e.propsReady&&Cw(e.propsReady,!1);for(const o of r){Cw(e[t.required[o]],n[o])}for(const r of o)if(r in n){Cw(e[t.optional[r]],n[r])}e.propsReady&&Cw(e.propsReady,!0)}function u(e){return a.reduce(((n,r)=>(n[r]=function(e){let t,n;const r=()=>t&&t();return function(o,i){switch(o){case pw:return i?n===i?void 0:(r(),n=i,t=Sw(e,i),t):(r(),jw);case fw:return r(),void(n=null);default:throw new Error(`unrecognized action ${o}`)}}}(e[t.events[r]]),n)),{})}const d=l.forwardRef(((d,p)=>{const{children:f,...g}=d,[m]=l.useState((()=>bw(function(e){const t=new Map,n=({id:e,constructor:r,dependencies:o,singleton:i})=>{if(i&&t.has(e))return t.get(e);const a=r(o.map((e=>n(e))));return i&&t.set(e,a),a};return n(e)}(e),(e=>c(e,g))))),[v]=l.useState(vw(u,m));Zw((()=>{for(const e of a)e in g&&Sw(v[e],g[e]);return()=>{Object.values(v).map(kw)}}),[g,v,m]),Zw((()=>{c(m,g)})),l.useImperativeHandle(p,ww(function(e){return i.reduce(((n,r)=>(n[r]=n=>{Cw(e[t.methods[r]],n)},n)),{})}(m)));const b=n;return h.jsx(s.Provider,{value:m,children:n?h.jsx(b,{...Yw([...r,...o,...a],g),children:f}):f})}));return{Component:d,usePublisher:e=>l.useCallback(mw(Cw,l.useContext(s)[e]),[e]),useEmitterValue:l.version.startsWith("18")?e=>{const t=l.useContext(s)[e],n=l.useCallback((e=>Sw(t,e)),[t]);return l.useSyncExternalStore(n,(()=>Ew(t)),(()=>Ew(t)))}:e=>{const t=l.useContext(s)[e],[n,r]=l.useState(vw(Ew,t));return Zw((()=>Sw(t,(e=>{e!==n&&r(ww(e))}))),[t,n]),n},useEmitter:(e,t)=>{const n=l.useContext(s)[e];Zw((()=>Sw(n,t)),[t,n])}}}(qj,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},Jj),oS=function({usePublisher:e,useEmitter:t,useEmitterValue:n}){return l.memo((function({style:r,children:o,...i}){const a=e("scrollContainerState"),s=n("ScrollerComponent"),l=e("smoothScrollTargetReached"),c=n("scrollerRef"),u=n("context"),d=n("horizontalDirection")||!1,{scrollerRef:p,scrollByCallback:f,scrollToCallback:g}=ij(a,l,s,c,void 0,d);t("scrollTo",g),t("scrollBy",f);const m=d?Pj:Tj;return h.jsx(s,{ref:p,style:{...m,...r},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...i,...Lj(s,u),children:o})}))}({usePublisher:tS,useEmitterValue:nS,useEmitter:rS}),iS=function({usePublisher:e,useEmitter:t,useEmitterValue:n}){return l.memo((function({style:r,children:o,...i}){const a=e("windowScrollContainerState"),s=n("ScrollerComponent"),l=e("smoothScrollTargetReached"),c=n("totalListHeight"),u=n("deviation"),d=n("customScrollParent"),p=n("context"),{scrollerRef:f,scrollByCallback:g,scrollToCallback:m}=ij(a,l,s,jw,d);return Xw((()=>(f.current=d||window,()=>{f.current=null})),[f,d]),t("windowScrollTo",m),t("scrollBy",g),h.jsx(s,{style:{position:"relative",...r,...0!==c?{height:c+u}:{}},"data-virtuoso-scroller":!0,...i,...Lj(s,p),children:o})}))}({usePublisher:tS,useEmitterValue:nS,useEmitter:rS});function aS(e,t,n){return"normal"!==t&&!(null!=t&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,Qw.WARN),"normal"===t?0:parseInt(t??"0",10)}const sS=eS;const lS=async e=>{const t=[...e],n={};if(t.length){const e={},r=[];if(t.forEach(((t,n)=>{(e=>!(!e||Array.isArray(e)||"object"!=typeof e))(t)&&(e[t.id]={index:n},r.push(t))})),r.length){const{loaded:t}=await async function(e){const t=e.map((({id:e,src:t})=>({id:e,src:t}))),n=e.reduce(((e,t)=>(e[t.id]=t,e)),{}),r=[],o=[];return(await Oo(t)).forEach((e=>{"fulfilled"===e.status?r.push(n[e.value]):o.push(n[e.reason])})),{loaded:r,failed:o}}(r);t.forEach((({id:t,options:r})=>{e[t].loaded=!0,n[t]=r||{}}))}Object.keys(e).forEach((n=>{const r=e[n];r.loaded?t[r.index]=n:t[r.index]=!1}))}return{plugins:t.filter(Boolean),pluginOptions:n}};function cS({children:e,label:t,s:n="m",pill:r,border:o,nopad:i,className:a,block:s,...l}){return h.jsx("div",{className:xo([!s&&"inline-block",a,!i&&fi.xyS2,r?mi.pill:mi.rnd,o&&`${mi.b} ${ci.br}`,"s"===n&&"text-sm","xs"===n&&"gjs-p-1"]),...l,children:t||e})}function uS({children:e,text:t,onConfirm:n,onCancel:r,className:o="w-[200px]",confirmButtonProps:i={},...a}){const s=md();return h.jsx(pg,{...a,overlay:!0,title:!1,buttonAs:"span",handler:e,children:({close:e})=>h.jsxs(Uo,{className:xo(o),space:"m",col:!0,children:[h.jsx(Wo,{grow:!0,className:xo("text-center"),children:t||s.t("confirmAction")}),h.jsxs(Uo,{justify:"center",items:"center",space:"m",children:[h.jsx(ki,{variant:"pr",size:"m2",onClick:()=>{e(),null==n||n()},...i,children:s.t("confirm")}),h.jsx(ki,{size:"m2",onClick:()=>{e(),null==r||r()},children:s.t("cancel")})]})]})})}const dS=l.forwardRef((function({full:e,abs:t,small:n,className:r},o){const i=yo(e&&"w-full h-full",t&&yi.coverAbs,r),a=yo(n?"w-5 h-5":"w-10 h-10","animate-spin-fast","!gs-utl-border-y-transparent !gs-utl-border-r-transparent",mi.pill,mi.bS,mi.bA);return h.jsx(Uo,{ref:o,className:i,items:"center",justify:"center",children:h.jsx("div",{className:a})})}));function pS({tabs:e,className:t,classNamePanel:n,classNameTab:r,variant:o,onChange:i=Ro,value:a}){const s="pills"===o,l=s?xo("gs-utl-rounded-full gs-utl-text-sm gs-utl-px-[2px] gs-utl-py-[2px]",ci.bgH):"",c=e=>{e&&(e.tabIndex=-1)},u=Ao(a)?e.findIndex((e=>e.id===a)):void 0,d=!e.some((e=>!!e.content));return h.jsxs(xu.Group,{onChange:t=>i(e[t].id),defaultIndex:e.findIndex((e=>e.id===a)),selectedIndex:u,children:[h.jsx(xu.List,{as:Uo,className:xo(t,l),full:!0,nowrap:!0,children:e.map((e=>h.jsx(xu,{disabled:e.disabled,className:({selected:t})=>xo("gs-utl-flex-1 focus:gs-utl-outline-none",e.disabled&&"gs-utl-cursor-not-allowed gs-utl-opacity-50",vi.focus,(e=>s?xo("gs-utl-rounded-full gs-utl-px-3 gs-utl-py-1",e?ci.bg:""):xo("gs-utl-border-b-2",fi.xy))(t),t?`${ci.tAo} ${ci.bA}`:ci.br,r),children:e.label},e.id)))}),h.jsx(xu.Panels,{className:xo("hdl-tab-panels gs-utl-overflow-hidden gs-utl-flex-1 gs-utl-mt-2",d&&"gs-utl-hidden",n),children:e.map((e=>h.jsx(xu.Panel,{tabIndex:-1,className:xo("hdl-tab-panel gs-utl-h-full"),ref:c,children:e.content},e.id)))})]})}const fS=async(e=Iu.web)=>(await(async(e,t)=>{const n=await Ux(e,t);return new Promise(((e,t)=>{const r=[],o=n.openCursor();o.onerror=t,o.onsuccess=function(t){const n=t.target.result;if(n){const e=n.primaryKey,t=n.value;r.push({key:e,data:t}),n.continue()}else e(r)}}))})(Bx.Projects)).map((({key:e,data:t})=>{var n;return{id:`${e}`,name:`${(null==(n=t.custom)?void 0:n.projectName)||e}`,data:t}})).filter((t=>{var n;return(null==(n=t.data.custom)?void 0:n.projectType)===e})),hS=e=>(async(e,t,n)=>{const r=await Ux(e,n);return new Promise(((e,n)=>{const o=r.delete(t);o.onerror=n,o.onsuccess=()=>e()}))})(Bx.Projects,e),gS=new Map,mS=new Map,vS=vo((function({project:e,projectType:t,className:n,onSelect:r,onRemove:o}){var i;const a=md(),l=kS(),c=l.editor,[u,d]=s.useState(""),p=s.useRef(null),f=a.t("projectManager.projectName"),g=!e.isTemplate&&l.currentProjectId===(null==(i=e.data.custom)?void 0:i.id),m=t===Iu.web,v=t=>{t.preventDefault(),e.data.custom={...e.data.custom,projectName:u},null==r||r(e)};s.useEffect((()=>{const n=setTimeout((async()=>{if(!p.current||!c)return;const n=`${e.isTemplate?"t-":""}${e.id}`;let r=gS.get(n);if(!r){let o=mS.get(t);o||(o=await(async(e,t,n)=>{const r=Ix(t,{appStore:n}),o=await lS(r);return e.init({headless:!0,projectData:{},noticeOnUnload:!1,storageManager:!1,plugins:[...o.plugins,e=>{e.Storage.setCurrent("")}],pluginsOpts:o.pluginOptions,protectedCss:'\n      * { box-sizing: border-box; }\n      [data-body] {\n        margin: 0;\n        background-color: white;\n        width: 100%;\n        height: 100%;\n        color: initial;\n        font-family: initial;\n        font-weight: initial;\n        line-height: initial;\n      }\n      [data-body]:before {\n        content: "";\n        display: block;\n        height: 0px;\n        overflow: hidden;\n      }\n    '})})(c.config.grapesjs,t,l),mS.set(t,o)),r=((e,t,n)=>{e.loadData(t);let r=`${e.getHtml()}<style>${e.getCss()}</style>`;if(n===Iu.email)try{r=e.runCommand("mjml-code-to-html").html}catch(e){console.error(e)}return r.replace("<body","<div data-body").replace("</body>","</div>")})(o,e.data,t),gS.set(n,r)}(async({html:e="",el:t})=>{const n=e;document.body.attachShadow&&((t.shadowRoot||t.attachShadow({mode:"open"})).innerHTML=n)})({el:p.current,html:r})}));return()=>clearTimeout(n)}),[p,c,t,e.data]);const{media:b,author:y}=e,x=h.jsx(ki,{className:yo("text-sm"),size:"m2",variant:"pr",onClick:()=>{!e.isTemplate&&(null==r||r(e))},disabled:g,children:a.t("select")});return h.jsx(Vu,{padding:!1,className:yo("overflow-hidden max-w-full group",n),children:h.jsxs(Uo,{col:!0,children:[h.jsxs(Wo,{className:yo("relative group h-36 bg-checker max-w-full"),children:[h.jsx("div",{className:yo("relative h-full overflow-hidden"),children:b?h.jsx("img",{src:b,alt:e.name,className:yo("max-w-full")}):h.jsx("div",{className:yo("gs-utl-w-[1200px] gs-utl-scale-[0.232] gs-utl-h-[200vh] origin-top-left gjs-bg-white"),ref:p})}),g&&h.jsx(cS,{className:yo("absolute top-2 right-2",ci.bgA2),label:a.t("current"),s:"s",pill:!0}),h.jsx(Uo,{justify:"center",items:"center",className:yo(yi.coverAbs,ci.bgH75,"group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),children:e.isTemplate?h.jsx(pg,{overlay:!0,title:!1,buttonAs:"span",handler:x,children:()=>h.jsx("form",{onSubmit:v,children:h.jsxs(Uo,{space:"m",col:!0,children:[h.jsx(Wo,{children:h.jsx(sg,{size:"s",value:u,onChange:d,placeholder:f,required:!0})}),h.jsx(Wo,{children:h.jsx(ki,{type:"submit",variant:"pr",size:"m2",full:!0,children:a.t("load")})})]})})}):x})]}),h.jsxs(Uo,{className:yo("gjs-p-2 max-w-full",mi.bt,ci.br),col:!0,space:"s",children:[h.jsxs(Uo,{className:yo("text-sm w-full"),space:"s",nowrap:!0,children:[h.jsx(Wo,{className:yo(yi.txtEllips,"max-w-full"),grow:!0,children:e.name}),!!y&&h.jsxs(Wo,{children:["by"," ",h.jsx("a",{className:yo(xi.link),href:y.link,rel:"noreferrer",target:"_blank",children:y.name})]})]}),h.jsxs(Uo,{items:"center",children:[m&&h.jsxs(Wo,{className:yo("gjs-mr-auto"),children:[a.t("projectManager.pages"),": ",e.data.pages.length]}),!e.isTemplate&&h.jsx(Wo,{className:yo("gjs-ml-auto"),children:h.jsx(uS,{onConfirm:()=>null==o?void 0:o(e),className:"",children:h.jsx(Uu,{title:a.t("delete"),children:h.jsx(si,{icon:ii.delete,size:bi.sx})})})})]})]})]})})})),bS=vo((function(){var e;const[t,n]=s.useState(),[r,o]=s.useState(),[i,a]=s.useState("existent"),l="existent"===i?t:r,c=kS(),u=md(),d=sd(),[p]=OS(),{projectType:f,sdkOptions:g}=c,[m,v]=s.useState(f),b=e=>u.t(`projectManager.${e}`),y=e=>{e.data.custom={...e.data.custom,projectType:m},c.setProject(e),d.close()},x=async e=>{await hS(e.id),n(void 0)},w=s.useMemo((()=>[{id:"existent",label:b("existentProjects")},{id:"templates",label:b("templates")}]),[u]);s.useEffect((()=>{(async()=>{if("existent"!==i||t){if("templates"===i&&!r){const e=await(async({type:e})=>{try{const t=await C.get(`/api/templates/${e}`);return(null==t?void 0:t.result)??[]}catch(t){return console.error(`Failed to load templates for type ${e}:`,t),[]}})({type:m});o(e)}}else{const e=await fS(m);n(e)}})()}),[i,t,r,m]);const j=(null==(e=g.project)?void 0:e.types)&&Lo();return h.jsxs(Uo,{col:!0,full:!0,space:"m",children:[j&&h.jsx(Uo,{items:"center",space:"m",children:h.jsx(Wo,{className:yo("gjs-ml-auto"),children:h.jsx(nv,{value:m,onChange:e=>{v(e),n(void 0),o(void 0)},options:[{id:Iu.web,label:Mo(Iu.web),content:h.jsxs(Uo,{space:"s",children:[h.jsx(si,{icon:ii.web,size:bi.s}),h.jsx("span",{children:Mo(Iu.web)})]})},{id:Iu.email,label:Mo(Iu.email),content:h.jsxs(Uo,{space:"s",children:[h.jsx(si,{icon:ii.emailOutline,size:bi.s}),h.jsx("span",{children:Mo(Iu.email)})]})}],handlerSelected:e=>h.jsxs(h.Fragment,{children:[h.jsx("b",{children:"Project type"}),": ",e.label]})})})}),h.jsx(Wo,{children:h.jsx(pS,{tabs:w,value:i,onChange:a})}),h.jsx(Wo,{grow:!0,children:l?l.length?h.jsx(sS,{data:l,listClassName:yo("grid grid-cols-3 gap-2 gjs-pr-2"),itemContent:(e,t)=>h.jsx(vS,{projectType:m,project:t,onSelect:y,onRemove:x},t.id)},p):h.jsx(Uo,{justify:"center",children:b("notFound")}):h.jsx(dS,{})})]})})),yS=e=>e.get("groups")||[],xS=(e,t)=>yS(e).includes(t);let wS=class{constructor(e){this.dataSourceKeyid="globalStyles",this.appEditorStore=e}get editor(){var e;return null==(e=this.appEditorStore)?void 0:e.editor}get sdkOptionStyles(){var e,t;return(null==(t=null==(e=this.appEditorStore)?void 0:e.sdkOptions.globalStyles)?void 0:t.default)||[]}get DataSources(){var e;return null==(e=this.editor)?void 0:e.DataSources}getDataSource(){const e=this.DataSources;return null==e?void 0:e.get(this.dataSourceKeyid)}createDataSource(){return this.DataSources.add({id:this.dataSourceKeyid,records:[]})}removeRuleByGroup(e){var t;null==(t=this.getRuleByGroup(e))||t.destroy()}getRuleByGroup(e){var t;return null==(t=this.editor)?void 0:t.CssComposer.getAll().find((t=>xS(t,e)))}addStyleRule(e){var t;const n=e.get("id"),r=e.get("selector"),o=`globalStyles:${n}`,i={[e.get("property")]:{type:"data-variable",path:e.getPath("value"),defaultValue:e.get("defaultValue")}},a=this.getRuleByGroup(o);if(a)a.addStyle(i);else{const n=null==(t=this.editor)?void 0:t.CssComposer.addCollection([{selectors:[],selectorsAdd:r,style:i}],{extend:!0,at:e.index})[0];n&&((e,t)=>{xS(e,t)||e.set("groups",[...yS(e),t])})(n,o)}}createDataRecord(e){const t=this.getDataSource();t&&t.addRecord({...e,mutable:!0,setByGlobalStyleManager:!0})}onLoad(){var e;const{sdkOptionStyles:t}=this;let n=this.getDataSource();n||(n=this.createDataSource()),t.forEach((e=>{const t=n.getRecord(e.id);if(t){const n={label:e.label,field:e.field};t.set(n)}else n.addRecord({...e,mutable:!0,setByGlobalStyleManager:!0,_undo:!0})})),n.getRecords().forEach((e=>{this.addStyleRule(e)})),n.listenTo(n.records,"add",(e=>{this.addStyleRule(e)})),null==(e=this.editor)||e.UndoManager.add(n.records)}};class jS{constructor(e,t){this.projectType=Iu.web,this.editor=void 0,this.sdkProps={},this.sdkLicenseError="",this.licenseCheckRetry=0,this.showPoweredBy=!1,this.isInPreview=!1,this.isCssPanelActive=!1,this.isLeftSidebarOpen=!0,this.isRightSidebarOpen=!0,this.isSelectingTarget=!1,this.leftSidebarSize=240,this.rightSidebarSize=240,this.transitionTime=152,this.topBarSize=35,this.isDev=!1,this.isStage=!1,this.editorKey=0,this.appInstalled=!1,this.licenseKey="",this.studioSdkVersion="1.0.19",this.projectDataCustom={},this.displayMode="browser",this.projectPlugins=[],this.queryParams={},this.isCanvasPanning=!1,this.selectedDesignerTab="style",this.customAssets=void 0,this.nextProjectData=void 0,this.isLoadingAssets=!1,this.isSaving=!1,this.isReady=!1,this.sdkPagesConfigUpdates=0,this.panelPageSettings={isOpen:!1,width:300,page:void 0},this.rootElWidth=0,this._projectId="",this.store=e,t&&Object.keys(t).forEach((e=>{const n=e,r=t[n];void 0!==r&&(this[n]=r)}));const n=ko()?window.location.search:"";this.queryParams=((e="")=>{const t="?"===e[0]?e.substring(1):e,n=new URLSearchParams(t);return Object.fromEntries(n)})(n),this.globalStyleManager=new wS(this),Dn(this,{sdkProps:!1},{autoBind:!0})}get baseApiUrl(){const{isDev:e,isStage:t}=this;return(({isDev:e,isStage:t})=>(e?"":`${t?jo:base_URL}`)+"api")({isDev:e,isStage:t})}get projectId(){var e,t;const{project:n,storage:r}=this.sdkOptions;return this._projectId||(null==(t=null==(e=(null==r?void 0:r.project)||(null==n?void 0:n.default))?void 0:e.custom)?void 0:t.id)||""}get projectIdToLoad(){return this.store.localSettingsStore.lastProjectId||this.projectId}get currentProjectId(){return this.projectDataCustom.id||this.projectId}get isBrowserMode(){return"browser"===this.displayMode}get sdkOptions(){return this.sdkProps.options}get sdkPagesConfig(){return this.sdkPagesConfigUpdates,this.sdkOptions.pages}get sdkLayoutConfig(){return this.sdkOptions.layout}get sdkCurrentLayout(){const{sdkLayoutConfig:e,rootElWidth:t}=this,n=null==e?void 0:e.responsive;let r=null==e?void 0:e.default;if(t&&n){const e=Object.keys(n).map(Number).sort(((e,t)=>t-e)).find((e=>t<=e));r=e?n[e]:r}return r}get sdkCustomIcons(){var e;return null==(e=this.sdkOptions.customTheme)?void 0:e.icons}get isProjectTypeEmail(){return this.projectType===Iu.email}get showPages(){return console.log("menampilkan page"),this.isReady&&!1!==this.sdkPagesConfig&&!this.isProjectTypeEmail}get showSelectors(){return!this.isProjectTypeEmail}get sdkMisconfigurationError(){var e,t;if(this.isUsingAssetCloud||this.isUsingProjectCloud){const n=null==(e=this.sdkOptions.project)?void 0:e.id,r=null==(t=this.sdkOptions.identity)?void 0:t.id;if(!n||!r)return'SDK Misconfiguration Error: When using assets.storageType == "cloud" or storage.type === "cloud", project.id and identity.id are required.'}return""}get isUsingAssetCloud(){var e;return(null==(e=this.sdkOptions.assets)?void 0:e.storageType)===Qu.cloud}get isUsingProjectSelfHosted(){var e;return(null==(e=this.sdkOptions.storage)?void 0:e.type)===Ju.self}get isUsingProjectCloud(){var e;return(null==(e=this.sdkOptions.storage)?void 0:e.type)===Ju.cloud}*init(){var e,t;const{store:n,sdkOptions:r}=this,{lastProjectId:o,lastProjectType:i}=n.localSettingsStore,a=null==(e=r.project)?void 0:e.default,{project:s}=r.storage||{};let l,c;o&&(l=null==(t=(yield fS(i)).find((e=>e.id===o)))?void 0:t.data),l?c=l:s?c=s:a&&(c=a);const u=(null==c?void 0:c.custom)||{},d=u.projectType;d&&(this.projectType=d),u.projectType=this.projectType,this.setProjectDataCustom({...u,id:this.projectIdToLoad}),yield n.pluginStore.initProjectPlugins(this.projectType),this.editorKey++}setInstallEvent(e){this.installEvent=e}setAppInstalled(e){this.appInstalled=e}setDisplayMode(e){this.displayMode=e}setProject(e){const t=this.editor,{id:n,data:r,isTemplate:o}=e,i=t.Storage.getConfig().options.local,a=o?`${n}__${((e=16)=>{let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t+=n.charAt(Math.floor(62*Math.random()));return t})()}`:n;this._projectId=a,i.key=a,(e=>!e||0===Object.keys(e).length)(r)||this.loadProjectData({...r,custom:{...r.custom,id:a}})}setProjectDataCustom(e){const t={...this.projectDataCustom,...e};this.projectDataCustom=t,this.projectType=t.projectType||Iu.web,this.editor&&Sd(this.editor,t),t.id&&this.store.localSettingsStore.setLocalState({lastProjectId:t.id,lastProjectType:this.projectType})}loadProjectData(e){const t=e.custom||{};if(SS(e)!==this.projectType)this.setNextProjectData(e),this.setProjectDataCustom(t),this.updateStudio();else{const n=this.editor;n.loadProjectData(e),n.UndoManager.clear(),this.setProjectDataCustom(t)}}setNextProjectData(e){this.nextProjectData=e}setLeftSidebarSize(e){this.leftSidebarSize=e}setRightSidebarSize(e){this.rightSidebarSize=e}setEditor(e){this.editor=e}setPreview(e){this.isInPreview=e}toggleCssPanel(){this.isCssPanelActive=!this.isCssPanelActive}toggleLeftSidebar(){this.isLeftSidebarOpen=!this.isLeftSidebarOpen,this.refreshEditorPostTransition()}setLeftSidebarOpen(e){this.isLeftSidebarOpen=e,this.refreshEditorPostTransition()}toggleRightSidebar(){this.isRightSidebarOpen=!this.isRightSidebarOpen,this.refreshEditorPostTransition()}setRightSidebarOpen(e){this.isRightSidebarOpen=e,this.refreshEditorPostTransition()}refreshEditorPostTransition(){setTimeout((()=>{var e;return null==(e=this.editor)?void 0:e.refresh()}),this.transitionTime)}setCanvasPanning(e){this.isCanvasPanning=e}setSelectingTarget(e){this.isSelectingTarget=e}setSelectedDesignerTab(e){this.selectedDesignerTab=e}setCustomAssets(e){this.customAssets=e}setIsLoadingAssets(e){this.isLoadingAssets=e}setIsSaving(e){this.isSaving=e}setIsReady(e){this.isReady=e}setPanelPageSettings(e){this.panelPageSettings={...this.panelPageSettings,...e}}setSdkPagesConfig(e){this.sdkProps.options.pages=e&&{...this.sdkPagesConfig,...e},++this.sdkPagesConfigUpdates}setRootElWidth(e){this.rootElWidth=e}*loadLicense(){var e,t,n;try{null==(e=this.editor)||e.trigger("license:check:start");const{licenseKey:n,baseApiUrl:r,studioSdkVersion:o}=this,i=yield C.post(`${r}/sdk/${n||"na"}`,{params:{d:window.location.hostname,v:o}}),{license:a,error:s,plan:l}=i.result||{};s?this.sdkLicenseError=s:(this.sdkLicense=a,null!=l&&l.poweredBy&&(this.showPoweredBy=!0)),null==(t=this.editor)||t.trigger(Co,{sdkLicense:this.sdkLicense})}catch(e){this.licenseCheckRetry<3?(this.licenseCheckRetry++,setTimeout((()=>this.loadLicense()),3e3)):(console.log(e),this.showPoweredBy=!0,null==(n=this.editor)||n.trigger(Co))}}*updateStudio(){const{pluginStore:e}=this.store,{projectType:t}=this.projectDataCustom;yield e.initProjectPlugins(t),this.editorKey++}refreshStudio(){var e;this.setNextProjectData(null==(e=this.editor)?void 0:e.getProjectData()),this.editorKey++}}const SS=e=>{var t;return(null==(t=e.custom)?void 0:t.projectType)||Iu.web},CS=e=>{cn((()=>e.sdkCurrentLayout),(()=>e.refreshStudio()))},kS=()=>cw().appEditorStore,ES=()=>{try{return kS()}catch{}},_S=()=>uw().appEditorStore,OS=()=>{const[e,t]=s.useState(0),n=cw().appEditorStore,{transitionTime:r}=n;return s.useEffect((()=>{setTimeout((()=>t((e=>++e))),r)}),[r]),[e]},TS=String.raw,PS=(e,t)=>{if(null==t)return"";return`${e[0]}${t}${e[1]}`},NS=()=>{const e=kS(),{sdkOptions:t}=e,{customTheme:n}=t;if(!n)return null;const r=TS`
    ${n.default?((e,t="")=>{var n,r,o,i,a,s,l,c,u,d,p,f,h,g,m,v,b,y,x,w,j,S,C,k,E,_,O,T,P,N,L,M,R,A,z,H,D,I,V,B,$,F,U,W,K,q,G,Y,Z,X,Q,J,ee,te,ne,re,oe,ie,ae,se,le,ce,ue,de,pe,fe;return TS`
  ${t}.${li.txt} {
    ${PS`color: ${null==(r=null==(n=e.colors)?void 0:n.global)?void 0:r.text};`}
  }

  ${t}.${li.bg} {
    ${PS`background-color: ${null==(i=null==(o=e.colors)?void 0:o.global)?void 0:i.background3};`}
  }

  ${t}.${li.br} {
    ${PS`border-color: ${null==(s=null==(a=e.colors)?void 0:a.global)?void 0:s.border};`}
  }

  ${t}.${li.bgA} {
    ${PS`background-color: ${null==(c=null==(l=e.colors)?void 0:l.primary)?void 0:c.background1};`}
    ${PS`color: ${null==(d=null==(u=e.colors)?void 0:u.primary)?void 0:d.text};`}
  }

  ${t}.${li.bgA2} {
    ${PS`background-color: ${null==(f=null==(p=e.colors)?void 0:p.primary)?void 0:f.background1};`}
    ${PS`color: ${null==(g=null==(h=e.colors)?void 0:h.primary)?void 0:g.text};`}
  }

  ${t}.${li.hBgAct}:hover.${li.hBgAct}:hover,
  ${t}.${li.hBgA2}:hover.${li.hBgA2}:hover {
    ${PS`background-color: ${null==(v=null==(m=e.colors)?void 0:m.primary)?void 0:v.backgroundHover};`}
  }

  ${t}.${li.tA} {
    ${PS`color: ${null==(y=null==(b=e.colors)?void 0:b.primary)?void 0:y.background1};`}
  }

  ${t}.${li.tAo} {
    ${PS`color: ${null==(w=null==(x=e.colors)?void 0:x.primary)?void 0:w.background1};`}
  }

  ${t}.${li.hTAo}:hover.${li.hTAo}:hover,
  ${t}.group:hover .${li.grouphTAo} {
    ${PS`color: ${null==(S=null==(j=e.colors)?void 0:j.primary)?void 0:S.backgroundHover};`}
  }

  ${t}.${li.bA} {
    ${PS`border-color: ${null==(k=null==(C=e.colors)?void 0:C.primary)?void 0:k.background1};`}
  }

  ${t}.${li.bg0} {
    ${PS`background-color: ${null==(_=null==(E=e.colors)?void 0:E.primary)?void 0:_.background3};`}
    ${PS`color: ${null==(T=null==(O=e.colors)?void 0:O.primary)?void 0:T.background1};`}
  }

  ${t}.${li.bgH} {
    ${PS`background-color: ${null==(N=null==(P=e.colors)?void 0:P.global)?void 0:N.background1};`}
  }

  ${t}.${li.bgH2} {
    ${PS`background-color: ${null==(M=null==(L=e.colors)?void 0:L.global)?void 0:M.background2};`}
  }

  ${t}.${li.hBgH}:hover,
  ${t}.${li.hBgH2}:hover {
    ${PS`background-color: ${null==(A=null==(R=e.colors)?void 0:R.global)?void 0:A.backgroundHover};`}
  }

  ${t}.${li.sel} {
    ${PS`background-color: ${null==(H=null==(z=e.colors)?void 0:z.selector)?void 0:H.background2};`}
    ${PS`color: ${null==(I=null==(D=e.colors)?void 0:D.selector)?void 0:I.background1};`}
  }

  ${t}.${li.selBr} {
    ${PS`border-color: ${null==(B=null==(V=e.colors)?void 0:V.selector)?void 0:B.background1};`}
  }

  ${t}.${li.cmp} {
    ${PS`background-color: ${null==(F=null==($=e.colors)?void 0:$.component)?void 0:F.background1};`}
    ${PS`color: ${null==(W=null==(U=e.colors)?void 0:U.component)?void 0:W.text};`}
  }

  ${t}.${li.cmpBgSoft} {
    ${PS`background-color: ${null==(q=null==(K=e.colors)?void 0:K.component)?void 0:q.background2};`}
  }

  ${t}.${li.cmpBgSoftX} {
    ${PS`background-color: ${null==(Y=null==(G=e.colors)?void 0:G.component)?void 0:Y.background3};`}
  }

  ${t}.${li.cmpBr} {
    ${PS`border-color: ${null==(X=null==(Z=e.colors)?void 0:Z.component)?void 0:X.background1};`}
  }

  ${t}.${li.cmpSymbol} {
    ${PS`background-color: ${null==(J=null==(Q=e.colors)?void 0:Q.symbol)?void 0:J.background1};`}
    ${PS`color: ${null==(te=null==(ee=e.colors)?void 0:ee.symbol)?void 0:te.text};`}
  }

  ${t}.${li.cmpBgSymbolSoft} {
    ${PS`background-color: ${null==(re=null==(ne=e.colors)?void 0:ne.symbol)?void 0:re.background2};`}
  }

  ${t}.${li.cmpBgSymbolSoftX} {
    ${PS`background-color: ${null==(ie=null==(oe=e.colors)?void 0:oe.symbol)?void 0:ie.background3};`}
  }

  ${t}.${li.cmpSymbolBr} {
    ${PS`border-color: ${null==(se=null==(ae=e.colors)?void 0:ae.symbol)?void 0:se.background1};`}
  }

  ${t}.${li.cmpTxtActive} {
    ${PS`color: ${null==(ce=null==(le=e.colors)?void 0:le.component)?void 0:ce.text};`}
  }

  ${t}.${li.focus}:focus-visible {
    ${PS`box-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) ${null==(de=null==(ue=e.colors)?void 0:ue.global)?void 0:de.focus};`}
  }

  ${t}.${li.inputText}::placeholder {
    ${PS`color: ${null==(fe=null==(pe=e.colors)?void 0:pe.global)?void 0:fe.placeholder};`}
  }
`})(n.default,t.theme===nd.light?`:not(.gs-utl-${nd.dark}) `:`.gs-utl-${nd.dark} `):""}
  `;return h.jsx("style",{children:r})};function LS({action:e,icon:t,label:n,className:r,...o}){const i=xo(["last:border-b-0",ci.br,fi.xy,mi.bb,...e?[ci.hBgH,"cursor-pointer"]:[],r]);return h.jsxs(Uo,{space:"s",items:"center",className:i,onClick:()=>Do(e)&&e(),children:[t&&h.jsx(Wo,{children:h.jsx(si,{icon:t,size:bi.s})}),h.jsx(Wo,{className:xo(o.classNameLabel),grow:!0,children:n})]})}const MS={...ev,placement:"right-start"},RS=vo((function(){const e=ew(),{isOpen:t,items:n,coordinates:{x:r,y:o}}=e,[i,a]=s.useState(null),l=s.useMemo((()=>({clientWidth:0,clientHeight:0,getBoundingClientRect:()=>new DOMRect(r,o)})),[r,o]),{styles:c,attributes:u}=Ym(l,i,MS);return s.useEffect((()=>{const t=window.document,n=t=>"Escape"===t.key&&e.hide();return t.addEventListener("keydown",n),()=>{t.removeEventListener("keydown",n)}}),[]),h.jsxs(h.Fragment,{children:[h.jsx("div",{className:yo("gs-ctx-menu-wrp z-20"),ref:a,style:c.popper,...u.popper,children:h.jsx(Hu,{show:t,...pi,unmount:!1,children:h.jsx(Vu,{padding:!1,className:yo("gs-ctx-menu z-20"),children:n.map((t=>h.jsx(LS,{...t,action:()=>{Do(t.action)&&(t.action(),e.hide())}},t.id)))})})}),t&&h.jsx("div",{onClick:e.hide,className:yo("z-10 fixed inset-0")})]})}));function AS({open:e=!1,title:t,isDarkTheme:n,description:r,children:o,onClose:i,closable:a=!0,fullH:l,buttons:c=[],size:u}){const d=()=>a&&i(),p=xo(["relative w-full gjs-p-5 gjs-my-8 overflow-hidden shadow-xl gjs-rounded-xl flex flex-col",mi.b,ci.br,ci.bg,ci.txt,"l"===u?"max-w-5xl":"s"===u?"max-w-sm":"max-w-md"]);return h.jsx(Hu,{show:e,as:s.Fragment,children:h.jsx(_l,{onClose:d,className:xo("fixed z-20 inset-0 overflow-y-auto",n&&ud),children:h.jsxs("div",{className:xo("flex justify-center min-h-screen",l?"items-stretch":"items-center"),children:[h.jsx(Hu.Child,{as:s.Fragment,...pi,children:h.jsx(_l.Overlay,{className:xo("fixed inset-0 gs-utl-bg-black/50 transition-opacity")})}),h.jsx(Hu.Child,{as:s.Fragment,...ui,children:h.jsxs("div",{className:p,children:[a&&h.jsx("div",{className:xo("absolute top-0 right-0 gjs-m-3"),children:h.jsx(Uu,{block:!0,border:!1,onClick:d,children:h.jsx(si,{icon:ii.close,size:1})})}),h.jsx(_l.Title,{as:"h3",className:xo("text-lg font-medium leading-6"),children:t}),h.jsx(_l.Description,{children:r}),h.jsx("div",{className:xo("gjs-mt-4 h-full"),children:o}),c.length>0&&h.jsx(Uo,{className:xo("gjs-mt-4"),space:"m",items:"center",justify:"end",children:c.map(((e,t)=>h.jsx(ki,{...e},t)))})]})}),h.jsx(_l,{onClose:()=>{},open:!1})]})})})}const zS=vo((function(){const{isOpen:e,close:t,content:n,modalProps:r}=sd(),{isDarkTheme:o}=hd();return h.jsx(AS,{open:e,onClose:t,isDarkTheme:o,...r,children:Do(n)?n():n})})),HS=vo((function(){const{isActive:e,content:t}=Qx(),[n,r]=s.useState({x:0,y:0});s.useEffect((()=>{const t=e=>{r({x:e.clientX,y:Math.max(0,e.clientY)})};return e&&window.addEventListener("pointermove",t),()=>{window.removeEventListener("pointermove",t)}}),[e]);const o=s.useMemo((()=>({transform:`translate(${n.x+15}px, ${n.y+15}px)`})),[n]);return h.jsx(Hu,{show:e,...pi,children:h.jsx("div",{className:yo("fixed top-0 left-0 pointer-badge pointer-events-none z-10"),style:o,children:h.jsx(cS,{className:yo("gjs-px-4 gjs-py-2",ci.bgBlur,ci.txtHighEmphasis),pill:!0,border:!0,nopad:!0,children:t})})})})),DS=vo((function(){const e=bd();return h.jsx(Gu,{className:xo("fixed top-5 right-5 z-20"),toasts:e.toasts,onDismiss:e.remove})})),IS=typeof window<"u"?window.location.hostname:"";IS||"[::1]"===IS||IS.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);const VS=s.forwardRef((function({children:e},t){const[n,r]=s.useState(""),o=hd(),i=s.useRef(null),a=kS(),{style:l,className:c,options:u=P_,onUpdate:d,onEditor:p,onReady:f,...g}=a.sdkProps,{autoHeight:m=!0,serviceWorker:v}=u;s.useImperativeHandle(t,(()=>i.current),[]);const b=s.useMemo((()=>({...l,height:n||(null==l?void 0:l.height)||""})),[l,n]);return s.useEffect((()=>{const e=i.current,t=()=>{var t;return null==(t=null==e?void 0:e.parentElement)?void 0:t.offsetHeight},n=t(),o=()=>{const n=e.style.position;e.style.position="absolute";const o=t();o&&r(`${o}px`),e.style.position=n};if(n&&m)return r(`${n}px`),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)}),[m,i.current]),s.useEffect((()=>{const e=i.current;if(!e)return;o.rootEl||o.setRootEl(e),o.init();const t=new ResizeObserver((()=>{a.setRootElWidth(e.offsetWidth)}));return t.observe(e),()=>{t.disconnect()}}),[i.current]),s.useEffect((()=>{v&&function(e){if("serviceWorker"in navigator){if(new URL({NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.19"}.PUBLIC_URL||"",window.location.href).origin!==window.location.origin)return;window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),_S().setInstallEvent(e)})),window.addEventListener("appinstalled",(()=>{_S().setAppInstalled(!0)})),navigator.serviceWorker.addEventListener("controllerchange",(()=>{}));const e=e=>{let t="browser";const n=navigator.standalone||document.referrer.startsWith("android-app://");(e||n)&&(t="standalone"),_S().setDisplayMode(t)},t=window.matchMedia("(display-mode: standalone)");t.addEventListener("change",(t=>e(t.matches))),e(t.matches)}}()}),[]),h.jsxs("div",{ref:i,className:ni(yo("gs-studio-editor overflow-hidden h-full w-full text-base"),c),style:b,...g,children:[h.jsx(NS,{}),e,h.jsxs("div",{className:yo("gs-studio-els",ci.txt),children:[h.jsx(DS,{}),h.jsx(zS,{}),h.jsx(HS,{}),h.jsx(RS,{})]})]})}));const BS=vo((function({children:e,accept:t,onChange:n,multiple:r=!0,...o}){const i=md(),a=s.useRef(null);return h.jsxs(h.Fragment,{children:[h.jsx("input",{className:xo("hidden"),ref:a,type:"file",multiple:r,accept:t,onChange:n}),h.jsx(ki,{variant:"pr",size:"m2",...o,onClick:()=>{const{current:e}=a;e&&(e.value="",e.click())},children:e||i.t("upload")})]})})),$S=vo((function({asset:e,onSelect:t,onRemove:n,className:r}){const o=md();return h.jsx(Vu,{padding:!1,className:yo("overflow-hidden max-w-full group",r),children:h.jsxs(Uo,{col:!0,children:[h.jsxs(Wo,{className:yo("relative group h-24 cursor-pointer bg-checker"),onClick:()=>null==t?void 0:t(e),children:[h.jsx("div",{className:yo("w-full h-full bg-contain bg-no-repeat bg-center"),style:{backgroundImage:`url("${e.getSrc()}")`}}),h.jsx(Uo,{justify:"center",items:"center",className:yo(yi.coverAbs,ci.bgH75,"group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),children:h.jsx(ki,{className:yo("text-sm"),size:"m2",variant:"pr",children:o.t("select")})})]}),h.jsxs(Uo,{className:yo("gjs-p-1 max-w-full"),space:"s",items:"center",nowrap:!0,children:[h.jsx(Wo,{className:yo(yi.txtEllips,"text-sm gjs-mr-auto"),children:e.get("name")||e.getFilename()}),h.jsx(uS,{onConfirm:()=>null==n?void 0:n(e),text:h.jsxs(Uo,{col:!0,space:"m",items:"stretch",children:[h.jsx("p",{className:yo("text-center",ci.txtHighEmphasis),children:o.t("assetManager.deleteConfirmQuestion")}),h.jsx("p",{className:yo("text-center"),children:o.t("assetManager.deleteConfirmExplanation")})]}),confirmButtonProps:{variant:"danger"},children:h.jsx(Uu,{title:o.t("delete"),children:h.jsx(si,{icon:ii.delete,size:bi.sx})})})]})]})})})),FS=vo((function({assets:e,select:t,close:n}){var r,o;const i=kS(),a=bd(),[l]=OS(),c=md(),[u,d]=s.useState(""),[p,f]=s.useState(""),[g,m]=s.useState(e),v=c.tScoped("assetManager"),b=i.editor,{customAssets:y,isUsingAssetCloud:x}=i,{Assets:w}=b,j=w.getConfig(),S=i.sdkOptions.assets,k=null==(r=i.sdkOptions.project)?void 0:r.id,E=null==(o=i.sdkOptions.identity)?void 0:o.id,_=i.sdkOptions.licenseKey,O=[{id:"project",label:c.t("assetManager.projectAssets")},{id:"user",label:c.t("assetManager.userAssets")}],[T,P]=s.useState(O[0].id),N=x&&"user"===T?()=>(async(e,t,n)=>{const r=await C.get(of(),{params:{projectId:t,identityId:n,d:window.location.hostname,licenseKey:e}});return((null==r?void 0:r.result)??[]).map((({asset:e,cdnUrl:t})=>({...e,size:parseInt(e.size),src:t})))})(_,k,E):null==S?void 0:S.onLoad,L=x?({assets:e})=>(async(e,t,n,r)=>Promise.all(e.map((e=>sf(e.attributes.id,t,n,r)))))(e,_,k,E):null==S?void 0:S.onDelete,M=N&&!y,R=e.map((e=>e.id)).join(","),A=i.isLoadingAssets||M,z=g.filter((e=>!(u&&!Bo(e.getSrc(),u)&&!Bo(e.get("name"),u)))),H=s.useCallback((async()=>{if(N)try{const e=(await N({editor:b})).map((e=>({...e,id:e.id||e.src})));i.setCustomAssets(e),m((i.customAssets??[]).map((e=>new b.AssetManager.all.model.prototype.constructor(e))))}catch(e){console.error(e),i.setCustomAssets([]),a.addError("assets-error-get",v("errorLoad"))}else m(e)}),[T]),D=e=>{t(e),b.store(),n()},I=e=>()=>{p&&(w.add(p),e())},V=async e=>{try{i.setIsLoadingAssets(!0),await(null==L?void 0:L({assets:[e],editor:b})),w.remove(e),await H(),await b.store()}catch(e){console.error(e),a.addError("assets-error-delete",{header:v("errorDelete"),content:null==e?void 0:e.message})}finally{i.setIsLoadingAssets(!1)}};return s.useEffect((()=>{const e=setTimeout((()=>{H()}),100);return()=>clearTimeout(e)}),[H]),s.useEffect((()=>{N||m(e)}),[R]),h.jsxs(Uo,{col:!0,space:"m",className:xo("relative",A&&yi.disabled),children:[h.jsxs(Uo,{justify:"between",items:"center",space:"m",children:[h.jsxs(Uo,{items:"center",space:"m",children:[h.jsx(Wo,{children:h.jsx(sg,{size:"s",type:"search",value:u,onInput:d,placeholder:`${c.t("search")}...`})}),x&&h.jsx(Wo,{children:h.jsx(nv,{className:xo("items-center"),size:"m",options:O,value:T,onChange:function(e){P(e)}})})]}),h.jsxs(Uo,{items:"center",space:"m",children:[h.jsx(Wo,{children:h.jsx(BS,{accept:"image/*",onChange:e=>{w.FileUploader().uploadFile(e.nativeEvent),setTimeout((()=>H()),1e3)}})}),!!j.showUrlInput&&h.jsx(Wo,{children:h.jsx(pg,{overlay:!0,title:!1,buttonAs:"span",handler:h.jsx(ki,{variant:"pr",size:"m2",children:c.t("assetManager.addUrl")}),children:({close:e})=>h.jsxs(Uo,{space:"m",children:[h.jsx(Wo,{children:h.jsx(sg,{type:"url",size:"s",value:p,onChange:f,placeholder:c.t("assetManager.inputPlh")})}),h.jsx(Wo,{children:h.jsx(ki,{variant:"pr",size:"m2",onClick:I(e),children:c.t("add")})})]})})})]})]}),h.jsx(Uo,{className:xo("gs-utl-h-[75vh]"),space:"m",col:!0,nowrap:!0,children:M?null:z.length?h.jsx(sS,{data:z,listClassName:xo("grid grid-cols-4 gap-2 gjs-pr-2"),itemContent:(e,t)=>h.jsx($S,{asset:t,onSelect:D,onRemove:V},t.getSrc())},l):h.jsx(Uo,{justify:"center",children:c.t("noItems")})}),A&&h.jsx(dS,{abs:!0})]})})),US=yo("text-sm text-center w-full",yi.txtEllips),WS=vo((({block:e,className:t})=>{const n=_f(),{Blocks:r}=n,o=md().tScoped("blockManager.labels"),i=!!e.get("full"),a=e.get("mediaReact"),s=e.getMedia(),l=o(e.getId())||e.getLabel(),c=yo("gs-block-item cursor-pointer gjs-py-2 gjs-px-2 transition-colors",mi.b,mi.rnd,ci.br,ci.hTAo,ci.hBgH,i&&"col-span-full",t);return h.jsxs(Uo,{className:c,onDragStart:()=>{r.startDrag(e)},onDragEnd:()=>{r.endDrag(!1)},items:"center",draggable:!0,col:!0,children:[a||h.jsx("div",{className:yo("h-10 w-10 block-media"),dangerouslySetInnerHTML:{__html:s}}),h.jsx("div",{className:US,title:l,children:l})]})}));function KS({className:e,value:t,onChange:n}){const[r,o]=s.useState(t),i=s.useRef(null);return s.useEffect((()=>{i.current&&i.current.select()}),[]),h.jsx("input",{autoFocus:!0,className:xo([e,"w-full",ci.bgTr]),value:r,onChange:e=>{const{value:t}=e.target;o(t)},onBlur:()=>{n(r||t)},onKeyDown:e=>{switch(e.key){case"Escape":n(t);break;case"Enter":n(r||t)}},ref:i})}function qS({className:e,value:t,active:n,unstyled:r,activable:o,onChange:i,onActive:a,...l}){const[c,u]=s.useState(n);s.useEffect((()=>{u(n)}),[n]);const d=e=>{null==a||a(e),u(e)};return h.jsx("div",{className:xo("truncate",e),...l,onDoubleClick:()=>o&&d(!0),children:c?h.jsx(KS,{className:xo(r&&yi.noFocusOut),value:t,onChange:e=>{i(e),d(!1)}}):h.jsx(h.Fragment,{children:t})})}const GS=yo("text-sm w-full",yi.txtEllips),YS=vo((({symbol:e,className:t})=>{const n=_f(),{Blocks:r,Components:o}=n,i=md(),a=sd(),s=i.tScoped("blockManager.symbols"),l=e.getIcon(),c=e.getName(),u=o.getSymbolInfo(e).instances.length,d=yo("h-10 w-10 block-media",ci.grouphTAo),p=yo("gjs-pt-1 gjs-mt-2",mi.bt,ci.br),f=yo("cursor-pointer gjs-p-2 transition-colors group",mi.b,mi.rnd,ci.br,ci.hBgH,t);return h.jsxs(Uo,{className:f,onDragStart:()=>{e.em.set("dragContent",(()=>o.addSymbol(e)))},onDragEnd:()=>{r.endDrag(!1)},items:"center",draggable:!0,col:!0,children:[h.jsx("div",{className:d,dangerouslySetInnerHTML:{__html:l}}),h.jsxs(Uo,{items:"center",justify:"between",className:p,space:"m",full:!0,children:[h.jsx(Wo,{children:h.jsx(Uo,{className:yo(GS,"gjs-mr-auto"),children:h.jsx(Fu,{title:`${u} ${s("instancesProject")}`,children:h.jsx(cS,{label:`${u}`,className:yo(ci.bgH75)})})})}),h.jsx(Wo,{className:yo("truncate"),grow:!0,title:c,children:h.jsx(qS,{activable:!0,value:c,className:GS,onChange:t=>{e.set("custom-name",t)}})}),h.jsx(Wo,{className:yo(yi.hoverGroup),children:h.jsx(Uo,{justify:"end",full:!0,children:h.jsx(Uu,{onClick:()=>{a.confirm({title:s("delete"),content:s("deleteConfirm"),onConfirm:()=>e.remove()})},title:s("delete"),border:!1,size:"",block:!0,children:h.jsx(si,{icon:ii.delete,size:bi.s})})})})]})]})})),ZS=[{id:"regular",label:"Regular"},{id:"symbols",label:"Symbols"}],XS=vo((function({isOpen:e,className:t}){const n=_f(),{Blocks:r,Components:o}=n,i=md(),[a,l]=s.useState("regular"),[c,u]=s.useState(""),[d,p]=s.useState(0),[f,g]=s.useState([]),m=i.tScoped("blockManager.labels"),v="symbols"===a,b=s.useRef(null);s.useEffect((()=>{const e=r.events.custom,t=o.events.symbol,i=()=>{g(o.getSymbols()),p((e=>++e))};return n.on(t,i),n.on(e,i),()=>{n.off(t,i),n.off(e,i)}}),[n]),s.useEffect((()=>{if(b.current&&e){const e=b.current.querySelector("input");setTimeout((()=>null==e?void 0:e.focus()),150)}}),[b.current,e]);const y=f.filter((e=>Bo(e.getName(),c))),x=r.getAll().reduce(((e,t)=>{const n=t.getCategoryLabel();if(c&&!Bo(n,c)&&!Bo((e=>m(e.getId())||e.getLabel())(t),c))return e;const r=e[n];return r?r.push(t):e[n]=[t],e}),{}),w=i.t("search"),j=Object.keys(x),S=xo("gjs-pb-3",fi.xyS,mi.bb,ci.br);return h.jsxs(Uo,{className:xo("gs-block-manager",t),col:!0,full:!0,children:[h.jsxs(Uo,{className:S,space:"s",col:!0,children:[h.jsx(pS,{tabs:ZS,onChange:l,value:a,variant:"pills"}),h.jsx(sg,{ref:b,size:"s",value:c,onInput:u,placeholder:`${w}...`,type:"search"})]}),h.jsxs(Wo,{grow:!0,className:xo(yi.scrollY),children:[v&&(y.length?h.jsx(Uo,{className:xo("grid grid-cols-1 gap-2 gjs-p-2"),children:y.map((e=>h.jsx(YS,{symbol:e},`${d}_${e.getId()}`)))}):h.jsx(Uo,{className:xo("text-center gjs-p-4"),justify:"center",children:i.t("blockManager.symbols.notFound")})),!v&&(j.length?j.map(((e,t)=>h.jsx(rh,{sticky:!0,open:!0,handler:e,className:e=>xo(wi({index:t,open:e,length:j.length})),children:h.jsx(Uo,{className:xo("grid grid-cols-2 gap-2 gjs-p-2"),children:x[e].map((e=>h.jsx(WS,{block:e},e.id)))})},e))):h.jsx(Uo,{className:xo("text-center gjs-p-4"),justify:"center",children:i.t("blockManager.notFound")}))]})]})})),QS={add:ii.plus},JS=(e,t)=>t||QS[e];function eC({className:e,icon:t,title:n,onClose:r,actions:o=[],children:i}){const{t:a}=md();return h.jsxs(Uo,{className:xo("gjs-card-title",e),items:"center",children:[h.jsx(Wo,{className:xo("truncate"),grow:!0,children:n}),i,h.jsxs(Uo,{space:"s",children:[!!o.length&&h.jsx(Uo,{space:"xs",className:xo("gjs-px-1"),children:o.map((({id:e,icon:t,className:n,...r})=>h.jsx(Wo,{children:h.jsx(Uu,{block:!0,border:!1,size:"xs",icon:JS(e,t)?{icon:JS(e,t),size:bi.s}:void 0,className:xo(yi.click,n),...r})},e)))}),(r||t)&&h.jsx(Uu,{title:a("close"),onClick:r,border:!1,className:xo(yi.click),icon:{icon:ii.close,size:bi.s},size:"xs",block:!0})]})]})}const tC=[{id:"grapesjs-component-countdown",name:"Countdown",description:"Countdown component",src:"/static/assets/grapesjs-component-countdown/index.js",version:"1.0.1",projectType:[Iu.web],options:{props:{emptyState:!0}}},{id:"grapesjs-tabs",name:"Tabs",description:"Tabs component",src:"/static/assets/grapesjs-tabs/grapesjs-tabs.min.js",version:"1.0.6",projectType:[Iu.web],options:{tabsBlock:{category:"Extra",select:!0}}},{id:"grapesjs-custom-code",name:"Custom code",description:"Component for the embed of custom code",src:"/static/assets/grapesjs-custom-code/index.js",version:"1.0.1",projectType:[Iu.web]},{id:"grapesjs-tooltip",name:"Tooltip",description:"Simple, CSS only, tooltip component",src:"/static/assets/grapesjs-tooltip/index.js",version:"0.1.7",projectType:[Iu.web],options:{propsTooltip:{emptyState:{styleOut:"width: 80px;"}}}},{id:"grapesjs-typed",name:"Typed",description:"Typed component based on Typed.js library",src:"/static/assets/grapesjs-typed/index.js",version:"2.0.1",projectType:[Iu.web],options:{block:{category:"Extra"}}}],nC=vo((function({plugin:e,selected:t,className:n,installed:r,onInstall:o,onSelect:i}){const a=md(),s=r[e.id];return h.jsx(Vu,{className:yo("overflow-hidden max-w-full group gjs-px-4 gjs-py-3",n),padding:!1,children:h.jsx(Uo,{space:"s",col:!0,children:h.jsx(Uo,{className:yo("max-w-full"),nowrap:!0,children:h.jsx(Wo,{grow:!0,className:yo("w-full"),children:h.jsxs(Uo,{space:"s",col:!0,children:[h.jsxs(Uo,{items:"center",space:"s",nowrap:!0,children:[h.jsx(Wo,{className:yo(yi.txtEllips,"cursor-pointer"),onClick:()=>null==i?void 0:i(e),children:h.jsx("b",{children:e.name})}),h.jsx(Wo,{grow:!0,children:h.jsx(cS,{className:yo("opacity-90"),label:`v${e.version}`,s:"s",pill:!0,border:!0})}),h.jsx(Uo,{children:h.jsx(ki,{className:yo("text-sm"),size:"m2",variant:"pr",onClick:()=>o(e),children:(l=s?"uninstall":"install",a.t(`pluginManager.${l}`))})})]}),h.jsx(Wo,{className:yo(!t&&yi.txtEllips,"text-sm max-w-full"),children:e.description})]})})})})});var l})),rC=vo((function({selectedId:e}){const t=md(),[n]=OS(),r=Yx(),o=kS(),[i,a]=s.useState(),[l,c]=s.useState(),[u,d]=s.useState(),[p,f]=s.useState("all"),g="all"===p?u:l,m=t.tScoped("pluginManager");s.useEffect((()=>{(async()=>{!l&&c(await Gx()),!u&&d(await new Promise((e=>{setTimeout((()=>e(tC)),100)})))})()}),[l,u]),s.useEffect((()=>{if(e&&u&&!r.selectedShown){const t=u.find((t=>t.id===e));t&&a(t),r.setSelectedShown(!0)}}),[u]);const v=s.useMemo((()=>[{id:"all",label:m("all")},{id:"installed",label:m("installed")}]),[t]),b=s.useCallback((async e=>{null!=l&&l.find((t=>t.id===e.id))?await(e=>new Promise((async t=>{try{const t=(await Gx()).filter((t=>t.id!==e.id));Zx().addPendingUninstalled(e),await Wx(Bx.Settings,"plugins",t,qx)}catch(e){console.error(e)}t()})))(e):await(e=>new Promise((async t=>{try{const t=[...await Gx(),e];Zx().addPendingInstalled(e),await Wx(Bx.Settings,"plugins",t,qx)}catch(e){console.error(e)}t()})))(e),c(await Gx())}),[l]),y=s.useMemo((()=>(null==l?void 0:l.reduce(((e,t)=>(e[t.id]=t.version,e)),{}))||{}),[l]),x=!(!i&&!r.hasPending);return h.jsxs(Uo,{col:!0,full:!0,space:"m",children:[x&&h.jsxs(Uo,{children:[!!i&&h.jsx(ki,{onClick:()=>a(void 0),className:yo(ci.tAo),border:!1,children:h.jsxs(Uo,{space:"xs",items:"center",children:[h.jsx(si,{icon:ii.chevronLeft,size:bi.s}),h.jsx("div",{children:m("allPlugins")})]})}),r.hasPending&&h.jsx(ki,{className:yo("text-sm gjs-ml-auto"),size:"m2",variant:"out",onClick:o.updateStudio,children:m("updateStudio")})]}),i?h.jsx(Wo,{grow:!0,className:yo("w-full"),children:h.jsx(nC,{plugin:i,installed:y,onInstall:b,selected:!0})}):h.jsxs(h.Fragment,{children:[h.jsx(Wo,{children:h.jsx(pS,{tabs:v,onChange:f,value:p})}),h.jsx(Wo,{grow:!0,children:g?g.length?h.jsx(sS,{data:g,listClassName:yo("grid grid-cols-1 gap-2 gjs-pr-2"),itemContent:(e,t)=>h.jsx(nC,{plugin:t,installed:y,onInstall:b,onSelect:a},t.id)},n):h.jsx(Uo,{justify:"center",children:t.t("notItemsFound")}):h.jsx(dS,{})})]})]})})),oC=s.forwardRef((function({children:e,className:t,...n},r){return h.jsx("div",{className:ni(yo("gs-block-manager-after"),t),ref:r,...n,children:e})})),iC=s.forwardRef((function({children:e,className:t,...n},r){return h.jsx("div",{className:ni(yo("gs-block-manager-before"),t),ref:r,...n,children:e})})),aC=vo((function(){const{isOpen:e,toggleOpen:t}=id(),{editor:n,sdkProps:r,sdkOptions:o,isProjectTypeEmail:i}=kS(),a=sd(),l=md(),c=r.children,u=l.tScoped("blockManager"),d=xo("absolute left-0 top-0 h-full transition-transform z-10",!e&&"-translate-x-full",mi.br,ci.br,ci.bg),p=()=>{a.open({fullH:!0,title:l.t("pluginManager.plugins"),content:()=>h.jsx(rC,{})})},f=s.useMemo((()=>[!!o.pluginManager&&!i&&{id:"add",title:u("add"),className:ci.tAo,onClick:p,icon:ii.viewGridPlus}].filter(Boolean)),[n]);return h.jsxs(Uo,{className:d,style:{width:240},col:!0,nowrap:!0,children:[h.jsx(Wo,{children:h.jsx(eC,{title:u("blocks"),onClose:t,className:xo(fi.s),actions:f})}),h.jsxs(Jf,{children:[$o(c,iC),h.jsx(Wo,{className:xo("overflow-hidden"),grow:!0,children:h.jsx(XS,{isOpen:e})}),$o(c,oC)]})]})})),sC={pointerEvents:"all"};function lC({spot:e,children:t,style:n,spotStyles:r,...o}){const i={...r||e.getStyle(),...n};return h.jsx("div",{...o,style:i,children:h.jsx("div",{style:sC,children:t})})}const cC=s.forwardRef((function({children:e,className:t,position:n,out:r,...o},i){var a;const{Canvas:s}=_f(),l=(null==(a=s.getCanvasView())?void 0:a.clsUnscale)||"",c=[],u={};switch(n){case"top-left":c.push("top-0","left-0"),u.transformOrigin="top left",r&&(u.translate="0 -100%",u.transformOrigin="bottom left");break;case"top-center":c.push("top-0"),u.left="50%",u.translate="-50% 0",u.transformOrigin="top center",r&&(u.translate="-50% -100%",u.transformOrigin="bottom center");break;case"top-right":c.push("top-0","right-0"),u.transformOrigin="top right",r&&(u.translate="0 -100%",u.transformOrigin="bottom right");break;case"center-left":c.push("left-0"),u.top="50%",u.translate="0 -50%",u.transformOrigin="center left",r&&(u.translate="-100% -50%",u.transformOrigin="center right");break;case"center-center":u.top="50%",u.left="50%",u.translate="-50% -50%",u.transformOrigin="center";break;case"center-right":c.push("right-0"),u.top="50%",u.translate="0 -50%",u.transformOrigin="center right",r&&(u.translate="100% -50%",u.transformOrigin="center left");break;case"bottom-left":c.push("left-0","bottom-0"),u.transformOrigin="bottom left",r&&(u.translate="0 100%",u.transformOrigin="top left");break;case"bottom-center":c.push("bottom-0"),u.left="50%",u.translate="-50% 0",u.transformOrigin="bottom center",r&&(u.translate="-50% 100%",u.transformOrigin="top center");break;case"bottom-right":c.push("right-0","bottom-0"),u.transformOrigin="bottom right",r&&(u.translate="0 100%",u.transformOrigin="top right")}const d={...u,...o.style};return h.jsx("div",{...o,className:ni(l,yo("gs-utl-flex gs-utl-absolute",t,c.join(" "))),style:d,ref:i,children:e})})),uC="top-left";function dC({spot:e,className:t}){const{Canvas:n}=_f(),[r,o]=s.useState(uC),i=e.component,a=e.getBoxRect(),l=n.getWorldRectToScreen(a),c=s.useRef(null),u=n.getElement().clientHeight;return ug(c,{boxRectScreen:l,vwHeight:u,setPos:o,initialPos:uC}),h.jsx(cC,{className:yo("pointer-events-none"),ref:c,style:AC,position:r,out:!0,children:h.jsx(cS,{className:yo("shadow-md",t||Si(i).bg),s:"s",children:h.jsxs(Uo,{space:"xs",items:"center",nowrap:!0,children:[xd(i),h.jsx("div",{className:yo("whitespace-nowrap max-w-36 truncate"),children:i.getName()})]})})})}function pC({spot:e,className:t}){const n=yo("gjs-border",Si(e.component).border,t);return h.jsx(lC,{spot:e,className:n,children:h.jsx(dC,{spot:e})})}function fC({spot:e,className:t}){const n=_f(),r=s.useRef(null),[o]=s.useState(AC),[i,a]=s.useState("top-right"),l=e.component,c=e.getBoxRect(),u=n.Canvas.getWorldRectToScreen(c),d=e.getStyle({boxRect:c}),p=n.getSelected()===l,f=l.toolbar,g=n.Canvas.getElement().clientHeight,m=ew();ug(r,{boxRectScreen:u,vwHeight:g,setPos:a});const v=m.getItemsForComponent(l),b=Si(l),y=yo("border-2",b.border,t),x=yo(b.bg,"overflow-hidden shadow-md");return h.jsx(lC,{spot:e,spotStyles:d,className:y,children:p&&h.jsx(cC,{ref:r,style:o,position:i,out:!0,children:h.jsx(cS,{className:x,s:"s",nopad:!0,block:!0,children:h.jsxs(Uo,{space:"x2s",items:"center",nowrap:!0,children:[f.map((({label:e,command:t=""})=>h.jsx(Wo,{children:h.jsx(ki,{border:!1,rounded:!1,size:"s",className:yo("block gs-utl-py-1.5 gs-utl-px-1.5",ci.hBgDark),onMouseDown:()=>(e=>{zo(e)?n.runCommand(e):null==e||e(n,"",{})})(t),children:null!=e&&e.startsWith("<svg")?h.jsx(oi,{className:yo("w-4 fill-current"),svg:e}):e})},e))),!!v.length&&h.jsx(Wo,{children:h.jsx(ki,{border:!1,rounded:!1,size:"s",className:yo("block",ci.hBgDark),onClick:e=>{const t=e.currentTarget.getBoundingClientRect();m.show({items:v,x:t.x+t.width,y:t.y})},children:h.jsx(si,{icon:ii.dotsVertical,size:bi.s})})})]})})})})}var hC=(e=>(e.PaddingTop="padding-top",e.PaddingRight="padding-right",e.PaddingBottom="padding-bottom",e.PaddingLeft="padding-left",e.MarginTop="margin-top",e.MarginRight="margin-right",e.MarginBottom="margin-bottom",e.MarginLeft="margin-left",e))(hC||{});const{PaddingTop:gC,PaddingRight:mC,PaddingBottom:vC,PaddingLeft:bC,MarginTop:yC,MarginRight:xC,MarginBottom:wC,MarginLeft:jC}=hC,SC=(e,t)=>((e,t,n)=>{const r=Od(e,t);return null==r?void 0:r.getProperty(n)})(e,null!=t&&t.startsWith("p")?"padding":"margin",t),CC=(e,t,n={})=>{const r=_f(),o=Qx(),[i,a]=s.useState(),l=e=>{const t=r.Canvas.getFramesEl().classList,n=e?"add":"remove";t[n]("gs-utl-pointer-events-none"),t[n]("gs-utl-select-none")},c=e=>{var t,r;null==(t=n.setAltKey)||t.call(n,e.altKey),null==(r=n.setShiftKey)||r.call(n,e.shiftKey)};return s.useEffect((()=>{var s;const u=[gC,vC,yC,wC].includes(t),d=document.body.classList,p=e.component.getEl(),f=r.Styles.getSelected(),h=window.getComputedStyle(p),g=u?"!cursor-ns-resize":"!cursor-ew-resize",m=r.Canvas.getZoomMultiplier(),v={};let b,y=parseFloat(h[t])??0,x="",w={};for(const e of Object.values(hC)){const t=e;v[t]=h[t]}const j=(e,n)=>{const r=null==t?void 0:t.startsWith("p"),{altKey:o,shiftKey:i}=n,a=v,s={[gC]:i||t===vC&&o?e:a[gC],[mC]:i||t===bC&&o?e:a[mC],[vC]:i||t===gC&&o?e:a[vC],[bC]:i||t===mC&&o?e:a[bC]},l={[yC]:i||t===wC&&o?e:a[yC],[xC]:i||t===jC&&o?e:a[xC],[wC]:i||t===yC&&o?e:a[wC],[jC]:i||t===xC&&o?e:a[jC]};return s[t]=e,l[t]=e,r?s:l},S=e=>{x&&(b?b.upValue(x,e):null==f||f.addStyle(w,e))},C=e=>{if(!i||!f)return;const t=u?e.clientY-i.y:e.clientX-i.x,n=Math.max(0,parseInt(`${y+t*m}`));x=`${n}px`,w=j(x,e),S({partial:!0}),o.show(n)},k=()=>{!i||!f||(a(void 0),l(!1),o.hide(),S())},E=e=>{c(e),w=j(x,e),S({partial:!0})};return i&&(document.addEventListener("pointermove",C),document.addEventListener("pointerup",k),document.addEventListener("keydown",E),document.addEventListener("keyup",E),d.add(g),null==(s=n.onActive)||s.call(n,t),n.useStyleProperty&&(b=SC(r,t),y=(null==b?void 0:b.getValue())??y)),()=>{var e;document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",k),document.removeEventListener("keydown",E),document.removeEventListener("keyup",E),d.remove(g),null==(e=n.onActive)||e.call(n,void 0)}}),[i]),[s.useCallback((e=>{if(0!==e.button)return;const{clientX:t,clientY:n}=e;a({x:t,y:n}),l(!0),c(e.nativeEvent)}),[]),!!i]},kC="gs-utl-border-2 gs-utl-border-white !gs-utl-box-content",EC="gs-utl-bg-[#7fc65e]",_C="gs-utl-bg-[#ebae70]",OC="gs-utl-h-5 gs-utl-w-1 gs-utl-mx-2 gs-utl-cursor-ew-resize",TC="gs-utl-h-1 gs-utl-w-5 gs-utl-my-2 gs-utl-cursor-ns-resize",PC=s.memo((function({spot:e,disabledHandler:t,useStyleProperty:n,onActive:r}){const[o,i]=s.useState(!1),[a,l]=s.useState(!1),c={onActive:r,setAltKey:i,setShiftKey:l,useStyleProperty:n},[u,d]=CC(e,"padding-top",c),[p,f]=CC(e,"padding-right",c),[g,m]=CC(e,"padding-bottom",c),[v,b]=CC(e,"padding-left",c),[y,x]=CC(e,"margin-top",c),[w,j]=CC(e,"margin-right",c),[S,C]=CC(e,"margin-bottom",c),[k,E]=CC(e,"margin-left",c),_=yo(kC,EC,OC),O=yo(kC,EC,TC),T=yo(kC,_C,OC),P=yo(kC,_C,TC),N=d||f||m||b,L=x||j||C||E,M=N||L,R=(e,t)=>{let n=!1;const r=N&&a,i=L&&a;switch(t){case"padding-top":n=m&&o||r;break;case"padding-right":n=b&&o||r;break;case"padding-bottom":n=d&&o||r;break;case"padding-left":n=f&&o||r;break;case"margin-top":n=C&&o||i;break;case"margin-right":n=E&&o||i;break;case"margin-bottom":n=x&&o||i;break;case"margin-left":n=j&&o||i}return!M||e||n},A=!(null==t||!t.padding),z=!(null==t||!t.margin),H=!A&&R(d,"padding-top"),D=!A&&R(f,"padding-right"),I=!A&&R(m,"padding-bottom"),V=!A&&R(b,"padding-left"),B=!z&&R(x,"margin-top"),$=!z&&R(j,"margin-right"),F=!z&&R(C,"margin-bottom"),U=!z&&R(E,"margin-left");return h.jsxs(h.Fragment,{children:[H&&h.jsx(cC,{position:"top-center",onPointerDown:u,children:h.jsx(cS,{className:O,s:"s",pill:!0,block:!0,nopad:!0})}),D&&h.jsx(cC,{position:"center-right",onPointerDown:p,children:h.jsx(cS,{className:_,s:"s",pill:!0,block:!0,nopad:!0})}),I&&h.jsx(cC,{position:"bottom-center",onPointerDown:g,children:h.jsx(cS,{className:O,s:"s",pill:!0,block:!0,nopad:!0})}),V&&h.jsx(cC,{position:"center-left",onPointerDown:v,children:h.jsx(cS,{className:_,s:"s",pill:!0,block:!0,nopad:!0})}),B&&h.jsx(cC,{position:"top-center",onPointerDown:y,out:!0,children:h.jsx(cS,{className:P,s:"s",pill:!0,block:!0,nopad:!0})}),$&&h.jsx(cC,{position:"center-right",onPointerDown:w,out:!0,children:h.jsx(cS,{className:T,s:"s",pill:!0,block:!0,nopad:!0})}),F&&h.jsx(cC,{position:"bottom-center",onPointerDown:S,out:!0,children:h.jsx(cS,{className:P,s:"s",pill:!0,block:!0,nopad:!0})}),U&&h.jsx(cC,{position:"center-left",onPointerDown:k,out:!0,children:h.jsx(cS,{className:T,s:"s",pill:!0,block:!0,nopad:!0})})]})})),NC=(e,t)=>{var n;return!(null==(n=Od(e,t))||!n.isVisible())},LC=(e={})=>{const[t,n,r,o]=Vd(e.padding||""),[i,a,s,l]=Vd(e.margin||"");return{paddingTop:e[hC.PaddingTop]||t,paddingRight:e[hC.PaddingRight]||n,paddingBottom:e[hC.PaddingBottom]||r,paddingLeft:e[hC.PaddingLeft]||o,marginTop:e[hC.MarginTop]||i,marginRight:e[hC.MarginTop]||a,marginBottom:e[hC.MarginTop]||s,marginLeft:e[hC.MarginTop]||l}};function MC({spot:e,className:t}){const n=_f(),{isProjectTypeEmail:r}=kS(),[o,i]=s.useState(),[a,l]=s.useState({padding:!1,margin:!1}),{el:c,component:u}=e,d=e.getBoxRect(),p=n.Canvas.getZoomDecimal(),f=d.height*p,g=d.width*p,m=e.getStyle({boxRect:d}),v=n.getSelectedAll().includes(u),b=n.getSelected()===u,y=(null==o?void 0:o.startsWith("p"))??!1,x=(null==o?void 0:o.startsWith("m"))??!1,w=LC(r?null==u?void 0:u.getStyle():{});if(s.useEffect((()=>{v&&l({padding:!NC(n,"padding"),margin:!NC(n,"margin")})}),[v]),"spacing"===e.type&&v)return null;const j={borderColor:"rgba(196, 222, 184, 0.5)",borderStyle:"solid"},S={borderColor:"rgba(249, 204, 158, 0.5)",borderStyle:"solid",boxSizing:"content-box"},C=window.getComputedStyle(c);j.borderTopWidth=w.paddingTop||C.paddingTop,j.borderRightWidth=w.paddingRight||C.paddingRight,j.borderBottomWidth=w.paddingBottom||C.paddingBottom,j.borderLeftWidth=w.paddingLeft||C.paddingLeft,S.borderTopWidth=w.marginTop||C.marginTop,S.borderRightWidth=w.marginTop||C.marginRight,S.borderBottomWidth=w.marginTop||C.marginBottom,S.borderLeftWidth=w.marginTop||C.marginLeft;const k={...m,...j},E={...m,...S,translate:`${d.x-parseFloat(C.marginLeft)}px ${d.y-parseFloat(C.marginTop)}px`};return h.jsxs(h.Fragment,{children:[(!v||y)&&h.jsx(lC,{spot:e,spotStyles:k,className:yo(t)}),(!v||x)&&h.jsx(lC,{spot:e,spotStyles:E,className:yo(t)}),b&&(f>60&&g>60||o)&&h.jsx(lC,{spot:e,spotStyles:m,className:yo(t),children:h.jsx(PC,{spot:e,onActive:i,disabledHandler:a,useStyleProperty:r})})]})}function RC({spot:e,className:t}){const n=yo("gjs-border-2",ci.cmpTargetBr,ci.cmpTargetBgOpac,t);return h.jsx(lC,{spot:e,className:n,children:h.jsx(dC,{spot:e,className:yo(ci.cmpTargetBg)})})}const AC={padding:"9px 0"};function zC({spot:e}){const t=_f(),{Canvas:n}=t,r=kS(),o=t.getEditing(),{type:i,component:a}=e,s="select"===i,l="spacing"===i,c="hover"===i,u="target"===i;return!e.el||!n.hasCustomSpot(i)||r.isSelectingTarget&&!u||(c||l)&&o&&null!=a&&a.isChildOf(o)?null:h.jsxs(h.Fragment,{children:[(l||s)&&h.jsx(MC,{spot:e,className:yo("z-0")}),u&&h.jsx(RC,{spot:e,className:yo("z-10")}),s&&h.jsx(fC,{spot:e,className:yo("z-20")}),c&&h.jsx(pC,{spot:e,className:yo("z-30")})]})}const HC=new WeakMap;function DC(e){if(!e)return()=>null;const t=HC.get(e);if(t)return t;const n=function({children:t}){return w.createPortal(t,e)};return HC.set(e,n),n}const IC=s.memo((function({children:e}){const t=Of(),[n,r]=s.useState([]),[o,i]=s.useState({});s.useEffect((()=>{if(!t)return;t.onReady((()=>{const e=DC(t.Canvas.getSpotsEl());i({Container:e})}));const e="canvas:spot",n=()=>{const e=t.Canvas.getSpots();r(e)};return t.on(e,n),()=>{t.off(e,n)}}),[t]);const{Container:a}=o;return t&&a?h.jsx(a,{children:e({spots:n})}):null})),VC=vo((function(){const{isCanvasPanning:e}=kS();return h.jsx(IC,{children:({spots:t})=>h.jsx(Hu,{show:!e,...di,children:t.map((e=>h.jsx(zC,{spot:e},e.id)))})})}));function BC({children:e}){const t=Of(),[n,r]=s.useState({enabled:!1,actions:[],Container:()=>null});s.useEffect((()=>{if(!t)return;const e=t.RichTextEditor,n=e.events.custom,o=t=>{const n=e.getAll().map((t=>({id:t.name,icon:t.icon,run:()=>e.run(t),state:t.currentState})));r({enabled:t.enabled,Container:DC(t.container),actions:n})};return t.on(n,o),()=>{t.off(n,o)}}),[t]);const{Container:o}=n;return t&&o?h.jsx(o,{children:e(n)}):null}function $C(){return h.jsx(BC,{children:({actions:e})=>h.jsx(Uo,{className:xo(ci.bg,mi.b,mi.rnd,ci.br,"gjs-m-2"),nowrap:!0,children:e.map(((e,t)=>h.jsx(ki,{border:!1,rounded:!1,active:1===e.state,disabled:-1===e.state,className:xo("w-6",ci.br,0!==t&&mi.bl),dangerouslySetInnerHTML:{__html:e.icon},onClick:e.run},e.id)))})})}const FC={maxWidth:"240px"},UC="gs-cmp-layer-item";function WC({component:e,draggingCmp:t,dragParent:n,...r}){const o=_f(),{Layers:i}=o,a=s.useRef(null),[l,c]=s.useState(!1),[u,d]=s.useState(i.getLayerData(e)),{open:p,selected:f,hovered:g,components:m,visible:v,locked:b,name:y}=u,x=m.map((e=>e.cid)),w=t===e,j=x.join("-"),S=r.level+1,C=g||n===e;s.useEffect((()=>{0===S&&d(i.getLayerData(e)),a.current&&(a.current.__cmp=e)}),[e]),s.useEffect((()=>{const t=t=>{t===e&&d(i.getLayerData(t))},n=i.events.component;return o.on(n,t),()=>{o.off(n,t)}}),[o,i,e]);const k=s.useMemo((()=>m.map((e=>h.jsx(WC,{component:e,level:S,draggingCmp:t,dragParent:n},e.cid)))),[j,t,n]),E=n=>{(!n||!t)&&i.setLayerData(e,{hovered:n})},_=Si(e),O=xo("layer-item",(f||_.isSymbol)&&_.bgSoftX,(!v||w)&&"opacity-50"),T=xo(fi.xyS,mi.b,C?_.border:mi.bT,f&&_.bgSoft);return h.jsx("div",{className:UC,children:h.jsxs(Uo,{col:!0,className:O,children:[h.jsx(Wo,{onClick:t=>{t.stopPropagation(),i.setLayerData(e,{selected:!0},{event:t})},onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),className:xo("group max-w-full"),"data-layer-item":!0,ref:a,children:h.jsxs(Uo,{items:"center",space:"xs",className:T,children:[h.jsx(Wo,{style:{marginLeft:10*S+"px"},className:xo("cursor-pointer",!m.length&&"pointer-events-none opacity-0"),onClick:t=>{t.stopPropagation(),i.setLayerData(e,{open:!p})},children:h.jsx(si,{icon:ii.menuDown,size:bi.sx,rotate:p?0:-90})}),h.jsx(Wo,{children:xd(e)}),h.jsx(Wo,{className:xo("truncate"),onDoubleClick:()=>c(!0),style:FC,grow:!0,children:l?h.jsx(KS,{value:y,onChange:t=>{i.setLayerData(e,{name:t}),c(!1)}}):h.jsx(h.Fragment,{children:y})}),!l&&h.jsxs(h.Fragment,{children:[h.jsx(Wo,{className:xo("group-hover:gs-utl-opacity-100 cursor-pointer",b?"opacity-100":"opacity-0"),onClick:t=>{t.stopPropagation(),i.setLayerData(e,{locked:!b})},children:h.jsx(si,{icon:b?ii.lock:ii.lockOpenVariant,size:bi.s3x})}),h.jsx(Wo,{className:xo("group-hover:gs-utl-opacity-100 cursor-pointer",v?"opacity-0":"opacity-100"),onClick:t=>{t.stopPropagation(),i.setLayerData(e,{visible:!v})},children:h.jsx(si,{icon:v?ii.eyeOutline:ii.eyeOffOutline,size:bi.sx})})]})]})}),!(!p||!m.length)&&h.jsx(Wo,{className:xo("max-w-full",!p&&"hidden"),children:k})]})})}const KC={touchAction:"none"};function qC({root:e,header:t}){const n=_f(),{Components:r}=n,[o,i]=s.useState(!1),[a,l]=s.useState({}),[c,u]=s.useState(),[d,p]=s.useState(),[f,g]=s.useState(),[m,v]=s.useState(),b=s.useRef(null),y=()=>{var e;null!=a&&a.result&&(null==(e=a.source)||e.move(a.target,{at:a.index})),l({}),i(!1),p(void 0),u(void 0),g(void 0),v(void 0)},x=(c?c.parents():[]).length,w=!(!(d&&m&&null!=a&&a.result)||m.pointerInside),j=w?{top:m.y,left:0,marginLeft:10*x+20}:{};s.useEffect((()=>{const e=window.document,t=e=>{"Escape"===e.key&&(l({...a,result:!1}),y())};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}),[]);const S=t&&(null==t?void 0:t.label)||"Layers";return h.jsxs(Uo,{col:!0,full:!0,nowrap:!0,className:xo("gs-layer-manager flex-grow overflow-hidden"),children:[h.jsx(Wo,{children:h.jsxs(Uo,{space:"s",items:"center",className:xo([fi.xy,mi.bb,ci.br]),children:[h.jsx(Wo,{children:h.jsx(si,{icon:ii.layers,size:bi.s})}),h.jsx(Wo,{grow:!0,children:S})]})}),h.jsxs(Wo,{className:xo("overflow-y-auto overflow-x-hidden text-sm select-none relative"),style:KC,onPointerDown:()=>{i(!0)},onPointerMove:e=>{if(!o)return;const{cmp:t,el:n}=(e=>{const t=document.elementFromPoint(e.clientX,e.clientY),n=null==t?void 0:t.closest("[data-layer-item]");return{el:n,cmp:null==n?void 0:n.__cmp}})(e);if(!n||!t)return;const i=n.getBoundingClientRect(),a=n.offsetHeight,s=n.offsetTop,c=e.clientY,f=c<i.y+a/2,h=d||t,m=t.parent(),b=t.index()+(f?0:1);!d&&p(t),u(t);const y=r.canMove(m,h,b),x=r.canMove(t,h),w={...y,canMoveInside:x,index:b};let j=!1;x.result&&c>i.y+5&&c<i.y+a-5&&(j=!0,w.target=t,delete w.index),g(j?t:void 0),l(w),v({pointerInside:j,y:s+(f?0:a),h:a})},onPointerUp:y,grow:!0,children:[!!e&&h.jsx(WC,{component:e,level:-1,draggingCmp:d,dragParent:f}),w&&h.jsx("div",{ref:b,className:xo("absolute w-full gs-utl-h-0.5",ci.cmp),style:j})]})]})}const GC=s.forwardRef((function({children:e,className:t,...n},r){return h.jsx("div",{className:ni(yo("gs-layer-manager-after"),t),ref:r,...n,children:e})})),YC=s.forwardRef((function({children:e,className:t,...n},r){return h.jsx("div",{className:ni(yo("gs-layer-manager-before"),t),ref:r,...n,children:e})}));var ZC=globalThis&&globalThis.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),XC=globalThis&&globalThis.__assign||function(){return XC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},XC.apply(this,arguments)},QC={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},JC={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},ek={width:"20px",height:"20px",position:"absolute"},tk={top:XC(XC({},QC),{top:"-5px"}),right:XC(XC({},JC),{left:void 0,right:"-5px"}),bottom:XC(XC({},QC),{top:void 0,bottom:"-5px"}),left:XC(XC({},JC),{left:"-5px"}),topRight:XC(XC({},ek),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:XC(XC({},ek),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:XC(XC({},ek),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:XC(XC({},ek),{left:"-10px",top:"-10px",cursor:"nw-resize"})},nk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return ZC(t,e),t.prototype.render=function(){return s.createElement("div",{className:this.props.className||"",style:XC(XC({position:"absolute",userSelect:"none"},tk[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(s.PureComponent),rk=globalThis&&globalThis.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ok=globalThis&&globalThis.__assign||function(){return ok=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ok.apply(this,arguments)},ik={width:"auto",height:"auto"},ak=function(e,t,n){return Math.max(Math.min(e,n),t)},sk=function(e,t,n){var r=Math.round(e/t);return r*t+n*(r-1)},lk=function(e,t){return new RegExp(e,"i").test(t)},ck=function(e){return!(!e.touches||!e.touches.length)},uk=function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,o){return Math.abs(r-e)<Math.abs(t[n]-e)?o:n}),0),o=Math.abs(t[r]-e);return 0===n||o<n?t[r]:e},dk=function(e){return"auto"===(e=e.toString())||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},pk=function(e,t,n,r){if(e&&"string"==typeof e){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%"))return t*(Number(e.replace("%",""))/100);if(e.endsWith("vw"))return n*(Number(e.replace("vw",""))/100);if(e.endsWith("vh"))return r*(Number(e.replace("vh",""))/100)}return e},fk=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],hk="__resizable_base__",gk=function(e){function t(t){var n,r,o,i,a=e.call(this,t)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.appendBase=function(){if(!a.resizable||!a.window)return null;var e=a.parentNode;if(!e)return null;var t=a.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(hk):t.className+=hk,e.appendChild(t),t},a.removeBase=function(e){var t=a.parentNode;t&&t.removeChild(e)},a.state={isResizing:!1,width:null!==(r=null===(n=a.propsSize)||void 0===n?void 0:n.width)&&void 0!==r?r:"auto",height:null!==(i=null===(o=a.propsSize)||void 0===o?void 0:o.height)&&void 0!==i?i:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return rk(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||ik},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=o}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){var n;if(typeof e.state[t]>"u"||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&null!==(n=e.propsSize[t])&&void 0!==n&&n.toString().endsWith("%")){if(e.state[t].toString().endsWith("%"))return e.state[t].toString();var r=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/r[t]*100+"%"}return dk(e.state[t])};return{width:t&&typeof t.width<"u"&&!this.state.isResizing?dk(t.width):n("width"),height:t&&typeof t.height<"u"&&!this.state.isResizing?dk(t.height):n("height")}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var r={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),r},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"===this.state[t]&&this.state.original[t]===e&&(typeof n>"u"||"auto"===n)?"auto":e},t.prototype.calculateNewMaxFromBoundary=function(e,t){var n,r,o=this.props.boundsByDirection,i=this.state.direction,a=o&&lk("left",i),s=o&&lk("top",i);if("parent"===this.props.bounds){var l=this.parentNode;l&&(n=a?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),r=s?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(n=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,r=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(e=e&&e<n?e:n),r&&Number.isFinite(r)&&(t=t&&t<r?t:r),{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=function(e){return Array.isArray(e)?e:[e,e]}(this.props.resizeRatio||1),o=r[0],i=r[1],a=this.state,s=a.direction,l=a.original,c=this.props,u=c.lockAspectRatio,d=c.lockAspectRatioExtraHeight,p=c.lockAspectRatioExtraWidth,f=l.width,h=l.height,g=d||0,m=p||0;return lk("right",s)&&(f=l.width+(e-l.x)*o/n,u&&(h=(f-m)/this.ratio+g)),lk("left",s)&&(f=l.width-(e-l.x)*o/n,u&&(h=(f-m)/this.ratio+g)),lk("bottom",s)&&(h=l.height+(t-l.y)*i/n,u&&(f=(h-g)*this.ratio+m)),lk("top",s)&&(h=l.height-(t-l.y)*i/n,u&&(f=(h-g)*this.ratio+m)),{newWidth:f,newHeight:h}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var o=this.props,i=o.lockAspectRatio,a=o.lockAspectRatioExtraHeight,s=o.lockAspectRatioExtraWidth,l=typeof r.width>"u"?10:r.width,c=typeof n.width>"u"||n.width<0?e:n.width,u=typeof r.height>"u"?10:r.height,d=typeof n.height>"u"||n.height<0?t:n.height,p=a||0,f=s||0;if(i){var h=(u-p)*this.ratio+f,g=(d-p)*this.ratio+f,m=(l-f)/this.ratio+p,v=(c-f)/this.ratio+p,b=Math.max(l,h),y=Math.min(c,g),x=Math.max(u,m),w=Math.min(d,v);e=ak(e,b,y),t=ak(t,x,w)}else e=ak(e,l,c),t=ak(t,u,d);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){var e=1/(this.props.scale||1);if("parent"===this.props.bounds){var t=this.parentNode;if(t){var n=t.getBoundingClientRect();this.parentLeft=n.left*e,this.parentTop=n.top*e}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var r=this.props.bounds.getBoundingClientRect();this.targetLeft=r.left*e,this.targetTop=r.top*e}if(this.resizable){var o=this.resizable.getBoundingClientRect(),i=o.left,a=o.top,s=o.right,l=o.bottom;this.resizableLeft=i*e,this.resizableRight=s*e,this.resizableTop=a*e,this.resizableBottom=l*e}},t.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n=0,r=0;if(e.nativeEvent&&function(e){return!(!e.clientX&&0!==e.clientX||!e.clientY&&0!==e.clientY)}(e.nativeEvent)?(n=e.nativeEvent.clientX,r=e.nativeEvent.clientY):e.nativeEvent&&ck(e.nativeEvent)&&(n=e.nativeEvent.touches[0].clientX,r=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable)if(!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var o,i=this.window.getComputedStyle(this.resizable);if("auto"!==i.flexBasis){var a=this.parentNode;if(a){var s=this.window.getComputedStyle(a).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",o=i.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var l={original:{x:n,y:r,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:ok(ok({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:o};this.setState(l)}},t.prototype.onMouseMove=function(e){var t=this;if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&ck(e))try{e.preventDefault(),e.stopPropagation()}catch{}var n=this.props,r=n.maxWidth,o=n.maxHeight,i=n.minWidth,a=n.minHeight,s=ck(e)?e.touches[0].clientX:e.clientX,l=ck(e)?e.touches[0].clientY:e.clientY,c=this.state,u=c.direction,d=c.original,p=c.width,f=c.height,h=this.getParentSize(),g=function(e,t,n,r,o,i,a){return r=pk(r,e.width,t,n),o=pk(o,e.height,t,n),i=pk(i,e.width,t,n),a=pk(a,e.height,t,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof o>"u"?void 0:Number(o),minWidth:typeof i>"u"?void 0:Number(i),minHeight:typeof a>"u"?void 0:Number(a)}}(h,this.window.innerWidth,this.window.innerHeight,r,o,i,a);r=g.maxWidth,o=g.maxHeight,i=g.minWidth,a=g.minHeight;var m=this.calculateNewSizeFromDirection(s,l),v=m.newHeight,b=m.newWidth,y=this.calculateNewMaxFromBoundary(r,o);this.props.snap&&this.props.snap.x&&(b=uk(b,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(v=uk(v,this.props.snap.y,this.props.snapGap));var w=this.calculateNewSizeFromAspectRatio(b,v,{width:y.maxWidth,height:y.maxHeight},{width:i,height:a});if(b=w.newWidth,v=w.newHeight,this.props.grid){var j=sk(b,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),S=sk(v,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),C=this.props.snapGap||0;b=0===C||Math.abs(j-b)<=C?j:b,v=0===C||Math.abs(S-v)<=C?S:v}var k={width:b-d.width,height:v-d.height};if(p&&"string"==typeof p)if(p.endsWith("%"))b=b/h.width*100+"%";else if(p.endsWith("vw")){b=b/this.window.innerWidth*100+"vw"}else if(p.endsWith("vh")){b=b/this.window.innerHeight*100+"vh"}if(f&&"string"==typeof f)if(f.endsWith("%"))v=v/h.height*100+"%";else if(f.endsWith("vw")){v=v/this.window.innerWidth*100+"vw"}else if(f.endsWith("vh")){v=v/this.window.innerHeight*100+"vh"}var E={width:this.createSizeForCssProperty(b,"width"),height:this.createSizeForCssProperty(v,"height")};"row"===this.flexDir?E.flexBasis=E.width:"column"===this.flexDir&&(E.flexBasis=E.height);var _=this.state.width!==E.width,O=this.state.height!==E.height,T=this.state.flexBasis!==E.flexBasis,P=_||O||T;P&&x.flushSync((function(){t.setState(E)})),this.props.onResize&&P&&this.props.onResize(e,u,this.resizable,k)}},t.prototype.onMouseUp=function(e){var t,n,r=this.state,o=r.isResizing,i=r.direction,a=r.original;if(o&&this.resizable){var s={width:this.size.width-a.width,height:this.size.height-a.height};this.props.onResizeStop&&this.props.onResizeStop(e,i,this.resizable,s),this.props.size&&this.setState({width:null!==(t=this.props.size.width)&&void 0!==t?t:"auto",height:null!==(n=this.props.size.height)&&void 0!==n?n:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:ok(ok({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(e){var t,n;this.setState({width:null!==(t=e.width)&&void 0!==t?t:"auto",height:null!==(n=e.height)&&void 0!==n?n:"auto"})},t.prototype.renderResizer=function(e){var t=this,n=this.props,r=n.enable,o=n.handleStyles,i=n.handleClasses,a=n.handleWrapperStyle,l=n.handleWrapperClass,c=n.handleComponent;if(!r)return null;var u=e.filter((function(e){return!1!==r[e]})).map((function(e){return!1!==r[e]?s.createElement(nk,{key:e,direction:e,onResizeStart:t.onResizeStart,replaceStyles:o&&o[e],className:i&&i[e]},c&&c[e]?c[e]:null):null}));return s.createElement("div",{className:l,style:a},u)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==fk.indexOf(n)||(t[n]=e.props[n]),t}),{}),n=ok(ok(ok({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var r=this.props.as||"div";return s.createElement(r,ok({style:n,className:this.props.className},t,{ref:function(t){t&&(e.resizable=t)}}),this.state.isResizing&&s.createElement("div",{style:this.state.backgroundStyle}),this.renderResizer(["topLeft","top","topRight","left"]),this.props.children,this.renderResizer(["right","bottomLeft","bottom","bottomRight"]))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(s.PureComponent);function mk({className:e,children:t,top:n,bottom:r,right:o,left:i,width:a,height:s,minHeight:l,minWidth:c,maxHeight:u,maxWidth:d,style:p,onResize:f,onResizeStop:g}){const m={top:n||!1,right:o||!1,bottom:r||!1,left:i||!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},v={width:a||"auto",height:s||"auto"},b=xo("z-10",ci.hBgAct),y={bottom:b,right:b,left:b};return h.jsx(gk,{className:xo(e),enable:m,defaultSize:v,handleStyles:{bottom:{bottom:0,height:2},right:{right:-1,width:2},left:{left:-1,width:2}},handleClasses:y,onResize:f,onResizeStop:g,minHeight:l,minWidth:c,maxHeight:u,maxWidth:d,style:p,children:t})}const vk="gs-page-item",bk={position:{x:"right",y:"top-bottom"},offset:{y:0}},yk=vo((function({page:e,rename:t,setRename:n,commandItems:r}){const o=kS(),i=md(),a=o.editor,{Pages:s}=a,{sdkPagesConfig:l}=o,c=null==l?void 0:l.settings,u=e=>s.getSelected()===e,d=e=>e.getName()||e.getId(),p=yo("group-hover:gs-utl-opacity-100 opacity-0 cursor-pointer transition-opacity");return h.jsxs(Uo,{space:"s",items:"center",onClick:()=>{return t=e,s.select(t);var t},className:yo([vk,"group cursor-default",fi.xy,u(e)&&ci.bgH,!u(e)&&ci.hBgH2]),children:[h.jsx(Wo,{className:yo(`${vk}__name truncate`),grow:!0,children:(f=e,f===t?h.jsx(KS,{value:d(e),onChange:e=>{null==t||t.set({name:e}),n(void 0)}}):h.jsx(h.Fragment,{children:d(e)}))}),h.jsxs(Uo,{className:`${vk}__actions`,space:"xs",onClick:Eo,items:"center",children:[!t&&!1!==c&&h.jsx(Uu,{className:p,size:"xs",border:!1,title:(e=>i.t(`pageManager.${e}`))("settings.label"),onClick:()=>a.runCommand(Yu.setPageSettings,{page:e,isOpen:!0}),block:!0,children:h.jsx(si,{icon:ii.cog,size:bi.s3x})}),u(e)&&!!r.length&&h.jsx(pg,{pos:bk,handler:h.jsx(si,{icon:ii.dotsVertical,size:bi.s}),title:!1,padding:!1,fixed:!0,overlay:!0,children:({close:t})=>r.map((n=>h.jsx(LS,{label:n.label,action:()=>{var r;t(),null==(r=n.cmd)||r.call(n,{page:e,editor:a})}},n.id)))})]})]},e.getId());var f})),xk="gs-panel-page-manager",wk=vo((function({pages:e,select:t,add:n,remove:r,header:o,height:i=200}){console.log("add page");const a=kS(),l=sd(),c=md(),{sdkPagesConfig:u}=a,d=a.editor,[p,f]=s.useState(),g=e=>c.t(`pageManager.${e}`),m=null==u?void 0:u.add,v=null==u?void 0:u.duplicate,b=null==u?void 0:u.remove,y=(({items:e,editor:t,sdkPageConfig:n})=>{const r=null==n?void 0:n.commandItems;return!1===r?[]:Do(r)?r({items:e,editor:t}):r||e})({items:[{id:"rename",label:g("rename"),cmd:({page:e})=>f(e)},console.log("page duplicate"),!1!==v&&{id:"duplicate",label:g("duplicate"),cmd:({page:e})=>{if(v)return v({editor:d,page:e,rename:f});const t=e.getMainComponent(),r=n({name:`${e.getName()} (${g("copy")})`,component:t.clone()},{select:!0});r&&f(r)}},e.length>1&&!1!==b&&{id:"remove",label:g("delete"),cmd:({page:n})=>{if(b)return b({editor:d,page:n});l.confirm({title:g("deletePage"),content:g("confirmDelete"),confirmButton:{variant:"danger",children:g("deletePage")},onConfirm:()=>{const o=e.indexOf(n),i=e[o+1]||e[0];t(i),r(n)}})}}].filter(Boolean),editor:d,sdkPageConfig:u}),x=o&&(null==o?void 0:o.label)||g("pages");return console.log("add page button +"),h.jsx(rh,{classNameWrap:xk,className:xo(`${xk}__header`,fi.xy,!1===o&&"gs-utl-hidden"),disabled:o&&!1===o.collapsible,handler:h.jsxs(Uo,{space:"s",items:"center",children:[h.jsx(Wo,{children:h.jsx(si,{icon:ii.textBoxMultiple,size:bi.s})}),h.jsx(Wo,{grow:!0,children:x}),!1!==m&&h.jsx(Fu,{title:g("add"),children:h.jsx(Uo,{onClick:t=>{if(Eo(t),m)return m({editor:d,rename:f});const r=e.length+1,o=n({name:`${g("page")} ${r}`,component:`<div>${g("newPage")} ${r}</div>`},{select:!0});o&&f(o)},className:xo("cursor-pointer"),children:h.jsx(si,{icon:ii.plus,size:bi.s})})})]}),open:!o||!0!==o.collapsed,children:h.jsx(mk,{className:xo([`${xk}__content`,"text-sm overflow-auto",mi.bt,ci.br]),height:i,bottom:!0,children:e.map((e=>h.jsx(yk,{page:e,commandItems:y,rename:p,setRename:f},e.getId())))})})})),jk=s.forwardRef((function({children:e,className:t,...n},r){return h.jsx("div",{className:ni(yo("gs-page-manager-after"),t),ref:r,...n,children:e})})),Sk=s.forwardRef((function({children:e,className:t,...n},r){return h.jsx("div",{className:ni(yo("gs-page-manager-before"),t),ref:r,...n,children:e})})),Ck=vo((function(e){const{leftSidebarSize:t,setLeftSidebarSize:n,editor:r,isInPreview:o,isLeftSidebarOpen:i,sdkProps:a,showPages:l}=kS(),c=a.children,u=e.width,d=u??t,p=s.useMemo((()=>({marginLeft:o||!i?`-${d}px`:0})),[d,o,i]),f=!1!==e.resizable;return console.log("side bar layout"),h.jsx(mk,{className:ni(xo(["h-full transition-spacing",mi.br,ci.br]),e.className),right:f,style:p,height:"100%",width:d,minWidth:u??150,maxWidth:u??500,onResize:()=>{null==r||r.refresh()},onResizeStop:(e,t,r)=>{n(r.getBoundingClientRect().width)},children:e.children??h.jsxs(Uo,{full:!0,col:!0,children:[l&&h.jsx(Wo,{className:xo(["w-full",mi.bb,ci.br]),children:h.jsx(Yf,{children:e=>h.jsxs(h.Fragment,{children:[$o(c,Sk),h.jsx(wk,{...e}),$o(c,jk)]})})}),h.jsx(Wo,{className:xo(["w-full overflow-hidden flex flex-col"]),grow:!0,children:h.jsx(qf,{children:e=>h.jsxs(h.Fragment,{children:[$o(c,YC),h.jsx(qC,{...e}),$o(c,GC)]})})})]})})})),kk=l.forwardRef((function({size:e="m",className:t,border:n=!0,children:r,...o},i){const a=yo(ci.bg,ci.br,n&&`${mi.b} ${mi.rnd}`,"m"===e&&fi.xy,"s"===e&&"gjs-px-3 gjs-py-1",t);return h.jsx(Uo,{className:a,items:"center",space:"x2s",...o,ref:i,children:h.jsx(Wo,{grow:!0,children:r})})}));function Ek({className:e,options:t,value:n,name:r,label:o,border:i,hideCaret:a,size:l="s",autoFocus:c,open:u,allowNew:d,onChange:p,onBlur:f,placeholder:g}){const[m,v]=s.useState(null),[b,y]=s.useState(null),{styles:x,attributes:w}=Ym(m,b,ev),[j,S]=s.useState(""),C=ag(),k=""===j?t:t.filter((e=>e.label.toLowerCase().includes(j.toLowerCase()))),E=d&&j.length>0&&!k.some((e=>e.label===j)),_=Do(d)?d(j):d,O={minWidth:`${null==m?void 0:m.offsetWidth}px`,maxHeight:200};return h.jsxs("div",{className:xo("w-full",e),children:[!!o&&h.jsx($p,{size:l,children:o}),h.jsxs(Ss,{value:n,onChange:p,name:r,nullable:!0,children:[h.jsx(kk,{size:l,ref:v,border:i,children:h.jsxs(Uo,{nowrap:!0,children:[h.jsx(Ss.Input,{autoFocus:c,className:C,displayValue:e=>null==e?void 0:e.label,onChange:e=>S(e.target.value),onBlur:()=>null==f?void 0:f(),placeholder:g}),!a&&h.jsx(Ss.Button,{children:h.jsx(si,{icon:ii.chevronDown,size:bi.sx})})]})}),h.jsx(Ss.Options,{static:u,className:Jm,ref:y,style:x.popper,...w.popper,children:h.jsxs(Vu,{className:xo("h-full"),padding:!1,style:O,children:[E&&h.jsx(Ss.Option,{value:{id:null,label:j},children:({active:e})=>h.jsx(tv,{option:{id:null,label:_},active:e,selected:n})}),!E&&0===k.length&&h.jsx("div",{className:xo(fi.xy),children:"No items found"}),k.map((e=>h.jsx(Ss.Option,{value:e,children:({active:t})=>h.jsx(tv,{option:e,active:t,selected:n})},e.id)))]})})]})]})}function _k(e){return e=(e=(e=(e=(e=(e=e.replace(/\s*([\{\}\:\;\,])\s*/g,"$1")).replace(/;\s*;/g,";")).replace(/\,[\s\.\#\d]*{/g,"{")).replace(/([^\s])\{([^\s])/g,"$1 {\n\t$2")).replace(/([^\s])\}([^\n]*)/g,"$1\n}\n$2")).replace(/([^\s]);([^\s\}])/g,"$1;\n\t$2")}const Ok=vo((function(){const e=_f(),t=md(),{Styles:n}=e,{isDarkTheme:r}=hd(),o=n.getSelected(),[i,a]=s.useState(0),l=o?_k(null==o?void 0:o.toCSS({allowEmpty:!0})):"",[c,u]=s.useState(l);s.useEffect((()=>{const t=()=>a((e=>++e)),r=n.events.custom;return e.on(r,t),()=>{e.off(r,t)}}),[n,e]);return h.jsxs(Uo,{className:xo("relative"),col:!0,full:!0,children:[h.jsx(Wo,{grow:!0,children:o?h.jsx(Kp,{padding:5,language:"css",value:l,onChange:u,isDarkTheme:r,clean:!0},i):t.t("noCode")}),h.jsx(ki,{className:xo("absolute right-2 bottom-2 text-sm"),variant:"pr",size:"m2",onClick:()=>{if(c){const t=e.Parser.parseCss(c)[0];t&&(null==o||o.setStyle(t.style))}},children:t.t("update")})]})})),Tk=vo((function({rule:e,onSelect:t,onRemove:n,className:r}){const o=s.useRef(null),i=kS().editor,a=md(),l=e.getDevice(),c=e.getState(),{isDarkTheme:u}=hd(),[d,p]=s.useState(e.toCSS({allowEmpty:!0})),[f,g]=s.useState(d),m=e.selectorsToString();return s.useEffect((()=>{if(o.current){(async({html:e="",css:t="",el:n})=>{const r=`<span style="color: initial; display: inline-block;"><style> body { margin: 0; } ${t}</style>${e}</span>`;document.body.attachShadow&&((n.shadowRoot||n.attachShadow({mode:"open"})).innerHTML=r)})({el:o.current,html:'<div class="prv-rule">Preview</div>',css:`\n        .prv-rule {\n          background-color: #fff;\n          padding: 5px;\n        }\n        .prv-rule, ${d}\n        `})}}),[o,d]),h.jsx(Vu,{padding:!1,className:yo("overflow-hidden max-w-full group",r),children:h.jsxs(Uo,{col:!0,space:"xs",children:[h.jsx(Uo,{className:yo("bg-checker gjs-p-3 overflow-auto overflow-x-hidden h-20"),justify:"center",items:"center",children:h.jsx("div",{ref:o,className:yo("relative flex items-center justify-center")})}),h.jsxs(Uo,{className:yo("gjs-p-1 w-full"),col:!0,space:"s",children:[h.jsxs(Uo,{nowrap:!0,items:"center",space:"xs",full:!0,children:[h.jsx(Wo,{grow:!0,children:h.jsx("pre",{className:yo("text-xs bg-white/10",ci.txt,mi.rnd,fi.xyS),children:m})}),!!l&&l.getWidthMedia()&&h.jsx(Wo,{children:h.jsx(Fu,{title:h.jsxs(h.Fragment,{children:[a.t("deviceManager.device"),": ",h.jsx("b",{children:l.getName()})]}),children:h.jsx(si,{icon:ii.cellphoneLink,size:bi.sx})})}),!!c&&h.jsx(Wo,{children:h.jsx(Fu,{title:h.jsxs(h.Fragment,{children:[a.t("selectorManager.state"),": ",h.jsx("b",{children:c.getLabel()})]}),children:h.jsx(si,{icon:ii.flare,size:bi.sx})})})]}),h.jsxs(Uo,{nowrap:!0,className:yo(yi.txtEllips),space:"s",children:[h.jsx(Wo,{className:yo("group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),grow:!0,children:h.jsx(ki,{onClick:()=>{i.select(),setTimeout((()=>i.Selectors.select(e))),null==t||t()},className:yo("text-sm gjs-mr-auto"),size:"m2",full:!0,children:a.t("select")})}),h.jsx(pg,{overlay:!0,title:!1,padding:!1,buttonAs:"span",handler:h.jsx(Uu,{title:a.t("selectorManager.showCSS"),children:h.jsx(si,{icon:ii.codeBraces,size:bi.sx})}),children:({close:t})=>h.jsxs(Uo,{className:yo("relative w-80 h-48"),col:!0,children:[h.jsx(Wo,{grow:!0,children:h.jsx(Kp,{value:_k(d),onChange:g,language:"css",padding:5,isDarkTheme:u,clean:!0})}),h.jsx(ki,{className:yo("absolute right-2 bottom-2 text-sm"),variant:"pr",size:"m2",onClick:()=>{(()=>{if(f){const t=i.Parser.parseCss(f)[0];t&&(e.setStyle(t.style),p(f))}})(),t()},children:a.t("update")})]})}),h.jsx(uS,{onConfirm:()=>{i.Css.remove(e),null==n||n()},className:yo("w-48"),children:h.jsx(Uu,{title:a.t("selectorManager.deleteStyle"),children:h.jsx(si,{icon:ii.delete,size:bi.sx})})})]})]})]},e.cid)})})),Pk=vo((function(){const[e]=OS(),t=sd(),n=md(),[r,o]=s.useState(""),[i,a]=s.useState(""),l=kS().editor,[c,u]=s.useState(l.Css.getRules("")),d=l.Devices.getDevices().map((e=>({id:e.id,label:e.getName()}))),p=c.filter((e=>{var t;return!(r&&!Bo(e.selectorsToString(),r)||i&&(null==(t=e.getDevice())?void 0:t.id)!==i)})),f=()=>u(l.Css.getRules(""));return h.jsxs(Uo,{col:!0,space:"m",children:[h.jsxs(Uo,{items:"center",space:"m",children:[h.jsx(Wo,{children:h.jsx(sg,{size:"s",type:"search",value:r,onInput:o,placeholder:`${n.t("selectorManager.searchStyle")}...`})}),h.jsx(Wo,{children:h.jsx(nv,{includeEmpty:!0,size:"s",value:i,options:d,onChange:a,emptyState:n.t("deviceManager.allDevices"),handlerSelected:e=>h.jsxs(Uo,{space:"s",items:"center",children:[h.jsx(si,{icon:ii.cellphoneLink,size:bi.sx}),h.jsx("span",{children:e.label})]})})})]}),h.jsx(Wo,{className:yo("gs-utl-h-[75vh] w-full overflow-auto"),children:p.length?h.jsx(sS,{data:p,listClassName:yo("grid grid-cols-4 gap-2 gjs-pr-2"),itemContent:(e,n)=>h.jsx(Tk,{rule:n,onRemove:f,onSelect:t.close},n.cid)},e):h.jsx(Uo,{justify:"center",children:n.t("modals.styleCatalog.noStyles")})})]})})),Nk=vo((function({selector:e,className:t,removable:n,toggleable:r}){const o=md(),i=kS(),[a,l]=s.useState(),[c,u]=s.useState(e.getActive()),d=i.editor,{Selectors:p}=d,f=e.getLabel(),g=h.jsx(si,{icon:ii.dotsVertical,size:bi.sx}),m=[{id:"rename",label:o.t("rename"),action:()=>l(e)},{id:"duplicate",label:o.t("duplicate"),action:()=>{p.duplicateSelected(e)}},n&&{id:"delete",label:o.t("delete"),action:()=>{p.removeSelected(e)}},r&&{id:"active",label:o.t(c?"disable":"enable"),action:()=>{const t=!e.getActive();u(t),e.setActive(t)}}].filter(Boolean),v=(e,t)=>()=>{e(),Do(t)&&t()};return h.jsx(cS,{className:yo(["gjs-ml-1 gjs-my-1 group overflow-hidden cursor-default relative",ci.sel,t]),s:"s",children:h.jsxs(Uo,{items:"center",children:[h.jsx(Wo,{className:yo("gjs-mr-4",!a&&!c&&"opacity-50 line-through"),children:h.jsx(qS,{value:f,onChange:e=>{a&&p.rename(a,e),l(void 0)},active:!!a,unstyled:!0})}),h.jsx(Uo,{className:yo("absolute h-full right-0 transition-opacity",ci.sel,ci.selBr,mi.bl),children:h.jsx(pg,{handler:g,title:!1,padding:!1,fixed:!0,overlay:!0,children:({close:e})=>m.map((t=>h.jsx(LS,{className:yo(ci.txt),label:t.label,action:v(e,t.action)},t.id)))})})]})})})),Lk=vo((function({selectedState:e,states:t,addSelector:n,setState:r}){var o,i,a;const l=_f(),c=md(),u=sd(),{toggleCssPanel:d,isCssPanelActive:p}=kS(),{Selectors:f,Styles:g}=l,[m,v]=s.useState(!1),b=f.getComponentFirst(),y=f.getSelectedAll(),x=f.getAll({array:!0}),w=l.getSelectedAll(),j=t.map((e=>({id:e.getName(),label:e.getLabel()}))),S=l.getModel(),C=g.getSelected(),k=null==(o=null==C?void 0:C.getDevice)?void 0:o.call(C),E=null==(i=null==C?void 0:C.getState)?void 0:i.call(C),_=y.reduce(((e,t)=>{const n=e.indexOf(t);return n>=0&&e.splice(n,1),e}),x),O=xo("overflow-hidden gjs-mb-2",mi.b,mi.rnd,ci.br),T=xo(ci.bA),P=xo("flex h-full cursor-pointer gjs-p-2",mi.br,ci.br),N=`${ci.bgA}`,L=(e=>{var t,n;let r=null==(t=null==e?void 0:e.selectorsToString)?void 0:t.call(e);const o=null==(n=null==e?void 0:e.getAtRule)?void 0:n.call(e);return r&&o&&(r=`${o} {\n\t${r}\n}`),r})(C),M=y.length>0,R=w.length>0,A=M||R,z=b&&R||!b&&!M,H=z?"Components":"Selectors",D=e=>c.t(`selectorManager.${e}`),I=c.t("modals.styleCatalog.title"),V=_.filter((e=>e.isClass())).map((e=>({id:e,label:e.getLabel()})));return h.jsxs(h.Fragment,{children:[h.jsxs(Uo,{items:"center",className:xo("gjs-mb-2"),children:[h.jsx(Wo,{grow:!0,children:h.jsxs(Uo,{items:"center",space:"s",children:[h.jsx(Wo,{children:D("selection")}),h.jsx(Wo,{children:h.jsx(Fu,{className:xo("cursor-pointer"),onClick:()=>u.open({title:I,content:h.jsx(Pk,{})}),title:I,children:h.jsx(si,{icon:ii.paletteSwatch,size:bi.s})})})]})}),!!C&&h.jsx(Wo,{children:h.jsx(nv,{size:"s",value:e,options:j,includeEmpty:!0,onChange:r,emptyState:`- ${D("state")} -`,className:xo([e&&ci.bA])})})]}),A?h.jsxs(h.Fragment,{children:[h.jsxs(Uo,{items:"stretch",space:"xs",className:xo(O,!z&&T),children:[h.jsx(Fu,{title:D(M?"applyOnSelector":"noSelectors"),className:xo(P,!z&&N),onClick:()=>M&&f.setComponentFirst(!1),children:h.jsx(Uo,{className:xo("h-full"),items:"center",children:h.jsx(si,{icon:ii.tag,size:bi.sx})})}),h.jsx(Wo,{grow:!0,children:h.jsx(Uo,{className:xo("h-full gjs-pr-1"),items:"center",children:m?h.jsx(Ek,{autoFocus:!0,open:!0,hideCaret:!0,border:!1,options:V,allowNew:D("addNewSelector"),onBlur:()=>setTimeout((()=>v(!1)),100),onChange:e=>{e&&(n(e.id||e.label),v(!1))}}):h.jsxs(h.Fragment,{children:[R&&h.jsx(Fu,{title:D("addNewSelector"),children:h.jsx(ki,{variant:"out",size:"s",onClick:()=>v(!0),children:h.jsx(si,{icon:ii.plus,size:bi.s})})}),y.map((e=>h.jsx(Nk,{selector:e,removable:R,toggleable:R&&y.filter((t=>t.getActive()||t===e)).length>1},e.toString())))]})})})]}),h.jsxs(Uo,{items:"stretch",space:"xs",className:xo(O,z&&T),children:[h.jsx(Fu,{title:D(R?"applyOnComponents":"noComponents"),onClick:()=>R&&f.setComponentFirst(!0),className:xo(P,z&&N),children:h.jsx(Uo,{className:xo("h-full"),items:"center",children:h.jsx(si,{icon:ii.targetVariant,size:bi.sx})})}),h.jsx(Wo,{grow:!0,className:xo("gjs-py-0.5"),children:h.jsx(Uo,{className:xo("h-full gjs-pr-1"),items:"center",children:w.map((e=>h.jsx(cS,{s:"s",className:xo(["gjs-ml-1 gjs-my-0.5 cursor-default",ci.cmp]),onPointerEnter:()=>S.setHovered(e),onPointerOut:()=>S.setHovered(),label:e.getName()},e.getId())))})})]}),h.jsxs(Uo,{space:"s",items:"center",justify:"between",children:[h.jsx(Fu,{title:h.jsxs(h.Fragment,{children:[h.jsx("div",{children:D("selected")}),h.jsx("pre",{className:xo("text-xs gjs-mt-1 bg-white/10",ci.txt,mi.rnd,fi.xyS),children:L}),h.jsx("div",{className:xo("text-xs gjs-mt-1.5"),children:D("currentSelection")})]}),children:h.jsx(cS,{className:xo(mi.b,mi.rnd,ci.br),s:"xs",nopad:!0,children:h.jsx(si,{icon:ii.target,size:bi.sx})})}),h.jsx(Wo,{className:xo("text-sm"),children:h.jsx(cS,{className:xo(mi.b,mi.rnd,ci.br),s:"xs",nopad:!0,children:h.jsxs(Uo,{space:"xs",items:"center",nowrap:!0,children:[!!k&&k.getWidthMedia()&&h.jsxs(h.Fragment,{children:[h.jsx(Fu,{title:h.jsxs(h.Fragment,{children:[D("device"),": ",h.jsx("b",{children:k.getName()})]}),children:h.jsx(si,{icon:ii.cellphoneLink,size:bi.sx})}),h.jsx(Wo,{className:xo("opacity-30"),children:"|"})]}),h.jsx(Fu,{title:h.jsxs(h.Fragment,{children:[D("target"),": ",h.jsx("b",{children:H}),h.jsxs("span",{className:xo("text-xs opacity-75"),children:[" ",null==(a=null==C?void 0:C.selectorsToString)?void 0:a.call(C,{skipState:1})]})]}),children:h.jsx(si,{icon:z?ii.targetVariant:ii.tag,size:bi.sx})}),!!E&&h.jsxs(h.Fragment,{children:[h.jsx(Wo,{className:xo("opacity-30"),children:"|"}),h.jsx(Fu,{title:h.jsxs(h.Fragment,{children:[D("state"),": ",h.jsx("b",{children:E.getLabel()})]}),children:h.jsx(si,{icon:ii.flare,size:bi.sx})})]})]})})}),h.jsx(Uu,{title:c.t("toggleCss"),onClick:d,active:p,size:"s",children:h.jsx(si,{icon:ii.codeBraces,size:bi.sx})})]})]}):h.jsxs(Uo,{className:xo("text-sm leading-6 gjs-my-5"),col:!0,children:[h.jsx(Wo,{children:D("noSelecton")}),h.jsxs("ul",{className:xo("list-disc gjs-pl-5 gjs-mt-2"),children:[h.jsx("li",{children:D("selectFromCanvas")}),h.jsx("li",{children:D("selectFromList")})]})]})]})})),Mk="mailto:",Rk="subject=",Ak="tel:",zk=e=>e.startsWith(Ak)?"phone":e.startsWith(Mk)?"email":e.startsWith("page://")?"pages":e.startsWith("#")?"elements":"url",Hk=e=>`${e.getName()} - #${e.getId()}`,Dk=vo((function({trait:e}){const t=e.getValue(),n=kS(),{isSelectingTarget:r}=n,[,o]=s.useState(0),[i,a]=s.useState((()=>zk(t))),[l,c]=s.useState(""),[u,d]=s.useState(""),[p,f]=s.useState(""),[g,m]=s.useState(!0),[v,b]=s.useState([]),y=_f(),x=md(),w=y.Pages.getAll(),j=x.tScoped("traitManager.traits.labels"),S=()=>o((e=>++e)),C=t=>{e.setValue(t)};return s.useEffect((()=>{var e;const t=[];if(g){const n=["path","br","b","u","i","strike"],r=null==(e=y.Pages.getSelected())?void 0:e.getMainComponent();null==r||r.forEachChild((e=>{!e.is("comment")&&!e.is("textnode")&&!n.includes(e.get("tagName"))&&t.push({id:`#${e.getId()}`,label:Hk(e)})}))}b(t)}),[g]),s.useEffect((()=>{let e=()=>{};const t=()=>{e(),y.stopCommand(ff)};return r&&(e=_o(t),y.runCommand(ff,{onSelect:e=>C(`#${e.getId()}`)})),t}),[r]),s.useEffect((()=>{if(!t)return;const e=zk(t);switch(e){case"phone":f(t.replace(Ak,""));break;case"email":{const[e,n=""]=t.replace(Mk,"").split("?");c(e),d(n.replace(Rk,""));break}}a(e)}),[t]),h.jsx(pS,{onChange:e=>{a(e),c(""),d(""),f(""),C("")},classNamePanel:xo("gjs-p-1"),value:i,tabs:[{id:"url",label:h.jsx(si,{icon:ii.link,size:bi.s}),content:h.jsx(sg,{placeholder:"eg. https://google.com",value:t,label:"URL",onChange:C,size:"s",type:"url"})},{id:"pages",label:h.jsx(si,{icon:ii.textBoxMultiple,size:bi.s}),content:h.jsx(nv,{size:"s",options:w.map((e=>({id:`page://${e.getId()}`,label:e.getName()}))),value:t,onChange:e=>{C(e),S()},label:"Page"})},{id:"elements",label:h.jsx(si,{icon:ii.viewDayOutline,size:bi.s}),content:h.jsxs(Uo,{space:"s",col:!0,children:[h.jsx($p,{size:"s",children:"Element ID"}),h.jsxs(Uo,{space:"xs",nowrap:!0,children:[g?h.jsx(Ek,{options:v,onChange:e=>{e&&(C(e.id),S())},value:(e=>{const t=e.replace("#",""),n=y.Components.componentsById[t];return{id:e,label:n?Hk(n):e}})(t),placeholder:x.t("selectList")}):h.jsx(sg,{size:"s",placeholder:"eg. #my-element-in-page",value:t,onChange:C,className:xo("flex-1")}),h.jsx(Uu,{title:x.t("selectTarget"),size:"m2",active:r,onClick:()=>{n.setSelectingTarget(!r)},className:xo("h-7"),children:h.jsx(si,{icon:ii.target,size:bi.sx})})]}),h.jsx(sx,{value:g,onChange:m,label:j("showList")})]})},{id:"email",label:h.jsx(si,{icon:ii.email,size:bi.s}),content:h.jsxs(Uo,{space:"s",col:!0,children:[h.jsx(sg,{placeholder:"eg. mail@gmail.com",value:l,onChange:e=>{C(`${Mk}${e}${u?`?${Rk}${u}`:""}`),c(e)},size:"s",label:"Email",type:"email"}),h.jsx(sg,{placeholder:"eg. My subject",value:u,onChange:e=>{C(`${Mk}${l}${e?`?${Rk}${e}`:""}`),d(e)},label:"Subject",size:"s"})]})},{id:"phone",label:h.jsx(si,{icon:ii.phone,size:bi.s}),content:h.jsx(sg,{size:"s",type:"tel",label:"Phone",placeholder:"eg. +55123456789",value:p,onChange:e=>{C(`${Ak}${e}`),f(e)}})}]},i)}));function Ik({trait:e}){const[t,n]=s.useState(),r=e.get("properties"),o=e.get("addItem"),i=e.get("labelItem"),a=e.getValue(),l=a.findIndex((e=>e.id===(null==t?void 0:t.id)));return h.jsx(wy,{items:a,selected:l>-1?t:null,add:()=>{const t=a.length+1,n=o?o(t):{id:`opt${t}`,label:`New option ${t}`};e.setValue([...a,n])},select:n,move:(t,n)=>{const r=e.getValue().filter((e=>e.id!==t.id));r.splice(n,0,t),e.setValue(r)},remove:t=>{const n=e.getValue().filter((e=>e.id!==t.id));e.setValue(n,{removed:t})},label:e.getLabel({locale:!0}),renderItem:e=>i?i(e):e.label,children:h.jsx(Uo,{space:"m",col:!0,children:!!t&&r.map((t=>{const{name:r,getValue:o}=t,i=t.setValue,c=t.label||r,u=a[l];if(!u)return null;const d=u[r],p=o?o(d):d,f=t=>{const o={...u};u[r]=i?i(t,p):t,e.setValue([...a],{item:u,previous:o}),"id"===r&&n(u)};let g=h.jsx(sg,{label:c,value:p,onChange:f});if("select"===t.type)g=h.jsx(nv,{label:c,options:t.options,value:p,onChange:f});return h.jsx(s.Fragment,{children:g},r)}))})})}const Vk=e=>Mo(e.replace(/-/g," ")),Bk=(e,t)=>({type:e.getType(),size:"s",value:e.getValue(),label:Vk(e.getLabel()),placeholder:(null==t?void 0:t.t(`traitManager.traits.attributes.${e.getId()}.placeholder`))||e.get("placeholder")||"",onChange:(t,n)=>e.setValue(t,{partial:n})}),$k=e=>({...Bk(e),options:e.getOptions().map((e=>zo(e)?{id:e,label:e}:{id:e.id||e.value,title:e.title,label:e.labelReact||e.name||e.label||e.value})),onChange:t=>e.setValue(t)}),Fk=e=>({...Bk(e),units:e.get("units")}),Uk=e=>({children:Vk(e.getLabel()||e.get("text")),onClick:()=>{const t=e.em.Editor,n=e.get("command");zo(n)?t.runCommand(n):null==n||n(t,e)},full:!0}),Wk=e=>({size:"s",value:!!e.getValue(),label:Vk(e.getLabel()),onChange:t=>e.setValue(t)}),Kk=e=>({language:"css",...e.get("typeProps")||{},value:e.getValue(),label:Vk(e.getLabel()),onChange:t=>e.setValue(t)}),qk=(e,t)=>({...Bk(e,t),isContain:!0,onOpen(){const n=null==t?void 0:t.Assets;null==n||n.open({select(t){e.setValue(t.getSrc()),n.close()}})}});function Gk(e,t,n={}){var r;switch(e.getType()){case"select":return h.jsx(nv,{...$k(e)});case"number":return h.jsx(uv,{...Fk(e)});case"checkbox":return h.jsx(sx,{...Wk(e)});case"color":return h.jsx(yg,{...Bk(e)});case"button":return h.jsx(ki,{...Uk(e)});case"radio":return h.jsx(ih,{...$k(e)});case"code":return h.jsx(Kp,{...Kk(e),...n},(null==(r=null==t?void 0:t.getSelected())?void 0:r.getId())||"");case"image":case"file":return h.jsx(jy,{...qk(e,t)});case"stack":return h.jsx(Ik,{trait:e});case"href":return h.jsx(Dk,{trait:e});default:return h.jsx(sg,{...Bk(e,t)})}}function Yk({traits:e,className:t}){const n=_f(),{isDarkTheme:r}=hd();return h.jsx(Uo,{className:xo("gs-trait-manager",t),col:!0,children:n.getSelected()?e.length?e.map((e=>h.jsx(Wo,{className:xo("gjs-mb-2 w-full"),children:Gk(e,n,{isDarkTheme:r})},e.getId()))):h.jsx(Wo,{className:xo("text-center"),children:"No properties available"}):h.jsx(Wo,{className:xo("text-center"),children:n.t("traitManager.empty")})})}const Zk=s.forwardRef((function({children:e,className:t,content:n,...r},o){return h.jsx("div",{className:ni(yo("gs-design-manager-tab"),t),ref:o,...r,children:e})})),Xk=xo("overflow-y-auto overflow-x-hidden max-w-full"),Qk=vo((function(){var e,t,n;const{isCssPanelActive:r,selectedDesignerTab:o,showSelectors:i,setSelectedDesignerTab:a,sdkProps:s,sdkOptions:l,isProjectTypeEmail:c}=kS(),u=md(),d=xo(r&&"hidden"),p=((null==(e=$o(s.children,Zk))?void 0:e.filter(Boolean))||[]).map((({props:e},t)=>({id:e.id,label:e.label,content:h.jsx(Jf,{children:e.children}),order:e.order??2+t+1}))),f=null==(t=l.designPanel)?void 0:t.propsInStyles,g=null==(n=l.designPanel)?void 0:n.hideTabs,m=!0===f||c&&!1!==f,v=!0===g||c&&!1!==g,b=u.t("traitManager.panelLabel"),y=[{id:"style",label:u.t("styleManager.panelLabel"),order:1,content:h.jsxs(Uo,{col:!0,full:!0,children:[!!i&&h.jsx(Wo,{className:xo(fi.xyS,mi.bb,ci.br),children:h.jsx(Zf,{children:e=>h.jsx(Lk,{...e})})}),m&&h.jsx(Wo,{className:Xk,children:h.jsx(rh,{handler:b,className:Qy(!1),sticky:!0,open:!0,children:h.jsx(Qf,{children:e=>h.jsx(Yk,{...e,className:xo("gjs-p-2",ci.br,mi.bb)})})})}),h.jsx(Wo,{className:Xk,grow:!0,children:h.jsx(Xf,{children:e=>h.jsxs(h.Fragment,{children:[r&&h.jsx(Ok,{}),h.jsx(ax,{className:d,...e})]})})})]})},!m&&{id:"props",label:b,order:2,content:h.jsx(Uo,{col:!0,full:!0,children:h.jsx(Wo,{className:xo(fi.xyS,Xk),children:h.jsx(Qf,{children:e=>h.jsx(Yk,{...e})})})})},...p].filter(Boolean).sort(((e,t)=>e.order-t.order));return h.jsx(Uo,{col:!0,full:!0,nowrap:!0,children:h.jsx(pS,{value:o,onChange:a,tabs:y,className:xo(v&&"hidden")})})})),Jk=vo((function(e){const{rightSidebarSize:t,setRightSidebarSize:n,editor:r,isInPreview:o,isRightSidebarOpen:i}=kS(),a=s.useMemo((()=>({marginRight:o||!i?`-${t}px`:0})),[t,o,i]);return h.jsx(mk,{className:ni(xo(["h-full transition-spacing",mi.bl,ci.br]),e.className),left:!0,style:a,height:"100%",width:t,minWidth:200,maxWidth:400,onResize:()=>{null==r||r.refresh()},onResizeStop:(e,t,r)=>{n(r.getBoundingClientRect().width)},children:e.children??h.jsx(Qk,{})})})),eE=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),tE=eE?Promise.resolve().then((function(){return oE})):Promise.resolve().then((function(){return cE}));eE?Promise.resolve().then((function(){return sE})):Promise.resolve().then((function(){return uE}));const nE=eE?Promise.resolve().then((function(){return lE})):Promise.resolve().then((function(){return dE}));const rE=async e=>{const t=await e.getFile();return t.handle=e,t};var oE={__proto__:null,default:async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach(((e,n)=>{t[n]={description:e.description||"Files",accept:{}},e.mimeTypes?e.mimeTypes.map((r=>{t[n].accept[r]=e.extensions||[]})):t[n].accept["*/*"]=e.extensions||[]}));const n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(rE));return e[0].multiple?r:r[0]}};function iE(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(iE=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new iE(e)}const aE=async(e,t,n=e.name,r)=>{const o=[],i=[];var a,s=!1,l=!1;try{for(var c,u=function(e){var t,n,r,o=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new iE(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}(e.values());s=!(c=await u.next()).done;s=!1){const a=c.value,s=`${n}/${a.name}`;"file"===a.kind?i.push(a.getFile().then((t=>(t.directoryHandle=e,t.handle=a,Object.defineProperty(t,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>s}))))):"directory"!==a.kind||!t||r&&r(a)||o.push(aE(a,t,s,r))}}catch(e){l=!0,a=e}finally{try{s&&null!=u.return&&await u.return()}finally{if(l)throw a}}return[...(await Promise.all(o)).flat(),...await Promise.all(i)]};var sE={__proto__:null,default:async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||"read";const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return(await(await t.values()).next()).done?[t]:aE(t,e.recursive,void 0,e.skipDirectory)}},lE={__proto__:null,default:async(e,t=[{}],n=null,r=!1,o=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";const i=[];let a=null;if(e instanceof Blob&&e.type?a=e.type:e.headers&&e.headers.get("content-type")&&(a=e.headers.get("content-type")),t.forEach(((e,t)=>{i[t]={description:e.description||"Files",accept:{}},e.mimeTypes?(0===t&&a&&e.mimeTypes.push(a),e.mimeTypes.map((n=>{i[t].accept[n]=e.extensions||[]}))):a?i[t].accept[a]=e.extensions||[]:i[t].accept["*/*"]=e.extensions||[]})),n)try{await n.getFile()}catch(e){if(n=null,r)throw e}const s=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:i,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!n&&o&&o(s);const l=await s.createWritable();return"stream"in e?(await e.stream().pipeTo(l),s):"body"in e?(await e.body.pipeTo(l),s):(await l.write(await e),await l.close(),s)}},cE={__proto__:null,default:async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise(((t,n)=>{const r=document.createElement("input");r.type="file";const o=[...e.map((e=>e.mimeTypes||[])),...e.map((e=>e.extensions||[]))].join();r.multiple=e[0].multiple||!1,r.accept=o||"",r.style.display="none",document.body.append(r);const i=e=>{"function"==typeof a&&a(),t(e)},a=e[0].legacySetup&&e[0].legacySetup(i,(()=>a(n)),r),s=()=>{window.removeEventListener("focus",s),r.remove()};r.addEventListener("click",(()=>{window.addEventListener("focus",s)})),r.addEventListener("change",(()=>{window.removeEventListener("focus",s),r.remove(),i(r.multiple?Array.from(r.files):r.files[0])})),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})))},uE={__proto__:null,default:async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise(((t,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0;const o=e=>{"function"==typeof i&&i(),t(e)},i=e[0].legacySetup&&e[0].legacySetup(o,(()=>i(n)),r);r.addEventListener("change",(()=>{let t=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(t=t.filter((t=>t.webkitRelativePath.split("/").every((t=>!e[0].skipDirectory({name:t,kind:"directory"})))))):t=t.filter((e=>2===e.webkitRelativePath.split("/").length)),o(t)})),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})))},dE={__proto__:null,default:async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const n=document.createElement("a");let r=e;"body"in e&&(r=await async function(e,t){const n=e.getReader(),r=new ReadableStream({start:e=>async function t(){return n.read().then((({done:n,value:r})=>{if(!n)return e.enqueue(r),t();e.close()}))}()}),o=new Response(r),i=await o.blob();return n.releaseLock(),new Blob([i],{type:t})}(e.body,e.headers.get("content-type"))),n.download=t.fileName||"Untitled",n.href=URL.createObjectURL(await r);const o=()=>{"function"==typeof i&&i()},i=t.legacySetup&&t.legacySetup(o,(()=>i()),n);return n.addEventListener("click",(()=>{setTimeout((()=>URL.revokeObjectURL(n.href)),3e4),o()})),n.click(),null}};function pE({colors:e,...t}){return e?h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 79 79",...t,children:[h.jsx("path",{fill:"url(#a)",d:"M39.6 77.1a37.5 37.5 0 1 0 0-75 37.5 37.5 0 0 0 0 75Z"}),h.jsx("path",{stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"5",d:"m40 19-14.58 8.79a6.36 6.36 0 0 0-2.82 5.33v14.13a6.14 6.14 0 0 0 3.12 5.13l11.21 5.8a6.12 6.12 0 0 0 6.14 0l11.41-6.3a6.09 6.09 0 0 0 3.12-5.13V33.12c0-1.28-1.4-2.07-2.52-1.48l-15.08 8"}),h.jsx("defs",{children:h.jsxs("linearGradient",{id:"a",x1:"2.1",x2:"77.2",y1:"39.6",y2:"39.6",gradientUnits:"userSpaceOnUse",children:[h.jsx("stop",{stopColor:"#D7709E"}),h.jsx("stop",{offset:"1",stopColor:"#A84A87"})]})})]}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 76 76",...t,children:h.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M64.117 64.117a37.5 37.5 0 1 1-53.034-53.034 37.5 37.5 0 0 1 53.034 53.034ZM39.29 19.14a2.5 2.5 0 1 0-2.582-4.282l-14.583 8.79-.05.03-.047.032a8.861 8.861 0 0 0-2.917 3.229 8.729 8.729 0 0 0-1.011 4.203V45.293l.002.047a8.64 8.64 0 0 0 1.25 4.164 8.78 8.78 0 0 0 3.115 3.043l.05.03.053.027 11.165 5.769a8.62 8.62 0 0 0 4.264 1.127c1.507 0 2.99-.394 4.295-1.145l11.394-6.276.006-.004a8.585 8.585 0 0 0 3.178-3.05 8.443 8.443 0 0 0 1.227-4.225V31.123c0-3.265-3.502-5.122-6.19-3.688l-.005.003-15.076 7.995a2.5 2.5 0 0 0 2.342 4.418l13.93-7.387v12.263a3.444 3.444 0 0 1-.502 1.703 3.584 3.584 0 0 1-1.326 1.271l-.003.002-11.409 6.284-.024.014-.023.013a3.619 3.619 0 0 1-1.814.486 3.62 3.62 0 0 1-1.814-.486l-.052-.03-.054-.028-11.155-5.764a3.78 3.78 0 0 1-1.297-1.283 3.642 3.642 0 0 1-.527-1.715V31.081a3.73 3.73 0 0 1 .432-1.806 3.858 3.858 0 0 1 1.23-1.377L39.29 19.14Z",clipRule:"evenodd"})})}const fE={NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.19"}.REACT_APP_VERSION??"1.0.0",hE=vo((function(){var e;const t=null==(e=window.grapesjs)?void 0:e.version;return h.jsxs(Uo,{col:!0,space:"m",children:[h.jsx(Uo,{justify:"center",children:h.jsxs(Wo,{className:yo("relative"),children:[h.jsx(pE,{className:yo("w-24 opacity-50")}),t&&h.jsx(cS,{className:yo(ci.bgA,"absolute gs-utl-right-[-20px] bottom-0"),label:`v${t}`,s:"s",pill:!0})]})}),h.jsxs(Wo,{children:[h.jsxs("p",{children:[h.jsx("b",{children:"GrapesJS Studio"})," is an innovative experimental editor, initially created to improve and extend the customization capability of the"," ",h.jsx("a",{className:yo(xi.link),href:"https://grapesjs.com",children:"GrapesJS"})," ","library. Beyond pushing the evolution of the core library itself, this application aspires to empower individuals in creating and managing their web projects autonomously, free from subscriptions or dependency on the internet connection."]}),h.jsx("br",{}),h.jsxs("p",{children:["If you like the vision of this project and you're eager to play a role in its continued development, consider becoming a backer or sponsor through"," ",h.jsx("a",{className:yo(xi.link),href:"https://opencollective.com/grapesjs",children:"Open Collective"}),"."]})]}),h.jsxs(Wo,{className:yo(ci.txtLowEmphasis,"text-right"),children:["GrapesJS Studio: v",fE," (alpha)"]})]})})),gE=vo((function(){return h.jsxs(Uo,{col:!0,space:"m",children:[h.jsx(Uo,{justify:"center",children:h.jsx(Wo,{className:xo("relative"),children:h.jsx(pE,{className:xo("w-24 opacity-50")})})}),h.jsx(Wo,{children:h.jsxs("p",{children:["We're excited to introduce the GrapesJS Studio SDK, an embeddable version of the Studio editor.",h.jsx("br",{}),h.jsx("br",{}),"The Studio SDK offers a powerful and flexible web editing experience that can be seamlessly integrated into your platform as a white-label editor. This enables your users to effortlessly create and manage content with advanced tools.",h.jsx("br",{}),h.jsx("br",{}),"You can try the initial release of the Studio SDK by creating a license and following the instructions on the"," ",h.jsx("a",{className:xo(xi.link),href:"/dashboard/sdk/licenses",target:"_blank",children:"Studio SDK license page"}),h.jsx("br",{}),h.jsx("br",{}),"If you have any questions or need assistance with specific use cases, please fill out this"," ",h.jsx("a",{className:xo(xi.link),href:"https://forms.gle/VUycp3rc8iCpbh9k8",target:"_blank",rel:"noreferrer",children:"form"})," ","and we'll get back to you as soon as possible."]})})]})}));function mE({onCopy:e,getValue:t,value:n,title:r="Copy",...o}){const[i,a]=s.useState(!1);return s.useEffect((()=>{if(!i)return;const e=setTimeout((()=>a(!1)),3e3);return()=>clearTimeout(e)}),[i]),h.jsx(Uu,{onClick:()=>{((e="")=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)})((null==t?void 0:t())??n),a(!0),null==e||e()},title:r,type:"button",size:"lg",withBg:!0,...o,children:h.jsx(si,{className:yo(i&&ci.tA),icon:i?ii.check:ii.contentCopy,size:bi.s})})}const vE=[{id:"html",label:"HTML"},{id:"mjml",label:"MJML"}],bE=vo((function(e){const t=md(),n=kS(),{isProjectTypeEmail:r}=n,o=n.editor,[i,a]=s.useState(vE[0].id),[l,c]=s.useState(),{isDarkTheme:u}=hd(),[d]=s.useState((()=>_k(o.getCss()))),[p,f]=s.useState(),g={...e.options,...r?{export:!1}:{}};s.useEffect((()=>{var e;if(r){let t=o.getHtml();if("mjml"!==i)try{const n=o.runCommand("mjml-code-to-html");null!=(e=n.errors)&&e.length&&console.warn(n.errors),t=n.html}catch(e){console.error(e)}c(t)}else(async()=>{const e=(await Yp(o,{page:o.Pages.getSelected(),skipProject:!0,styles:"skip"})).find((e=>"text/html"===e.mimeType));e&&c(e.content)})()}),[i]),s.useEffect((()=>{var e;p&&(null==(e=p.getModel())||e.setValue(l),Fp(p))}),[p,l]);const m={padding:5,isDarkTheme:u,clean:!0};return h.jsxs(Uo,{col:!0,space:"m",children:[h.jsxs(Uo,{className:xo("h-96"),space:"m",children:[h.jsxs(Wo,{className:xo("relative"),grow:!0,children:[r&&h.jsxs(Uo,{className:xo("absolute top-3 right-3 z-10"),space:"s",nowrap:!0,children:[h.jsx(nv,{value:i,onChange:a,options:vE,className:xo("min-w-24")}),h.jsx(mE,{getValue:()=>p.getModel().getValue()})]}),void 0!==l&&h.jsx(Kp,{value:l,language:"html",onMount:f,...m})]}),!r&&h.jsx(Wo,{grow:!0,children:h.jsx(Kp,{value:d,language:"css",...m})})]}),!1!==g.export&&h.jsx(Uo,{justify:"end",children:h.jsx(ki,{size:"m2",variant:"pr",onClick:()=>{o.runCommand("gjs-export-zip",{filenamePfx:"gjs-export",root:async e=>{const t=await Yp(e),n={};for(const e in t){const r=t[e],{filename:o,content:i}=r;if(r.path){const e=r.path.split("/").filter(Boolean);let t=n;for(const n of e)t[n]=t[n]||{},t=t[n];t[o]=i}else n[o]=i}return n}})},children:(v="exportButton",t.t(`actions.showCode.${v}`))})})]});var v})),yE={position:{x:"left",y:"bottom"},offset:{y:10}},xE=[{id:nd.auto,label:"Auto"},{id:nd.dark,label:"Dark"},{id:nd.light,label:"Light"}],wE={size:"s"},jE=".grapesjs",SE=vo((function(){var e;const t=_f(),{Commands:n,UndoManager:r,Components:o}=t,[,i]=s.useState(0),{theme:a,setTheme:l}=hd(),c=kS(),{installEvent:u,appInstalled:d,isBrowserMode:p,setInstallEvent:f,sdkOptions:g,isProjectTypeEmail:m}=c,v=sd(),b=md(),y=e=>b.t(`actions.${e}`),x=null==(e=g.commands)?void 0:e.options,w=(({actions:e,editor:t,sdkOptions:n})=>{const r=n.actions;return!1===r?[]:Do(r)?r({actions:e,editor:t}):r||e})({actions:[{id:Xu.componentOutline,cmd:"core:component-outline",iconName:ii.borderRadius,title:"componentOutline.title"},{id:Xu.preview,cmd:"core:preview",iconName:ii.eye,title:"preview.title"},{id:Xu.fullscreen,cmd:"core:fullscreen",iconName:ii.fullscreen,options:{target:"body"},title:"fullscreen.title"},{id:Xu.showCode,cmd:()=>v.open({title:y("showCode.title"),content:()=>h.jsx(bE,{options:null==x?void 0:x[Xu.showCode]})}),iconName:ii.xml,title:"showCode.title"},{id:Xu.showImportCode,cmd:()=>v.open({title:y("importCode.title"),content:()=>h.jsx(Zp,{})}),iconName:ii.trayArrowDown,title:"importCode.title"},{id:Xu.clearCanvas,cmd:()=>v.confirm({title:y("clearCanvas.title"),content:y("clearCanvas.content"),onConfirm:()=>{var e;if(m){const t=null==(e=o.getWrapper())?void 0:e.findType("mjml")[0];null==t||t.components().forEach((e=>{e.components("")}))}else n.run("core:canvas-clear")}}),iconName:ii.delete,title:"clearCanvas.title"},{id:Xu.store,cmd:async()=>t.store(),content:h.jsxs("div",{className:xo("relative"),children:[h.jsx(si,{icon:ii.floppy,size:bi.s}),!!t.getDirtyCount()&&h.jsx("div",{className:xo("absolute right-0 gjs-p-0.5 bottom-0 gjs-rounded-full",ci.bg),children:h.jsx("div",{className:xo(yi.dot,ci.bgW)})}),c.isSaving&&h.jsx("div",{className:xo("absolute right-0 bottom-0 gjs-rounded-full",ci.bg),children:h.jsx(si,{icon:ii.refresh,size:"11px",className:xo(yi.spin)})})]}),title:"store.title",disabled:()=>c.isSaving},{id:Xu.undo,cmd:"core:undo",iconName:ii.arrowULeftTop,disabled:()=>!r.hasUndo(),title:""},{id:Xu.redo,cmd:"core:redo",iconName:ii.arrowURightTop,disabled:()=>!r.hasRedo(),title:""}],sdkOptions:g,editor:t});s.useEffect((()=>{const e="stop",n="change:changesCount",r=e=>{w.find((t=>t.cmd===e))&&i((e=>e+1))},o=()=>i((e=>e+1));return t.on("run",r),t.on(e,r),t.on(n,o),()=>{t.off("run",r),t.off(e,r),t.off(n,o)}}),[t]);const j=[{id:"about",label:y("about.title"),icon:ii.helpCircle,action:()=>v.open({size:"m",title:y("about.title"),content:()=>h.jsx(hE,{})})},{id:"embed",label:y("embed.title"),icon:ii.powerPlug,action:()=>v.open({size:"m",title:y("embed.title"),content:()=>h.jsx(gE,{})})},{id:"openProject",label:y("open.title"),icon:ii.folder,action:async()=>{const e=await(await async function(...e){return(await tE).default(...e)}({extensions:[jE]})).text();c.loadProjectData(JSON.parse(e))}},{id:"saveProject",label:y("save.title"),icon:ii.contentSave,action:async()=>{const e=t.getProjectData(),n=new Blob([JSON.stringify(e)]),r=`Untitled-${(new Date).toISOString().replace("T","-").replace(/:|\./g,"").substring(0,17)}`;await async function(...e){return(await nE).default(...e)}(n,{fileName:`${r}${jE}`,extensions:[jE]})}},{id:"loadProject",label:y("newProject.title"),icon:ii.newspaperVariantOutline,action:()=>v.open({fullH:!0,title:y("newProject.title"),content:()=>h.jsx(bS,{})})},{id:"installApp",label:y(d?"installApp.installed":"installApp.title"),icon:ii.applicationBracketsOutline,action:async()=>{if(d)return;null==u||u.prompt();const e=await(null==u?void 0:u.userChoice);"accepted"===(null==e?void 0:e.outcome)&&f()}},...g.customTheme?[]:[{id:"theme",label:h.jsxs(Uo,{items:"center",space:"m",children:[h.jsx(Wo,{children:"Theme"}),h.jsx(Wo,{children:h.jsx(pS,{tabs:xE,onChange:e=>l(e),value:a,variant:"pills"})})]})}]].filter((({id:e})=>!((!p||!u)&&"installApp"===e||!((e,t)=>{const n=null==e?void 0:e.settingsMenu;return!1!==n&&!1!==(null==n?void 0:n[t])})(g,e)))),S=(e,r)=>()=>{Do(e)?e({editor:t}):n.isActive(e)?n.stop(e):n.run(e,r)},C=(e,t)=>()=>{Do(e)&&(e(),t())};return h.jsxs(Uo,{space:"s",items:"center",justify:"end",className:xo(fi.xS),children:[w.map((({id:e,cmd:r,iconName:o,disabled:i,options:a,title:s,content:l})=>h.jsx(Wo,{children:h.jsx(Uu,{active:n.isActive(r),onClick:S(r,a),disabled:!!i&&i({editor:t}),title:y(s)||s,border:!1,size:"s",children:o?h.jsx(si,{icon:o,size:bi.s}):l?zo(l)&&l.trim().startsWith("<svg")?h.jsx(oi,{className:xo("w-4 fill-current"),svg:l}):l:null})},e))),h.jsx(Wo,{children:!1!==g.settingsMenu&&j.length>0&&h.jsx(pg,{pos:yE,title:!1,padding:!1,handler:h.jsx(si,{icon:ii.cog,size:bi.s}),buttonProps:wE,overlay:!0,children:({close:e})=>h.jsx(h.Fragment,{children:j.map((t=>h.jsx(LS,{action:C(t.action,e),icon:t.icon,label:t.label},t.id)))})})})]})}));function CE({devices:e,selected:t,className:n,select:r}){const o=e.map((e=>({id:e.id,label:e.getName()})));return o.length?h.jsx(nv,{size:"xs",className:n,value:t,options:o,onChange:r}):null}var kE=(e=>(e.primary="primary",e.shallow="shallow",e))(kE||{}),EE=(e=>(e.none="",e.xs="xs",e.s="s",e.m="m",e.lg="lg",e))(EE||{});const _E=s.memo(vo((function({className:e,children:t,tooltip:n,variant:r,onClick:o,editorEvents:i,label:a,size:l,icon:c,active:u}){const{editor:d}=kS(),[p,f]=s.useState((()=>({variant:r,active:u,className:e,tooltip:n,icon:c,size:l,label:a}))),g="primary"===p.variant?"pr":void 0;return s.useEffect((()=>{if(!i||!d)return;const e=Object.keys(i).reduce(((e,t)=>(e[t]=(e={})=>{i[t]({fromEvent:e,editor:d,state:p,setState:e=>f((t=>({...t,...e})))})},e)),{}),t=Object.keys(e);return t.forEach((t=>d.on(t,e[t]))),()=>{t.forEach((t=>d.off(t,e[t])))}}),[d,p]),h.jsx(Uu,{title:p.tooltip,className:ni("gs-cmp-button"),classNameWrp:p.className,variant:g,icon:p.icon,active:p.active,size:p.size,onClick:e=>{null==o||o({event:e,editor:d,state:p,setState:e=>f((t=>({...t,...e})))})},border:!1,block:!0,children:a||t})}))),OE=e=>({icon:ii.plus,size:bi.s,className:xo("gs-utl-transition-transform",e&&"gs-utl-rotate-45")}),TE=vo((function(e){const t=kS(),n=md(),{isOpen:r,toggleOpen:o}=id(),i=t.editor,a=n.tScoped("blockManager")("blocks"),s=(({items:e,editor:t,customItems:n})=>!1===n?[]:Do(n)?n({items:e,editor:t}):n||e)({items:[{id:`blocks-${a}`,tooltip:a,size:EE.s,icon:OE(r),variant:kE.primary,editorEvents:{[Zu.toggleBlocksPanel]:({fromEvent:e,setState:t})=>{t({icon:OE(e.isOpen)})}},onClick:()=>o()}],customItems:e.buttons,editor:i});return h.jsx(Uo,{space:"s",items:"center",justify:"start",className:xo(fi.xS),children:s.map((({id:e,...t})=>h.jsx(_E,{...t},e)))})})),PE=vo((function(e){const{topBarSize:t,isInPreview:n,editor:r}=kS(),o=e.height??t,{startContainerProps:i}=e,a=s.useMemo((()=>({height:o,marginTop:n?`-${o}px`:0})),[n]);return h.jsxs(h.Fragment,{children:[h.jsx(Wo,{className:xo(["transition-spacing w-full",mi.bb,ci.br]),style:a,children:h.jsxs(Uo,{className:xo("h-full"),items:"center",children:[h.jsx(Wo,{grow:!0,children:h.jsx(TE,{...i})}),h.jsx(Wo,{children:h.jsx(Bf,{children:e=>h.jsx(CE,{...e})})}),h.jsx(Wo,{grow:!0,children:h.jsx(Jf,{children:h.jsx(SE,{})})})]})}),h.jsx(Wo,{className:xo("transition-transform absolute top-0 left-0 z-10",!n&&"-translate-y-full"),children:h.jsx(ki,{className:xo("gjs-m-4",ci.bg),size:"s",onClick:()=>null==r?void 0:r.Commands.stop("core:preview"),children:h.jsx(si,{icon:ii.eyeOff,size:bi.s})})})]})})),NE=s.memo(vo((function(){const{isStage:e,updateStudio:t}=kS(),{isDarkTheme:n}=hd(),r=s.useRef(null),{bg:o,text:i}=ji(n);return dg({ref:r,show:e,update:n,reload:t,styles:{display:"flex",justifyContent:"center",position:"absolute",bottom:"0",right:"0",left:"0"},node:h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`\n              .gs-banner {\n                  box-shadow: 0 0 5px #1c1b1b21;\n                  padding: 30px 10px;\n                  border-radius: 10px;\n                  margin: 5px;\n                  font-size: 30px;\n                  background-color: ${o};\n                  color: ${i};\n                  width: 95%;\n              }\n              .gs-banner-row {\n                  justify-content: center;\n                  align-items: center;\n                  display: flex;\n                  gap: 10px;\n              }\n              .gs-gs-logo {\n                  width: 35px;\n              }\n            `}),h.jsx(Vu,{className:"gs-banner",children:h.jsxs(Uo,{className:"gs-banner-row",children:[h.jsx(pE,{className:"gs-gs-logo",colors:!0}),h.jsx("div",{children:"GrapesJS Studio Demo!"})]})})]})}),h.jsx("div",{ref:r})}))),LE=s.memo(vo((function(){const{updateStudio:e,showPoweredBy:t}=kS(),{isDarkTheme:n}=hd(),r=s.useRef(null),{bg:o,text:i,link:a}=ji(n);return dg({ref:r,show:t,update:n,reload:e,styles:{display:"flex",justifyContent:"center",position:"absolute",bottom:"0",left:"0"},node:h.jsxs(h.Fragment,{children:[h.jsx("style",{children:`\n              .gs-banner {\n                  box-shadow: 0 0 5px #1c1b1b21;\n                  padding: 5px 10px;\n                  border-radius: 9999px;\n                  margin: 5px;\n                  font-size: 12px;\n                  background-color: ${o};\n                  color: ${i};\n              }\n              .gs-banner-row {\n                  justify-content: center;\n                  align-items: center;\n                  display: flex;\n                  gap: 3px;\n              }\n              .gs-link {\n                  color: ${a};\n                  text-decoration: none;\n              }\n              .gs-logo {\n                  width: 20px;\n              }\n             `}),h.jsx(Vu,{className:"gs-banner",children:h.jsxs(Uo,{className:"gs-banner-row",children:[h.jsx("a",{className:"gs-link",href:`https://grapesjs.com?ref=${window.location.host}`,target:"_blank",children:"GrapesJS Studio"}),h.jsx(pE,{className:"gs-logo",colors:!0})]})})]})}),h.jsx("div",{ref:r})}))),ME=s.memo(vo((function(){const{isReady:e}=kS();return h.jsxs(h.Fragment,{children:[h.jsx("div",{children:!e&&h.jsx(dS,{className:yo("z-10"),abs:!0,full:!0})}),h.jsx(NE,{}),h.jsx(LE,{})]})})));function RE(e){const{className:t,value:n,label:r,size:o,description:i,placeholder:a,readOnly:s,disabled:l,onChange:c}=e,u=ag(e);return h.jsxs("div",{className:xo("gs-field-textarea",t),children:[!!r&&h.jsx($p,{size:o,children:r}),!!i&&h.jsx($p,{size:o,as:"span",className:xo(ci.txtLowEmphasis),capitalize:!1,children:i}),h.jsx(kk,{size:o,children:h.jsx("textarea",{className:xo(u),value:n,placeholder:a,readOnly:s,disabled:l,onChange:e=>null==c?void 0:c(e.target.value)})})]})}const AE="gs-page-settings",zE=`${AE}-header`,HE=`${AE}-content`,DE=`${AE}-footer`,IE=vo((function({className:e,classNameHeader:t,classNameContent:n,classNameFooter:r,page:o,size:i=og.m}){const a=kS(),{isDarkTheme:l}=hd(),c=md(),[u,d]=s.useState(o),[p,f]=s.useState((()=>_d(u,a))),[g,m]=s.useState((()=>c.t("update"))),v=c.tScoped("pageManager.settings"),b=c.tScoped("pageManager.settings.fields"),y=a.editor,x={containerClassName:yo("min-h-80"),size:i,padding:5,isDarkTheme:l,clean:!0},w=e=>f((t=>({...t,...e}))),j={tooltip:c.t("clear")},S=(null==u?void 0:u.getId())??"",C=(e=>e&&e===e.em.Pages.getMain())(u),k=[{id:"",label:v("global")},...y.Pages.getAll().map((e=>({id:e.getId(),label:e.getName()})))];return h.jsx("form",{onSubmit:e=>{e.preventDefault();const{name:t,...n}=p;n.customCodeHead=((e="")=>To(`<head>${e}</head>`).head.innerHTML)(n.customCodeHead),n.customCodeBody=((e="")=>To(`<body>${e}</body>`).body.innerHTML)(n.customCodeBody),u?(((e,t)=>{const n={...t},{head:r}=e.getMainComponent();if(r){const o=[],i=r.components();i.forEach((e=>{wd.title({cmp:e})?(e.components(t.title),delete n.title):wd.favicon({cmp:e})?(e.addAttributes({href:t.favicon}),delete n.favicon):wd.description({cmp:e})?(e.addAttributes({content:t.description}),delete n.description):wd.keywords({cmp:e})?(e.addAttributes({content:t.keywords}),delete n.keywords):wd.socialTitle({cmp:e})?(e.addAttributes({content:t.socialTitle}),delete n.socialTitle):wd.socialDescription({cmp:e})?(e.addAttributes({content:t.socialDescription}),delete n.socialDescription):wd.socialImage({cmp:e})?(e.addAttributes({content:t.socialImage}),delete n.socialImage):jd(e)||o.push(e)}));const a=e.em.Parser.parseHtml(`<!DOCTYPE html><html><head>${t.customCodeHead}</head></html>`);a.head&&(i.remove(o),a.head.components&&i.add(a.head.components),delete n.customCodeHead)}e.set("settings",n)})(u,n),u.setName(t)):a.setProjectDataCustom({globalPageSettings:n}),m(c.t("updated")),setTimeout((()=>m(c.t("update"))),2e3),(e=>{e.getModel().set({changesCount:e.getDirtyCount()+1})})(y)},className:yo(AE,"h-full",e),children:h.jsxs(Uo,{col:!0,full:!0,className:yo("gap-1 gs-utl-overflow-hidden"),nowrap:!0,children:[h.jsx(Wo,{className:yo(zE,t,ci.br,mi.bb),children:h.jsx(nv,{value:S,onChange:e=>{const t=y.Pages.get(e);d(t),f(_d(t,a))},options:k,handlerSelected:e=>h.jsxs(h.Fragment,{children:[h.jsx("b",{children:c.t("pageManager.page")}),": ",e.label]})})}),h.jsxs(Uo,{col:!0,className:yo(HE,"gap-5 overflow-y-auto",n),nowrap:!0,children:[!!S&&h.jsxs(h.Fragment,{children:[h.jsx(sg,{size:i,value:p.name,onChange:e=>w({name:e}),label:b("name.label"),description:b("name.description"),required:!0}),!C&&h.jsx(sg,{size:i,value:p.slug,onChange:e=>w({slug:Fo(e)}),label:b("slug.label"),description:b("slug.description"),required:!0})]}),h.jsx(sg,{size:i,value:p.title,onChange:e=>w({title:e}),label:b("title.label"),description:b("title.description")}),h.jsx(RE,{size:i,value:p.description,onChange:e=>w({description:e}),label:b("description.label"),description:b("description.description")}),h.jsx(jy,{size:i,clear:j,value:p.favicon,onChange:e=>w({favicon:e}),onOpen:()=>{y.Assets.open({select(e){w({favicon:e.getSrc()}),y.Assets.close()}})},label:b("favicon.label"),description:b("favicon.description")}),h.jsx(sg,{size:i,value:p.keywords,onChange:e=>w({keywords:e}),label:b("keywords.label"),description:b("keywords.description")}),h.jsx(sg,{size:i,value:p.socialTitle,onChange:e=>w({socialTitle:e}),label:b("socialTitle.label"),description:b("socialTitle.description")}),h.jsx(jy,{size:i,clear:j,value:p.socialImage,onChange:e=>w({socialImage:e}),onOpen:()=>{y.Assets.open({select(e){w({socialImage:e.getSrc()}),y.Assets.close()}})},label:b("socialImage.label"),description:b("socialImage.description")}),h.jsx(RE,{size:i,value:p.socialDescription,onChange:e=>w({socialDescription:e}),label:b("socialDescription.label"),description:b("socialDescription.description")}),h.jsx(Kp,{language:"html",value:p.customCodeHead,onChange:e=>w({customCodeHead:e}),label:b("customCodeHead.label"),description:b("customCodeHead.description"),...x},`head-${S}`),h.jsx(Kp,{language:"html",value:p.customCodeBody,onChange:e=>w({customCodeBody:e}),label:b("customCodeBody.label"),description:b("customCodeBody.description"),...x},`body-${S}`)]}),h.jsx(Uo,{className:yo(DE,"mt-auto",r,ci.br,mi.bt),children:h.jsx(ki,{type:"submit",variant:"pr",size:"m2",full:!0,children:g})})]})})})),VE=vo((function(){const e=md(),t=kS(),{panelPageSettings:n}=t,r=e.tScoped("pageManager.settings"),{isOpen:o,page:i,width:a}=n,s=xo("gs-panel-page-settings","absolute left-0 top-0 h-full transition-transform z-10",!o&&"-translate-x-full",mi.br,ci.br,ci.bg),l=xo(fi.s);return h.jsxs(Uo,{className:s,style:{width:a},col:!0,nowrap:!0,children:[h.jsx(Wo,{children:h.jsx(eC,{title:r("title"),onClose:()=>t.setPanelPageSettings({isOpen:!1}),className:l})}),h.jsx(Jf,{children:h.jsx(Wo,{className:xo("overflow-hidden"),grow:!0,children:n.isOpen&&h.jsx(IE,{page:i,size:og.s,classNameHeader:l,classNameContent:l,classNameFooter:l})})})]})})),BE=s.memo((function({children:e,className:t,style:n,width:r,gap:o,height:i,grow:a,alignItems:l,justifyContent:c,...u}){const d=s.useMemo((()=>({...n,height:i,gap:o,width:r})),[n,r,i,o]),p=ni(t,a&&"gs-utl-flex-grow","start"===l&&"gs-utl-items-start","end"===l&&"gs-utl-items-end","center"===l&&"gs-utl-items-center","baseline"===l&&"gs-utl-items-baseline","stretch"===l&&"gs-utl-items-stretch","start"===c&&"gs-utl-justify-start","end"===c&&"gs-utl-justify-end","center"===c&&"gs-utl-justify-center","between"===c&&"gs-utl-justify-between","around"===c&&"gs-utl-justify-around","evenly"===c&&"gs-utl-justify-evenly");return h.jsx("div",{style:d,className:p,...u,children:e})})),$E=s.memo((function({className:e,children:t,full:n,...r}){return h.jsx(BE,{className:ni("gs-cmp-row",ci.bg,"gs-utl-flex",n&&"gs-utl-w-full",e),...r,children:C_(t)})})),FE=s.memo((function({className:e,children:t,full:n,...r}){return h.jsx(BE,{className:ni("gs-cmp-column",ci.bg,"gs-utl-flex gs-utl-flex-col",n&&"gs-utl-h-full",e),...r,children:C_(t)})})),UE=s.memo((function({className:e}){return h.jsx(Vf,{className:ni("gs-studio-canvas","gs-utl-relative gs-utl-bg-gray-50 dark:gs-utl-bg-zinc-800",e),children:h.jsx(Jf,{children:h.jsx(ME,{})})})})),WE=s.memo(vo((function({className:e,header:t,...n}){const r=kS().sdkProps.children;return h.jsx(BE,{className:ni("gs-panel-layers","gs-utl-overflow-auto",e),...n,children:h.jsx(qf,{children:e=>h.jsxs(h.Fragment,{children:[$o(r,YC),h.jsx(qC,{header:t,...e}),$o(r,GC)]})})})}))),KE=s.memo(vo((function({className:e,header:t,height:n,...r}){const o=kS().sdkProps.children;return h.jsx(BE,{className:ni("gs-panel-pages",e),...r,children:h.jsx(Yf,{children:e=>h.jsxs(h.Fragment,{children:[$o(o,Sk),h.jsx(wk,{header:t,height:n,...e}),$o(o,jk)]})})})}))),qE=s.memo((function({className:e}){return h.jsx(Bf,{children:t=>h.jsx(CE,{className:ni("gs-studio-devices",e),...t})})})),GE=s.memo((function({className:e,variant:t,value:n,tabs:r}){const[o,i]=s.useState((()=>({value:n,variant:t}))),a=s.useMemo((()=>r.map((e=>({...e,content:C_(e.children)})))),[r]);return h.jsx(pS,{tabs:a,className:ni("gs-cmp-tabs",e),value:o.value,onChange:e=>{i((t=>({...t,value:e})))}})})),YE=s.memo(vo((function({className:e,...t}){return h.jsx(BE,{className:ni("gs-panel-selectors",e),...t,children:h.jsx(Zf,{children:e=>h.jsx(Lk,{...e})})})}))),ZE=s.memo(vo((function({className:e,...t}){const{isCssPanelActive:n}=kS(),r=ni(n&&" gs-utl-hidden");return h.jsx(BE,{className:ni("gs-panel-styles","gs-utl-overflow-auto gs-utl-h-full",e),...t,children:h.jsx(Xf,{children:e=>h.jsxs(h.Fragment,{children:[n&&h.jsx(Ok,{}),h.jsx(ax,{className:r,...e})]})})})}))),XE=s.memo(vo((function({className:e,...t}){return h.jsx(BE,{className:ni("gs-panel-properties","gs-utl-overflow-auto gs-utl-h-full",e),...t,children:h.jsx(Qf,{children:e=>h.jsx(Yk,{...e})})})}))),QE="gs-studio-panel",JE=s.memo((function({children:e,header:t,resizable:n,className:r,...o}){const i=h.jsx(BE,{className:ni(QE,r),...o,children:e}),a=n?!0===n?{top:!0,right:!0,bottom:!0,left:!0}:n:void 0,s=a?h.jsx(mk,{className:ni([`${QE}__resizer`]),...a,children:i}):i;return t?h.jsx(rh,{classNameWrap:`${QE}__accordion`,className:ni(`${QE}__accordion-header`,fi.xy),disabled:!1===t.collapsible,handler:h.jsx(Uo,{space:"s",items:"center",children:h.jsx(Wo,{grow:!0,children:t.label})}),open:!t||!0!==t.collapsed,children:s}):s})),e_=s.memo(vo((function({className:e,...t}){return h.jsx(JE,{className:ni("gs-panel-sidebar-tabs","gs-utl-h-full",e),...t,children:h.jsx(Qk,{})})}))),t_=s.memo(vo((function({className:e,...t}){const{showPages:n}=kS();return h.jsxs(JE,{className:ni("gs-panel-pages-layers","gs-utl-flex gs-utl-flex-col gs-utl-h-full",e),...t,children:[n&&h.jsx(KE,{className:ni(mi.bb,ci.br)}),h.jsx(WE,{})]})}))),n_=s.memo(vo((function({className:e,full:t,height:n,startContainerProps:r,...o}){return h.jsx(BE,{className:ni("gs-panel-topbar","gs-utl-flex",t&&"gs-utl-w-full",e),...o,children:h.jsx(PE,{height:n,startContainerProps:r})})}))),r_=s.memo(vo((function({className:e,topBarProps:t,...n}){return h.jsxs(BE,{className:ni("gs-panel-topbar-canvas","gs-utl-flex gs-utl-flex-col",e),...n,children:[h.jsx(n_,{...t}),h.jsx(UE,{className:ni("gs-utl-flex-grow")})]})}))),o_=s.memo(vo((function({className:e,children:t,width:n,resizable:r}){return h.jsx(Ck,{className:ni("gs-panel-left-sidebar",e),width:n,resizable:r,children:t?C_(t):void 0})}))),i_=s.memo(vo((function({className:e,children:t}){return h.jsx(Jk,{className:ni("gs-panel-right-sidebar",e),children:t?C_(t):void 0})}))),a_=s.memo(vo((function({className:e}){const t=kS().sdkProps.children;return h.jsxs(Jf,{children:[$o(t,iC),h.jsx(Wo,{className:ni("gs-panel-blocks","gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col",e),grow:!0,children:h.jsx(XS,{className:ni("gs-utl-overflow-hidden gs-utl-flex-nowrap"),isOpen:!0})}),$o(t,oC)]})}))),s_=s.memo(vo((function({className:e,page:t}){return h.jsx(Jf,{children:h.jsx(Wo,{className:ni("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col",e),grow:!0,children:h.jsx(IE,{className:ni("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),page:t,size:og.s,classNameHeader:fi.s,classNameContent:fi.s,classNameFooter:fi.s})})})}))),l_=e=>Mo(e.replace(/-/g," ")),c_=e=>e.get("defaultValue")||"",u_=e=>e.get("field"),d_=e=>`${e.get("value")||c_(e)||""}`,p_=(e,t)=>e||c_(t)||"",f_=({record:e,value:t,partial:n})=>{e.set({value:p_(t,e)},{partial:n}),e.em.refreshCanvas({tools:!0})},h_=e=>({className:"gs-utl-w-full",size:"s",value:d_(e),label:l_(e.get("label")||e.id||""),onChange:(t,n)=>f_({record:e,value:t,partial:n})}),g_=e=>{const t=u_(e),n=Io(t)?t:void 0,r=(null==n?void 0:n.units)||[],o=(e=>{const t=parseFloat(e);return{number:t||0===t?`${t}`:"",unit:e.replace(`${t}`,"").trim()}})(d_(e)),i=o.number,a=o.unit||r[0]||"";return{...h_(e),value:i,valueUnit:a,min:null==n?void 0:n.min,max:null==n?void 0:n.max,step:null==n?void 0:n.step,units:null==n?void 0:n.units,onChange:(t,n)=>{f_({value:t?`${t}${a}`:"",record:e,partial:n})},onChangeUnit:t=>{f_({value:i?`${i}${t}`:"",record:e})}}},m_=e=>{var t;const n=u_(e),r=Io(n)?n:void 0,o=(null==(t=null==r?void 0:r.options)?void 0:t.map((e=>zo(e)?{id:e,label:e}:e)))||[];return{...h_(e),options:o,onChange:t=>f_({value:t,record:e})}},v_=e=>{var t;const n=u_(e),r=Io(n)?n:void 0,o=(null==(t=null==r?void 0:r.options)?void 0:t.map((e=>zo(e)?{id:e,label:e}:e)))||[];return{...m_(e),size:"s",options:o}};function b_(e){const t=u_(e);switch(zo(t)?t:null==t?void 0:t.type){case"radio":return h.jsx(ih,{...v_(e)});case"select":return h.jsx(nv,{...m_(e)});case"number":return h.jsx(uv,{...g_(e)});case"color":return h.jsx(yg,{...h_(e)});default:return h.jsx(sg,{...h_(e)})}}const y_="gs-cmp-global-style-field",x_=vo((function({record:e}){const t=kS(),[,n]=s.useState(0),r=t.editor,o=e.id;return s.useEffect((()=>{if(!r)return;const t=`data:path:${e.getPath("value")}`,o=()=>n((e=>++e));return r.on(t,o),()=>{r.off(t,o)}}),[r]),h.jsx(Uo,{className:ni(y_,`${y_}__${o}`),children:b_(e)})})),w_=vo((function(){const e=kS(),{globalStyleManager:t}=e,n=t.getDataSource(),[r,o]=s.useState([]);return s.useEffect((()=>{n&&o(n.getRecords())}),[n]),h.jsx(Uo,{col:!0,full:!0,nowrap:!0,className:xo("gs-cmp-global-style-manager","flex-grow overflow-hidden"),children:h.jsx(Uo,{col:!0,nowrap:!0,className:xo(yi.scrollY,fi.xy,"select-none"),space:"s",children:r.map((e=>h.jsx(x_,{record:e},e.id)))})})})),j_=s.memo(vo((function({className:e,...t}){return h.jsx(BE,{className:ni("gs-panel-global-styles","gs-utl-overflow-auto",e),...t,children:h.jsx(Jf,{children:h.jsx(w_,{})})})}))),S_={row:$E,column:FE,button:_E,tabs:GE,canvas:UE,devices:qE,panelPages:KE,panelLayers:WE,panelSelectors:YE,panelStyles:ZE,panelProperties:XE,panelSidebarTabs:e_,panelPagesLayers:t_,panelTopbar:n_,panelTopbarCanvas:r_,panelLeftSidebar:o_,panelRightSidebar:i_,panelBlocks:a_,panelPageSettings:s_,panelGlobalStyles:j_},C_=e=>{const t=Array.isArray(e)?e:e?[e]:[],n=uw().layoutStore;return t.map(((e,t)=>{const{id:r,type:o,...i}=e||{},a=S_[o],s=n.layoutChildren.get(r);return s?h.jsx(tw,{...s},r||t):a?h.jsx(a,{...i},r||t):null}))},k_="gs-layout-panel",E_=s.memo(vo((function({className:e,layout:t,children:n}){const r=rw(),[o,i]=s.useState(!1),[a,l]=s.useState(null),{id:c,header:u,type:d,props:p,full:f=!0,style:g,toRemove:m}=t,v=()=>{i(!1),setTimeout((()=>r.remove(c,!0)),150)},b=t.placer||{type:td.absolute,position:ed.left},y=b.type===td.absolute?b:null,x=b.type===td.popover?b:null,w=(null==y?void 0:y.position)===ed.left,j=(null==y?void 0:y.position)===ed.right,S=(null==y?void 0:y.position)===ed.top,C=(null==y?void 0:y.position)===ed.bottom,k=!!y,E=s.useMemo((()=>({clientWidth:0,clientHeight:0,getBoundingClientRect:()=>new DOMRect(null==x?void 0:x.x,null==x?void 0:x.y)})),[null==x?void 0:x.x,null==x?void 0:x.y]),_=Ym(E,a,{strategy:"fixed",placement:"auto",modifiers:[{name:"offset",options:{offset:[0,10]}}],...null==x?void 0:x.options}),O=ni(k_,ci.br,ci.bg,ci.txt,"gs-utl-z-10",k&&"gs-utl-absolute gs-utl-transition",(w||S)&&"gs-utl-top-0 gs-utl-left-0",j&&"gs-utl-top-0 gs-utl-right-0",C&&"gs-utl-bottom-0 gs-utl-left-0",k&&f&&(w||j?"gs-utl-h-full":"gs-utl-w-full"),!o&&k?"gs-utl-opacity-0":"gs-utl-opacity-100",!o&&w&&"-gs-utl-translate-x-full",!o&&j&&"gs-utl-translate-x-full",!o&&S&&"-gs-utl-translate-y-full",!o&&C&&"gs-utl-translate-y-full",x&&mi.rnd,t.className,e);s.useEffect((()=>{const e=setTimeout((()=>i(!0)));return()=>clearTimeout(e)}),[]),s.useEffect((()=>{m&&v()}),[m]);const T={...g,width:(null==g?void 0:g.width)||(w||j?240:void 0)},P=h.jsxs(Uo,{className:O,style:T,col:!0,nowrap:!0,children:[!1!==u&&h.jsx(Wo,{className:ni(`${k_}__header`),children:h.jsx(eC,{title:null==u?void 0:u.label,onClose:v,className:yo(fi.s)})}),h.jsx(Wo,{className:ni(`${k_}__content`,"gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),grow:!0,children:d||c?C_({...p,id:c,type:d}):n})]});return x?h.jsx("div",{className:yo(k_,`${k_}-popover`,"gs-utl-z-20"),ref:l,style:_.styles.popper,..._.attributes.popper,children:h.jsx(Hu,{show:o,...pi,unmount:!1,children:P})}):P}))),__=vo((function({className:e,...t}){const{layouts:n}=rw();return h.jsx("div",{className:ni("gs-layout-panel-container",e),...t,children:n.map((e=>h.jsx(E_,{layout:e},e.id)))})})),O_=vo((function(){const e=kS(),{projectType:t,editorKey:n,setEditor:r,sdkProps:o,sdkOptions:i,sdkCurrentLayout:a}=e,{isDarkTheme:l}=hd(),c=Yx(),[u,d]=s.useMemo((()=>[Vx(t,i),c.getPluginsToLoad(t,e)]),[t,n]);return h.jsxs(Kf,{className:xo("gs-editor-gjs h-full w-full",mi.b,ci.br),grapesjs:i.gjsScript,grapesjsCss:i.gjsStyle,options:u,plugins:d,onEditor:t=>{var n,a;r(t),null==(n=o.onEditor)||n.call(o,t),null==(a=i.onEditor)||a.call(i,t),t.on("destroy",(()=>{var n;null==(n=i.onDestroy)||n.call(i,t),e.setIsReady(!1)}))},onReady:t=>{var n,r;null==(n=o.onReady)||n.call(o,t),null==(r=i.onReady)||r.call(i,t),e.setIsReady(!0)},onUpdate:(e,t)=>{var n,r;null==(n=o.onUpdate)||n.call(o,e,t),null==(r=i.onUpdate)||r.call(i,e,t)},children:[a?C_(a):h.jsxs(Uo,{className:xo("h-full overflow-hidden"),children:[h.jsx(Ck,{}),h.jsx(Wo,{grow:!0,children:h.jsxs(Uo,{className:xo("relative"),col:!0,full:!0,children:[h.jsx(PE,{}),h.jsx(Wo,{grow:!0,children:h.jsx(Vf,{className:xo("app-canvas relative bg-gray-50 dark:bg-zinc-800"),children:h.jsx(Jf,{children:h.jsx(ME,{})})})})]})}),h.jsx(Jk,{})]}),h.jsx(__,{}),h.jsx(aC,{}),h.jsx(VE,{}),h.jsx(If,{children:({assets:e,select:t,close:n,Container:r})=>h.jsx(r,{children:h.jsx(FS,{assets:e,select:t,close:n})})}),h.jsx(Gf,{children:({open:e,title:t,close:n,content:r})=>h.jsx(AS,{open:e,onClose:n,title:t,isDarkTheme:l,size:"l",children:r})}),h.jsx(VC,{}),h.jsx($C,{})]},n)})),T_=vo((function(){const e=kS(),{updateAppShell:t}=hd(),{editor:n,editorKey:r,sdkLicenseError:o,sdkMisconfigurationError:i}=e,a=sd(),l=md(),c=Yx();return bd(),s.useEffect((()=>{let n;return t&&document.querySelector("body").classList.add(...yo(ci.bg,"overflow-hidden").split(" ")),Lo()||(n=setTimeout((()=>e.loadLicense()),100)),()=>{clearTimeout(n)}}),[]),s.useEffect((()=>{i&&console.error(i)}),[i]),s.useEffect((()=>{if(!n)return;"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer((async t=>{if(!t.files.length)return;const n=await(await t.files[0].getFile()).text();e.loadProjectData(JSON.parse(n))}));const{plg:t}=e.queryParams;t&&!c.selectedShown&&a.open({fullH:!0,title:l.t("pluginManager.plugins"),content:()=>h.jsx(rC,{selectedId:t})})}),[n]),s.useEffect((()=>{}),[]),h.jsxs(Uo,{className:yo("relative transition-colors h-full",ci.bg,ci.txt),justify:"center",items:"center",col:!0,children:[!!r&&(o?h.jsxs(Uo,{col:!0,justify:"center",items:"center",children:[h.jsx("div",{children:"SDK License Error"}),h.jsx("span",{className:yo("text-sm"),children:o})]}):i?h.jsx(Uo,{col:!0,justify:"center",items:"center",children:h.jsx("div",{children:"SDK Misconfiguration Error"})}):h.jsx(O_,{})),h.jsx(Hu,{show:!r,as:s.Fragment,...pi,children:h.jsx(dS,{className:yo("z-10",ci.bg),abs:!0})})]})})),P_={licenseKey:"",settingsMenu:{about:!1,embed:!1,openProject:!1,saveProject:!1,loadProject:!1,installApp:!1}},N_=s.forwardRef((function(e,t){var n;const{options:r=P_}=e,o={theme:r.theme},i=r.localStorage,a=i?ld(i,o):o,s={localSettingsStore:{...a,key:i,updateAppShell:r.updateAppShell,rootEl:r.root},appEditorStore:{isDev:false,isStage:!!r.stg,licenseKey:r.licenseKey,projectType:(null==a?void 0:a.lastProjectType)||(null==(n=r.project)?void 0:n.type)||Iu.web,sdkProps:{...e,options:{...P_,gjsScript:"/static/assets/grapesjs/grapes.min.js",gjsStyle:"/static/assets/grapesjs/grapes.min.css",...r}}}};return h.jsx(lw,{initialState:s,children:h.jsx(VS,{ref:t,children:h.jsx(T_,{})})})})),L_=N_,M_=async e=>{const{root:t}=e,n=zo(t),r=n?document.querySelector(t):t;if(!r)return console.error("The 'root' element not found! "+(t?n?`Looks like you used a selector that doesn't exist: "${t}"`:"":"Ensure to provide 'root' as an option."));e.root=r,w.render(h.jsx(l.StrictMode,{children:h.jsx(N_,{options:e})}),r)};e.AssetStorageType=Qu,e.BuiltInActionButtons=Xu,e.GlobalStyleFieldType=rd,e.LayoutPlacers=td,e.LayoutPosition=ed,e.ProjectStorageType=Ju,e.StudioCommands=Yu,e.StudioEditor=L_,e.StudioEvents=Zu,e.ThemeValue=nd,e.ToastVariant=Wu,e.createStudioEditor=M_,e.default=M_,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})